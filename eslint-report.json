[{"filePath":"D:\\CLIENTES\\Wy Credito Tecnología\\web\\wy-credito Completo v1.0\\src\\App.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"D:\\CLIENTES\\Wy Credito Tecnología\\web\\wy-credito Completo v1.0\\src\\components\\Admin\\AdminDashboard.jsx","messages":[{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":34,"column":9,"nodeType":"MemberExpression","messageId":"unexpected","endLine":34,"endColumn":22,"suggestions":[{"messageId":"removeConsole","data":{"propertyName":"error"},"fix":{"range":[1389,1441],"text":""},"desc":"Remove the console.error()."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useState, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom'; // Importamos useNavigate\nimport { Box, Typography, Paper, Button } from '@mui/material';\nimport { DataGrid } from '@mui/x-data-grid';\nimport { supabase } from '../../lib/supabaseClient';\n\nconst columns = [\n  { field: 'id', headerName: 'ID Solicitud', width: 250 },\n  { field: 'created_at', headerName: 'Fecha', width: 150,\n    valueFormatter: (params) => new Date(params.value).toLocaleDateString('es-CO'),\n  },\n  { field: 'estado', headerName: 'Estado', width: 120 },\n  { field: 'monto_solicitado', headerName: 'Monto Solicitado', width: 180,\n    valueFormatter: (params) => new Intl.NumberFormat('es-CO', { style: 'currency', currency: 'COP' }).format(params.value),\n  },\n  { field: 'plazo_seleccionado', headerName: 'Plazo (Meses)', width: 130 },\n  { field: 'email_solicitante', headerName: 'Email del Solicitante', width: 250 },\n];\n\nconst AdminDashboard = () => {\n  const [solicitudes, setSolicitudes] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const navigate = useNavigate(); // Hook para navegar\n\n  useEffect(() => {\n    const fetchSolicitudes = async () => {\n      setLoading(true);\n      const { data, error } = await supabase\n        .from('solicitudes')\n        .select('*')\n        .order('created_at', { ascending: false });\n\n      if (error) {\n        console.error('Error fetching solicitudes:', error);\n      } else {\n        setSolicitudes(data);\n      }\n      setLoading(false);\n    };\n    fetchSolicitudes();\n  }, []);\n\n  const handleRowClick = (params) => {\n    navigate(`/admin/solicitud/${params.id}`); // Navegamos a la vista de detalle\n  };\n\n  return (\n    <Paper sx={{ p: 3, m: 2, borderRadius: 4 }}>\n      <Box sx={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', mb: 2 }}>\n        <Typography variant=\"h4\" sx={{ fontFamily: 'Segoe UI', fontWeight: 'bold' }}>\n          Panel de Administración de Solicitudes\n        </Typography>\n        <Button \n          variant=\"contained\" \n          color=\"primary\" \n          onClick={() => navigate('/admin/dashboard')}\n          sx={{ fontWeight: 'bold' }}\n        >\n          Ver Dashboard de Métricas\n        </Button>\n      </Box>\n      <Box sx={{ height: 600, width: '100%' }}>\n        <DataGrid\n          rows={solicitudes}\n          columns={columns}\n          loading={loading}\n          pageSizeOptions={[10, 25, 50]}\n          onRowClick={handleRowClick} // Añadimos el evento de clic\n          sx={{ '& .MuiDataGrid-row:hover': { cursor: 'pointer' } }}\n          initialState={{\n            pagination: {\n              paginationModel: { pageSize: 10 },\n            },\n          }}\n        />\n      </Box>\n    </Paper>\n  );\n};\n\nexport default AdminDashboard;","usedDeprecatedRules":[{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"D:\\CLIENTES\\Wy Credito Tecnología\\web\\wy-credito Completo v1.0\\src\\components\\Admin\\MetricsDashboard.jsx","messages":[{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":54,"column":7,"nodeType":"MemberExpression","messageId":"unexpected","endLine":54,"endColumn":20,"suggestions":[{"messageId":"removeConsole","data":{"propertyName":"error"},"fix":{"range":[1055,1101],"text":""},"desc":"Remove the console.error()."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useState, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport {\n  Box,\n  Grid,\n  Card,\n  CardContent,\n  Typography,\n  CircularProgress,\n  Alert,\n  Paper,\n  Chip,\n  Button\n} from '@mui/material';\nimport {\n  BarChart,\n  Bar,\n  XAxis,\n  YAxis,\n  CartesianGrid,\n  Tooltip,\n  Legend,\n  PieChart,\n  Pie,\n  Cell,\n  LineChart,\n  Line,\n  ResponsiveContainer\n} from 'recharts';\nimport { getDashboardMetrics } from '../../services/solicitud';\n\nconst COLORS = ['#0088FE', '#00C49F', '#FFBB28', '#FF8042', '#8884D8'];\n\nconst MetricsDashboard = () => {\n  const navigate = useNavigate();\n  const [metrics, setMetrics] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n\n  useEffect(() => {\n    fetchMetrics();\n  }, []);\n\n  const fetchMetrics = async () => {\n    try {\n      setLoading(true);\n      setError(null);\n      \n      // Llamar a la función PostgreSQL\n      const data = await getDashboardMetrics();\n      \n      setMetrics(data);\n    } catch (err) {\n      console.error('Error fetching metrics:', err);\n      setError('Error al cargar las métricas del dashboard');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const formatCurrency = (amount) => {\n    return new Intl.NumberFormat('es-CO', {\n      style: 'currency',\n      currency: 'COP',\n      minimumFractionDigits: 0,\n      maximumFractionDigits: 0\n    }).format(amount);\n  };\n\n  const formatNumber = (number) => {\n    return new Intl.NumberFormat('es-CO').format(number);\n  };\n\n  if (loading) {\n    return (\n      <Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\" minHeight=\"400px\">\n        <CircularProgress />\n      </Box>\n    );\n  }\n\n  if (error) {\n    return (\n      <Alert severity=\"error\" sx={{ m: 2 }}>\n        {error}\n      </Alert>\n    );\n  }\n\n  if (!metrics) {\n    return (\n      <Alert severity=\"warning\" sx={{ m: 2 }}>\n        No se pudieron cargar las métricas\n      </Alert>\n    );\n  }\n\n  // Preparar datos para los gráficos\n  const statusData = metrics.status_distribution?.map(item => ({\n    name: item.status,\n    value: item.count,\n    label: item.status === 'pendiente' ? 'Pendiente' :\n           item.status === 'aprobada' ? 'Aprobada' :\n           item.status === 'rechazada' ? 'Rechazada' :\n           item.status === 'incompleta' ? 'Incompleta' :\n           item.status\n  })) || [];\n\n  const monthlyData = metrics.monthly_applications || [];\n\n  return (\n    <Box sx={{ p: 3 }}>\n      <Box sx={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', mb: 3 }}>\n        <Typography variant=\"h4\">\n          Dashboard de Métricas - Wy Crédito\n        </Typography>\n        <Button \n          variant=\"outlined\" \n          onClick={() => navigate('/admin')}\n          sx={{ fontWeight: 'bold' }}\n        >\n          Volver al Panel Admin\n        </Button>\n      </Box>\n      \n      {/* Métricas principales */}\n      <Grid container spacing={3} sx={{ mb: 4 }}>\n        <Grid item xs={12} sm={6} md={3}>\n          <Card>\n            <CardContent>\n              <Typography color=\"textSecondary\" gutterBottom>\n                Total Solicitudes\n              </Typography>\n              <Typography variant=\"h4\" component=\"div\">\n                {formatNumber(metrics.total_applications)}\n              </Typography>\n            </CardContent>\n          </Card>\n        </Grid>\n        \n        <Grid item xs={12} sm={6} md={3}>\n          <Card>\n            <CardContent>\n              <Typography color=\"textSecondary\" gutterBottom>\n                Monto Promedio\n              </Typography>\n              <Typography variant=\"h4\" component=\"div\">\n                {formatCurrency(metrics.average_amount)}\n              </Typography>\n            </CardContent>\n          </Card>\n        </Grid>\n        \n        <Grid item xs={12} sm={6} md={3}>\n          <Card>\n            <CardContent>\n              <Typography color=\"textSecondary\" gutterBottom>\n                Monto Total\n              </Typography>\n              <Typography variant=\"h4\" component=\"div\">\n                {formatCurrency(metrics.total_amount)}\n              </Typography>\n            </CardContent>\n          </Card>\n        </Grid>\n        \n        <Grid item xs={12} sm={6} md={3}>\n          <Card>\n            <CardContent>\n              <Typography color=\"textSecondary\" gutterBottom>\n                Solicitudes Hoy\n              </Typography>\n              <Typography variant=\"h4\" component=\"div\">\n                {formatNumber(metrics.applications_today)}\n              </Typography>\n            </CardContent>\n          </Card>\n        </Grid>\n      </Grid>\n\n      {/* Métricas por período */}\n      <Grid container spacing={3} sx={{ mb: 4 }}>\n        <Grid item xs={12} sm={4}>\n          <Card>\n            <CardContent>\n              <Typography color=\"textSecondary\" gutterBottom>\n                Esta Semana\n              </Typography>\n              <Typography variant=\"h5\" component=\"div\">\n                {formatNumber(metrics.applications_this_week)}\n              </Typography>\n            </CardContent>\n          </Card>\n        </Grid>\n        \n        <Grid item xs={12} sm={4}>\n          <Card>\n            <CardContent>\n              <Typography color=\"textSecondary\" gutterBottom>\n                Este Mes\n              </Typography>\n              <Typography variant=\"h5\" component=\"div\">\n                {formatNumber(metrics.applications_this_month)}\n              </Typography>\n            </CardContent>\n          </Card>\n        </Grid>\n        \n        <Grid item xs={12} sm={4}>\n          <Card>\n            <CardContent>\n              <Typography color=\"textSecondary\" gutterBottom>\n                Estados de Solicitudes\n              </Typography>\n              <Box sx={{ display: 'flex', flexWrap: 'wrap', gap: 1, mt: 1 }}>\n                <Chip \n                  label={`Pendientes: ${metrics.pending_applications}`} \n                  color=\"warning\" \n                  size=\"small\" \n                />\n                <Chip \n                  label={`Aprobadas: ${metrics.approved_applications}`} \n                  color=\"success\" \n                  size=\"small\" \n                />\n                <Chip \n                  label={`Rechazadas: ${metrics.rejected_applications}`} \n                  color=\"error\" \n                  size=\"small\" \n                />\n              </Box>\n            </CardContent>\n          </Card>\n        </Grid>\n      </Grid>\n\n      {/* Gráficos */}\n      <Grid container spacing={3}>\n        {/* Distribución por Estado */}\n        <Grid item xs={12} md={6}>\n          <Paper sx={{ p: 2 }}>\n            <Typography variant=\"h6\" gutterBottom>\n              Distribución por Estado\n            </Typography>\n            <ResponsiveContainer width=\"100%\" height={300}>\n              <PieChart>\n                <Pie\n                  data={statusData}\n                  cx=\"50%\"\n                  cy=\"50%\"\n                  labelLine={false}\n                  label={({ name, percent }) => `${name} ${(percent * 100).toFixed(0)}%`}\n                  outerRadius={80}\n                  fill=\"#8884d8\"\n                  dataKey=\"value\"\n                >\n                  {statusData.map((entry, index) => (\n                    <Cell key={`cell-${index}`} fill={COLORS[index % COLORS.length]} />\n                  ))}\n                </Pie>\n                <Tooltip />\n              </PieChart>\n            </ResponsiveContainer>\n          </Paper>\n        </Grid>\n\n        {/* Solicitudes por Mes */}\n        <Grid item xs={12} md={6}>\n          <Paper sx={{ p: 2 }}>\n            <Typography variant=\"h6\" gutterBottom>\n              Solicitudes por Mes\n            </Typography>\n            <ResponsiveContainer width=\"100%\" height={300}>\n              <LineChart data={monthlyData}>\n                <CartesianGrid strokeDasharray=\"3 3\" />\n                <XAxis dataKey=\"month\" />\n                <YAxis />\n                <Tooltip />\n                <Legend />\n                <Line \n                  type=\"monotone\" \n                  dataKey=\"count\" \n                  stroke=\"#8884d8\" \n                  strokeWidth={2}\n                  name=\"Solicitudes\"\n                />\n              </LineChart>\n            </ResponsiveContainer>\n          </Paper>\n        </Grid>\n\n        {/* Gráfico de barras por estado */}\n        <Grid item xs={12}>\n          <Paper sx={{ p: 2 }}>\n            <Typography variant=\"h6\" gutterBottom>\n              Resumen por Estado\n            </Typography>\n            <ResponsiveContainer width=\"100%\" height={300}>\n              <BarChart data={statusData}>\n                <CartesianGrid strokeDasharray=\"3 3\" />\n                <XAxis dataKey=\"label\" />\n                <YAxis />\n                <Tooltip />\n                <Legend />\n                <Bar dataKey=\"value\" fill=\"#8884d8\" name=\"Cantidad de Solicitudes\" />\n              </BarChart>\n            </ResponsiveContainer>\n          </Paper>\n        </Grid>\n      </Grid>\n    </Box>\n  );\n};\n\nexport default MetricsDashboard;","usedDeprecatedRules":[{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"D:\\CLIENTES\\Wy Credito Tecnología\\web\\wy-credito Completo v1.0\\src\\components\\Admin\\SolicitudDetail.jsx","messages":[{"ruleId":"no-unused-vars","severity":1,"message":"'Box' is defined but never used.","line":3,"column":10,"nodeType":"Identifier","messageId":"unusedVar","endLine":3,"endColumn":13},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":26,"column":9,"nodeType":"MemberExpression","messageId":"unexpected","endLine":26,"endColumn":22,"suggestions":[{"messageId":"removeConsole","data":{"propertyName":"error"},"fix":{"range":[891,941],"text":""},"desc":"Remove the console.error()."}]},{"ruleId":"no-unused-vars","severity":1,"message":"'representantes' is assigned a value but never used.","line":47,"column":9,"nodeType":"Identifier","messageId":"unusedVar","endLine":47,"endColumn":23}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useState, useEffect } from 'react';\nimport { useParams, Link } from 'react-router-dom';\nimport { Box, Typography, Paper, CircularProgress, Grid, List, ListItem, ListItemText, Divider, Button } from '@mui/material';\nimport { supabase } from '../../lib/supabaseClient';\n\nconst SolicitudDetail = () => {\n  const { id } = useParams(); // Obtiene el ID de la solicitud desde la URL\n  const [solicitud, setSolicitud] = useState(null);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    const fetchSolicitud = async () => {\n      setLoading(true);\n      const { data, error } = await supabase\n        .from('solicitudes')\n        .select(`\n          *,\n          empresas(*),\n          representantes_legales(*),\n          documentos(*)\n        `)\n        .eq('id', id)\n        .single(); // .single() para obtener un solo registro\n\n      if (error) {\n        console.error('Error fetching solicitud:', error);\n      } else {\n        setSolicitud(data);\n      }\n      setLoading(false);\n    };\n\n    if (id) {\n      fetchSolicitud();\n    }\n  }, [id]);\n\n  if (loading) {\n    return <CircularProgress />;\n  }\n\n  if (!solicitud) {\n    return <Typography>No se encontró la solicitud.</Typography>;\n  }\n\n  const empresa = solicitud.empresas[0] || {};\n  const representantes = solicitud.representantes_legales || [];\n  const documentos = solicitud.documentos || [];\n\n  return (\n    <Paper sx={{ p: 3, m: 2, borderRadius: 4 }}>\n      <Button component={Link} to=\"/admin\" sx={{ mb: 2 }}>&larr; Volver a la lista</Button>\n      <Typography variant=\"h4\" gutterBottom sx={{ fontFamily: 'Segoe UI', fontWeight: 'bold' }}>\n        Detalle de Solicitud #{solicitud.id.substring(0, 8)}\n      </Typography>\n      <Grid container spacing={3}>\n        <Grid item xs={12} md={6}>\n          <Typography variant=\"h6\" gutterBottom>Datos Generales</Typography>\n          <List dense>\n            <ListItem><ListItemText primary=\"Estado\" secondary={solicitud.estado} /></ListItem>\n            <ListItem><ListItemText primary=\"Monto Solicitado\" secondary={new Intl.NumberFormat('es-CO', { style: 'currency', currency: 'COP' }).format(solicitud.monto_solicitado)} /></ListItem>\n            <ListItem><ListItemText primary=\"Plazo\" secondary={`${solicitud.plazo_seleccionado} meses`} /></ListItem>\n            <ListItem><ListItemText primary=\"Email Contacto\" secondary={solicitud.email_solicitante} /></ListItem>\n          </List>\n        </Grid>\n        <Grid item xs={12} md={6}>\n          <Typography variant=\"h6\" gutterBottom>Datos de la Empresa</Typography>\n          <List dense>\n            <ListItem><ListItemText primary=\"Razón Social\" secondary={empresa.razon_social || 'N/A'} /></ListItem>\n            <ListItem><ListItemText primary=\"NIT\" secondary={empresa.nit || 'N/A'} /></ListItem>\n            <ListItem><ListItemText primary=\"Sitio Web\" secondary={empresa.sitio_web || 'N/A'} /></ListItem>\n          </List>\n        </Grid>\n        <Grid item xs={12}>\n          <Divider sx={{ my: 2 }} />\n          <Typography variant=\"h6\" gutterBottom>Documentos Adjuntos</Typography>\n          <List>\n            {documentos.length > 0 ? documentos.map(doc => (\n              <ListItem key={doc.id}>\n                <Button variant=\"outlined\" href={doc.url_archivo} target=\"_blank\" rel=\"noopener noreferrer\">\n                  Ver {doc.tipo_documento.replace(/_/g, ' ')}\n                </Button>\n              </ListItem>\n            )) : <Typography>No hay documentos adjuntos.</Typography>}\n          </List>\n        </Grid>\n      </Grid>\n    </Paper>\n  );\n};\n\nexport default SolicitudDetail;","usedDeprecatedRules":[{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"D:\\CLIENTES\\Wy Credito Tecnología\\web\\wy-credito Completo v1.0\\src\\components\\ApplicationView\\ApplicationView.jsx","messages":[{"ruleId":"no-unused-vars","severity":1,"message":"'Grid' is defined but never used.","line":2,"column":10,"nodeType":"Identifier","messageId":"unusedVar","endLine":2,"endColumn":14},{"ruleId":"no-unused-vars","severity":1,"message":"'ProgressSidebar' is defined but never used.","line":3,"column":8,"nodeType":"Identifier","messageId":"unusedVar","endLine":3,"endColumn":23},{"ruleId":"no-unused-vars","severity":1,"message":"'ChatInterface' is defined but never used.","line":4,"column":8,"nodeType":"Identifier","messageId":"unusedVar","endLine":4,"endColumn":21},{"ruleId":"no-unused-vars","severity":1,"message":"'currentUiType' is assigned a value but never used.","line":16,"column":10,"nodeType":"Identifier","messageId":"unusedVar","endLine":16,"endColumn":23},{"ruleId":"no-unused-vars","severity":1,"message":"'currentOptions' is assigned a value but never used.","line":17,"column":10,"nodeType":"Identifier","messageId":"unusedVar","endLine":17,"endColumn":24},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":52,"column":9,"nodeType":"MemberExpression","messageId":"unexpected","endLine":52,"endColumn":22,"suggestions":[{"messageId":"removeConsole","data":{"propertyName":"error"},"fix":{"range":[2164,2212],"text":""},"desc":"Remove the console.error()."}]},{"ruleId":"no-unused-vars","severity":1,"message":"'handleButtonClick' is assigned a value but never used.","line":64,"column":9,"nodeType":"Identifier","messageId":"unusedVar","endLine":64,"endColumn":26},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":94,"column":7,"nodeType":"MemberExpression","messageId":"unexpected","endLine":94,"endColumn":20,"suggestions":[{"messageId":"removeConsole","data":{"propertyName":"error"},"fix":{"range":[3412,3459],"text":""},"desc":"Remove the console.error()."}]},{"ruleId":"no-unused-vars","severity":1,"message":"'handleSend' is assigned a value but never used.","line":104,"column":9,"nodeType":"Identifier","messageId":"unusedVar","endLine":104,"endColumn":19},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":131,"column":7,"nodeType":"MemberExpression","messageId":"unexpected","endLine":131,"endColumn":20,"suggestions":[{"messageId":"removeConsole","data":{"propertyName":"error"},"fix":{"range":[4480,4527],"text":""},"desc":"Remove the console.error()."}]},{"ruleId":"no-unused-vars","severity":1,"message":"'handleFileUpload' is assigned a value but never used.","line":141,"column":9,"nodeType":"Identifier","messageId":"unusedVar","endLine":141,"endColumn":25},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":152,"column":7,"nodeType":"MemberExpression","messageId":"unexpected","endLine":152,"endColumn":20,"suggestions":[{"messageId":"removeConsole","data":{"propertyName":"error"},"fix":{"range":[5114,5171],"text":""},"desc":"Remove the console.error()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":189,"column":7,"nodeType":"MemberExpression","messageId":"unexpected","endLine":189,"endColumn":20,"suggestions":[{"messageId":"removeConsole","data":{"propertyName":"error"},"fix":{"range":[6344,6391],"text":""},"desc":"Remove the console.error()."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":13,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useState, useEffect } from 'react';\nimport { Grid, Box, Button } from '@mui/material';\nimport ProgressSidebar from './ProgressSidebar';\nimport ChatInterface from './ChatInterface';\nimport { supabase } from '../../lib/supabaseClient';\nimport { OrquestadorWally } from '../../services/orquestador';\nimport MainLayout from '../MainLayout';\n\nconst ApplicationView = ({ initialData, onCancel }) => {\n  const [currentStep, setCurrentStep] = useState(0);\n  const [messages, setMessages] = useState([]);\n  const [input, setInput] = useState('');\n  const [isLoading, setIsLoading] = useState(true);\n  const [sessionId, setSessionId] = useState(null);\n  const [orquestador] = useState(() => new OrquestadorWally());\n  const [currentUiType, setCurrentUiType] = useState(null);\n  const [currentOptions, setCurrentOptions] = useState(null);\n\n  useEffect(() => {\n    const createSession = async () => {\n      setIsLoading(true);\n      try {\n        const { data, error } = await supabase\n          .from('solicitudes')\n          .insert([{\n            monto_solicitado: initialData.amount,\n            plazo_seleccionado: initialData.term,\n            estado: 'pendiente'\n          }])\n          .select('id')\n          .single();\n        \n        if (error) throw error;\n        \n        setSessionId(data.id);\n        \n        // Lógica para construir el mensaje del paso 0\n        const initialAmount = initialData.amount || 50000000; // O de donde provenga el monto inicial\n        const formattedAmount = new Intl.NumberFormat('es-CO', { \n          style: 'currency', \n          currency: 'COP', \n          minimumFractionDigits: 0 \n        }).format(initialAmount);\n        \n        const welcomeMessage = `¡Hola! Soy Wally, su asistente de crédito de Wy Crédito.\\n\\nVeo que deseas solicitar un crédito por un monto de ${formattedAmount} COP.\\n\\nPara dar inicio a tu solicitud, voy a realizarte una serie de preguntas y a solicitarte algunos documentos. ¿Estás listo para empezar? Primero, ¿cuál es tu nombre completo?`;\n        \n        setMessages([{\n          sender: 'wally',\n          text: welcomeMessage\n        }]);\n      } catch (error) {\n        console.error(\"Error creating session:\", error);\n        setMessages([{\n          sender: 'wally',\n          text: 'Lo siento, hubo un problema al iniciar su solicitud. Por favor, intente de nuevo.'\n        }]);\n      } finally {\n        setIsLoading(false);\n      }\n    };\n    createSession();\n  }, [initialData]);\n\n  const handleButtonClick = async (optionValue) => {\n    if (isLoading || !sessionId) return;\n    \n    const userMessage = { sender: 'user', text: optionValue };\n    const newMessages = [...messages, userMessage];\n    setMessages(newMessages);\n    setIsLoading(true);\n    \n    // Limpiar las opciones actuales ya que el usuario seleccionó una\n    setCurrentUiType(null);\n    setCurrentOptions(null);\n    \n    try {\n      const data = await orquestador.procesarMensaje({\n        messages: newMessages,\n        currentStep,\n        sessionId\n      });\n      \n      if (data.error) {\n        throw new Error(data.error);\n      }\n      \n      setMessages(prev => [...prev, { sender: 'wally', text: data.reply }]);\n      setCurrentStep(data.nextStep);\n      \n      // Manejar uiType y options para el siguiente paso\n      setCurrentUiType(data.uiType || null);\n      setCurrentOptions(data.options || null);\n    } catch (error) {\n      console.error(\"Error sending message:\", error);\n      setMessages(prev => [...prev, {\n        sender: 'wally',\n        text: 'Hubo un problema de conexión. Por favor, intente de nuevo.'\n      }]);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const handleSend = async () => {\n    if (input.trim() === '' || isLoading || !sessionId) return;\n    \n    const userMessage = { sender: 'user', text: input };\n    const newMessages = [...messages, userMessage];\n    setMessages(newMessages);\n    setInput('');\n    setIsLoading(true);\n    \n    try {\n      const data = await orquestador.procesarMensaje({\n        messages: newMessages,\n        currentStep,\n        sessionId\n      });\n      \n      if (data.error) {\n        throw new Error(data.error);\n      }\n      \n      setMessages(prev => [...prev, { sender: 'wally', text: data.reply }]);\n      setCurrentStep(data.nextStep);\n      \n      // Manejar uiType y options para el siguiente paso\n      setCurrentUiType(data.uiType || null);\n      setCurrentOptions(data.options || null);\n    } catch (error) {\n      console.error(\"Error sending message:\", error);\n      setMessages(prev => [...prev, {\n        sender: 'wally',\n        text: 'Hubo un problema de conexión. Por favor, intente de nuevo.'\n      }]);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n  \n  const handleFileUpload = async (file) => {\n    if (!file || isLoading || !sessionId) return;\n    setIsLoading(true);\n\n    // 1. Subir archivo a Supabase Storage\n    const filePath = `${sessionId}/${Date.now()}_${file.name}`;\n    const { error: uploadError } = await supabase.storage\n      .from('documentos-credito')\n      .upload(filePath, file);\n\n    if (uploadError) {\n      console.error(\"Error subiendo el archivo:\", uploadError);\n      setMessages((prev) => [...prev, {\n        sender: 'wally',\n        text: 'Lo siento, hubo un error al subir tu archivo. Intenta de nuevo.'\n      }]);\n      setIsLoading(false);\n      return;\n    }\n\n    // 2. Enviar la ruta del archivo al Orquestador para que la IA lo procese\n    const userMessage = { sender: 'user', text: `Archivo subido: ${file.name}` };\n    setMessages((prev) => [...prev, userMessage]);\n\n    // Usar el servicio local del orquestador para manejar archivos\n    try {\n      const { data: { publicUrl } } = supabase.storage\n        .from('documentos-credito')\n        .getPublicUrl(filePath);\n\n      // Crear un mensaje con la URL del archivo\n      const fileMessage = { sender: 'user', text: publicUrl };\n      const messagesWithFile = [...messages, fileMessage];\n\n      const data = await orquestador.procesarMensaje({\n        messages: messagesWithFile,\n        currentStep,\n        sessionId,\n        isFileUpload: true\n      });\n\n      if (data.error) {\n        throw new Error(data.error);\n      }\n\n      setMessages(prev => [...prev, { sender: 'wally', text: data.reply }]);\n      setCurrentStep(data.nextStep);\n    } catch (error) {\n      console.error(\"Error processing file:\", error);\n      setMessages(prev => [...prev, {\n        sender: 'wally',\n        text: 'Lo siento, hubo un error al procesar tu archivo. Intenta de nuevo.'\n      }]);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  // TEMPORAL: Mostrando MainLayout para desarrollo de la nueva interfaz\n  // TODO: Restaurar la lógica del chat cuando se complete la Fase 3\n  return (\n    <Box sx={{ height: '100vh' }}>\n      <MainLayout />\n      <Button\n        variant=\"text\"\n        onClick={onCancel}\n        sx={{ position: 'absolute', top: 20, right: 20, zIndex: 1000 }}\n      >\n        Cancelar Solicitud\n      </Button>\n    </Box>\n  );\n\n  /* LÓGICA ORIGINAL DEL CHAT (COMENTADA TEMPORALMENTE)\n  return (\n    <Box sx={{ flexGrow: 1, p: { xs: 1, sm: 2 }, height: 'calc(100vh - 80px)' }}>\n      <Grid container spacing={2} sx={{ height: '100%' }}>\n        <Grid item xs={12} md={4}>\n          <ProgressSidebar currentStep={currentStep} />\n        </Grid>\n        <Grid item xs={12} md={8}>\n          <ChatInterface\n            messages={messages}\n            input={input}\n            setInput={setInput}\n            handleSend={handleSend}\n            handleFileUpload={handleFileUpload}\n            isLoading={isLoading}\n            currentUiType={currentUiType}\n            currentOptions={currentOptions}\n            handleButtonClick={handleButtonClick}\n          />\n        </Grid>\n      </Grid>\n      <Button\n        variant=\"text\"\n        onClick={onCancel}\n        sx={{ position: 'absolute', top: 80, right: 20 }}\n      >\n        Cancelar Solicitud\n      </Button>\n    </Box>\n  );\n  */\n};\n\nexport default ApplicationView;","usedDeprecatedRules":[{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"D:\\CLIENTES\\Wy Credito Tecnología\\web\\wy-credito Completo v1.0\\src\\components\\ApplicationView\\ChatInterface.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"D:\\CLIENTES\\Wy Credito Tecnología\\web\\wy-credito Completo v1.0\\src\\components\\ApplicationView\\ProgressSidebar.jsx","messages":[{"ruleId":"no-unused-vars","severity":1,"message":"'Box' is defined but never used.","line":2,"column":10,"nodeType":"Identifier","messageId":"unusedVar","endLine":2,"endColumn":13}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React from 'react';\nimport { Box, Stepper, Step, StepLabel, Typography, Paper } from '@mui/material';\n\n// Estos pasos vienen de nuestro flujo definido en el CSV\nconst steps = [\n  'Onboarding Personal',\n  'Información de la Empresa',\n  'Documentación Legal',\n  'Información Financiera',\n  'Referencias y Declaraciones',\n  'Garantía',\n  'Revisión Final',\n];\n\nconst ProgressSidebar = ({ currentStep }) => {\n  return (\n    <Paper elevation={2} sx={{ p: 3, height: '100%', borderRadius: 4 }}>\n      <Typography variant=\"h5\" gutterBottom sx={{ fontFamily: 'Segoe UI' }}>\n        Progreso de Solicitud\n      </Typography>\n      <Stepper activeStep={currentStep} orientation=\"vertical\">\n        {steps.map((label) => (\n          <Step key={label}>\n            <StepLabel>{label}</StepLabel>\n          </Step>\n        ))}\n      </Stepper>\n    </Paper>\n  );\n};\n\nexport default ProgressSidebar;","usedDeprecatedRules":[{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"D:\\CLIENTES\\Wy Credito Tecnología\\web\\wy-credito Completo v1.0\\src\\components\\Calculator\\CreditCalculator.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"D:\\CLIENTES\\Wy Credito Tecnología\\web\\wy-credito Completo v1.0\\src\\components\\Chat\\ChatInterface.jsx","messages":[{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`\"` can be escaped with `&quot;`, `&ldquo;`, `&#34;`, `&rdquo;`.","line":12,"column":64,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&quot;"},"fix":{"range":[425,506],"text":"\n          Aquí comenzará la conversación con nuestro asistente &quot;Wally\".\n        "},"desc":"Replace with `&quot;`."},{"messageId":"replaceWithAlt","data":{"alt":"&ldquo;"},"fix":{"range":[425,506],"text":"\n          Aquí comenzará la conversación con nuestro asistente &ldquo;Wally\".\n        "},"desc":"Replace with `&ldquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#34;"},"fix":{"range":[425,506],"text":"\n          Aquí comenzará la conversación con nuestro asistente &#34;Wally\".\n        "},"desc":"Replace with `&#34;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rdquo;"},"fix":{"range":[425,506],"text":"\n          Aquí comenzará la conversación con nuestro asistente &rdquo;Wally\".\n        "},"desc":"Replace with `&rdquo;`."}]},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`\"` can be escaped with `&quot;`, `&ldquo;`, `&#34;`, `&rdquo;`.","line":12,"column":70,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&quot;"},"fix":{"range":[425,506],"text":"\n          Aquí comenzará la conversación con nuestro asistente \"Wally&quot;.\n        "},"desc":"Replace with `&quot;`."},{"messageId":"replaceWithAlt","data":{"alt":"&ldquo;"},"fix":{"range":[425,506],"text":"\n          Aquí comenzará la conversación con nuestro asistente \"Wally&ldquo;.\n        "},"desc":"Replace with `&ldquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#34;"},"fix":{"range":[425,506],"text":"\n          Aquí comenzará la conversación con nuestro asistente \"Wally&#34;.\n        "},"desc":"Replace with `&#34;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rdquo;"},"fix":{"range":[425,506],"text":"\n          Aquí comenzará la conversación con nuestro asistente \"Wally&rdquo;.\n        "},"desc":"Replace with `&rdquo;`."}]}],"suppressedMessages":[],"errorCount":2,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React from 'react';\nimport { Card, CardContent, Typography, Button } from '@mui/material';\n\nconst ChatInterface = ({ initialAmount, initialTerm, onGoBack }) => {\n  return (\n    <Card>\n      <CardContent sx={{ p: 4, textAlign: 'center' }}>\n        <Typography variant=\"h2\" component=\"h1\" gutterBottom>\n          Interfaz de Chat de Wally\n        </Typography>\n        <Typography variant=\"body1\" color=\"text.secondary\">\n          Aquí comenzará la conversación con nuestro asistente \"Wally\".\n        </Typography>\n        <Typography variant=\"h6\" sx={{ mt: 3 }}>\n          Monto inicial: ${new Intl.NumberFormat('es-CO').format(initialAmount)}\n        </Typography>\n        <Typography variant=\"h6\">\n          Plazo: {initialTerm} meses\n        </Typography>\n        <Button variant=\"outlined\" onClick={onGoBack} sx={{ mt: 3 }}>\n          Volver a la Calculadora\n        </Button>\n      </CardContent>\n    </Card>\n  );\n};\n\nexport default ChatInterface;","usedDeprecatedRules":[{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"D:\\CLIENTES\\Wy Credito Tecnología\\web\\wy-credito Completo v1.0\\src\\components\\DualModalToggle.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"D:\\CLIENTES\\Wy Credito Tecnología\\web\\wy-credito Completo v1.0\\src\\components\\FileUpload\\FileUpload.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"D:\\CLIENTES\\Wy Credito Tecnología\\web\\wy-credito Completo v1.0\\src\\components\\FileUpload\\FileUploadImage.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"D:\\CLIENTES\\Wy Credito Tecnología\\web\\wy-credito Completo v1.0\\src\\components\\Forms\\FormularioAceptacion.jsx","messages":[{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":81,"column":7,"nodeType":"MemberExpression","messageId":"unexpected","endLine":81,"endColumn":18,"suggestions":[{"messageId":"removeConsole","data":{"propertyName":"log"},"fix":{"range":[2071,2134],"text":""},"desc":"Remove the console.log()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":97,"column":7,"nodeType":"MemberExpression","messageId":"unexpected","endLine":97,"endColumn":18,"suggestions":[{"messageId":"removeConsole","data":{"propertyName":"log"},"fix":{"range":[2526,2576],"text":""},"desc":"Remove the console.log()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":105,"column":7,"nodeType":"MemberExpression","messageId":"unexpected","endLine":105,"endColumn":20,"suggestions":[{"messageId":"removeConsole","data":{"propertyName":"error"},"fix":{"range":[2733,2788],"text":""},"desc":"Remove the console.error()."}]},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`\"` can be escaped with `&quot;`, `&ldquo;`, `&#34;`, `&rdquo;`.","line":250,"column":32,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&quot;"},"fix":{"range":[8019,8119],"text":"\n              Al hacer clic en &quot;Finalizar\", su solicitud será enviada para evaluación.\n            "},"desc":"Replace with `&quot;`."},{"messageId":"replaceWithAlt","data":{"alt":"&ldquo;"},"fix":{"range":[8019,8119],"text":"\n              Al hacer clic en &ldquo;Finalizar\", su solicitud será enviada para evaluación.\n            "},"desc":"Replace with `&ldquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#34;"},"fix":{"range":[8019,8119],"text":"\n              Al hacer clic en &#34;Finalizar\", su solicitud será enviada para evaluación.\n            "},"desc":"Replace with `&#34;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rdquo;"},"fix":{"range":[8019,8119],"text":"\n              Al hacer clic en &rdquo;Finalizar\", su solicitud será enviada para evaluación.\n            "},"desc":"Replace with `&rdquo;`."}]},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`\"` can be escaped with `&quot;`, `&ldquo;`, `&#34;`, `&rdquo;`.","line":250,"column":42,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&quot;"},"fix":{"range":[8019,8119],"text":"\n              Al hacer clic en \"Finalizar&quot;, su solicitud será enviada para evaluación.\n            "},"desc":"Replace with `&quot;`."},{"messageId":"replaceWithAlt","data":{"alt":"&ldquo;"},"fix":{"range":[8019,8119],"text":"\n              Al hacer clic en \"Finalizar&ldquo;, su solicitud será enviada para evaluación.\n            "},"desc":"Replace with `&ldquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#34;"},"fix":{"range":[8019,8119],"text":"\n              Al hacer clic en \"Finalizar&#34;, su solicitud será enviada para evaluación.\n            "},"desc":"Replace with `&#34;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rdquo;"},"fix":{"range":[8019,8119],"text":"\n              Al hacer clic en \"Finalizar&rdquo;, su solicitud será enviada para evaluación.\n            "},"desc":"Replace with `&rdquo;`."}]}],"suppressedMessages":[],"errorCount":2,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useState } from 'react';\nimport {\n  Box,\n  Button,\n  Typography,\n  Alert,\n  CircularProgress,\n  Paper,\n  FormControlLabel,\n  Checkbox,\n  FormGroup,\n  Divider\n} from '@mui/material';\n\nconst FormularioAceptacion = ({ sessionId, onStepComplete }) => {\n  // Estado para los checkboxes\n  const [acceptances, setAcceptances] = useState({\n    aceptacion_productiva: false,\n    aceptacion_no_personal: false,\n    aceptacion_habeas_data: false\n  });\n\n  // Estados para manejo de UI\n  const [isSubmitting, setIsSubmitting] = useState(false);\n  const [submitError, setSubmitError] = useState('');\n  const [validationError, setValidationError] = useState('');\n\n  // Función para manejar cambios en los checkboxes\n  const handleCheckboxChange = (field) => (event) => {\n    setAcceptances(prev => ({\n      ...prev,\n      [field]: event.target.checked\n    }));\n\n    // Limpiar errores cuando el usuario interactúe\n    if (validationError) {\n      setValidationError('');\n    }\n    if (submitError) {\n      setSubmitError('');\n    }\n  };\n\n  // Función de validación\n  const validateForm = () => {\n    const { aceptacion_productiva, aceptacion_no_personal, aceptacion_habeas_data } = acceptances;\n    \n    if (!aceptacion_productiva || !aceptacion_no_personal || !aceptacion_habeas_data) {\n      setValidationError('Debe aceptar todas las declaraciones para continuar.');\n      return false;\n    }\n    \n    setValidationError('');\n    return true;\n  };\n\n  // Función para enviar el formulario\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    \n    if (!validateForm()) {\n      return;\n    }\n\n    setIsSubmitting(true);\n    setSubmitError('');\n\n    try {\n      // Preparar payload para el orquestador\n      const payload = {\n        action: 'submit_form_step',\n        sessionId: sessionId,\n        step: 5,\n        data: {\n          aceptacion_productiva: acceptances.aceptacion_productiva,\n          aceptacion_no_personal: acceptances.aceptacion_no_personal,\n          aceptacion_habeas_data: acceptances.aceptacion_habeas_data\n        }\n      };\n\n      console.log('Enviando declaraciones y aceptaciones:', payload);\n\n      // Enviar al orquestador\n      const response = await fetch('/api/orchestrator', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify(payload)\n      });\n\n      if (!response.ok) {\n        throw new Error(`Error del servidor: ${response.status}`);\n      }\n\n      const result = await response.json();\n      console.log('Respuesta del orquestador:', result);\n\n      // Notificar al componente padre que el paso se completó\n      if (onStepComplete) {\n        onStepComplete(5);\n      }\n\n    } catch (error) {\n      console.error('Error al enviar declaraciones:', error);\n      setSubmitError('Error al enviar la información. Por favor, inténtelo de nuevo.');\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n\n  return (\n    <Box sx={{ maxWidth: 800, mx: 'auto', p: 3 }}>\n      <Paper elevation={3} sx={{ p: 4 }}>\n        <Typography variant=\"h4\" component=\"h1\" gutterBottom align=\"center\">\n          Paso 5: Declaraciones y Aceptación\n        </Typography>\n        \n        <Typography variant=\"body1\" color=\"text.secondary\" paragraph align=\"center\">\n          Para completar su solicitud, debe leer y aceptar las siguientes declaraciones \n          y términos de servicio.\n        </Typography>\n\n        <Divider sx={{ my: 3 }} />\n\n        <Box component=\"form\" onSubmit={handleSubmit} sx={{ mt: 3 }}>\n          <FormGroup>\n            {/* Declaración 1: Uso Productivo */}\n            <FormControlLabel\n              control={\n                <Checkbox\n                  checked={acceptances.aceptacion_productiva}\n                  onChange={handleCheckboxChange('aceptacion_productiva')}\n                  color=\"primary\"\n                />\n              }\n              label={\n                <Typography variant=\"body1\" sx={{ lineHeight: 1.6 }}>\n                  <strong>Confirmo que los recursos solicitados se destinarán únicamente \n                  a actividades productivas de la empresa.</strong>\n                  <br />\n                  <Typography variant=\"body2\" color=\"text.secondary\" component=\"span\">\n                    Los fondos serán utilizados exclusivamente para el crecimiento y \n                    operación de la empresa.\n                  </Typography>\n                </Typography>\n              }\n              sx={{ \n                mb: 3, \n                alignItems: 'flex-start',\n                '& .MuiFormControlLabel-label': { mt: -0.5 }\n              }}\n            />\n\n            {/* Declaración 2: No Uso Personal */}\n            <FormControlLabel\n              control={\n                <Checkbox\n                  checked={acceptances.aceptacion_no_personal}\n                  onChange={handleCheckboxChange('aceptacion_no_personal')}\n                  color=\"primary\"\n                />\n              }\n              label={\n                <Typography variant=\"body1\" sx={{ lineHeight: 1.6 }}>\n                  <strong>Declaro que no serán usados para fines personales, \n                  especulativos o ajenos a la empresa.</strong>\n                  <br />\n                  <Typography variant=\"body2\" color=\"text.secondary\" component=\"span\">\n                    Los recursos no se destinarán a gastos personales, inversiones \n                    especulativas o actividades no relacionadas con la empresa.\n                  </Typography>\n                </Typography>\n              }\n              sx={{ \n                mb: 3, \n                alignItems: 'flex-start',\n                '& .MuiFormControlLabel-label': { mt: -0.5 }\n              }}\n            />\n\n            {/* Declaración 3: Habeas Data y Términos */}\n            <FormControlLabel\n              control={\n                <Checkbox\n                  checked={acceptances.aceptacion_habeas_data}\n                  onChange={handleCheckboxChange('aceptacion_habeas_data')}\n                  color=\"primary\"\n                />\n              }\n              label={\n                <Typography variant=\"body1\" sx={{ lineHeight: 1.6 }}>\n                  <strong>Acepto las políticas de Habeas Data y los términos \n                  y condiciones de Wy Credito.</strong>\n                  <br />\n                  <Typography variant=\"body2\" color=\"text.secondary\" component=\"span\">\n                    Autorizo el tratamiento de mis datos personales según la política \n                    de privacidad y acepto los términos de servicio.\n                  </Typography>\n                </Typography>\n              }\n              sx={{ \n                mb: 3, \n                alignItems: 'flex-start',\n                '& .MuiFormControlLabel-label': { mt: -0.5 }\n              }}\n            />\n          </FormGroup>\n\n          {/* Error de validación */}\n          {validationError && (\n            <Alert severity=\"warning\" sx={{ mt: 2 }}>\n              {validationError}\n            </Alert>\n          )}\n\n          {/* Error de envío */}\n          {submitError && (\n            <Alert severity=\"error\" sx={{ mt: 2 }}>\n              {submitError}\n            </Alert>\n          )}\n\n          <Divider sx={{ my: 3 }} />\n\n          {/* Botón de envío */}\n          <Box sx={{ textAlign: 'center' }}>\n            <Button\n              type=\"submit\"\n              variant=\"contained\"\n              size=\"large\"\n              disabled={isSubmitting}\n              sx={{ \n                minWidth: 250,\n                py: 1.5,\n                fontSize: '1.1rem'\n              }}\n            >\n              {isSubmitting ? (\n                <>\n                  <CircularProgress size={20} sx={{ mr: 1 }} />\n                  Finalizando Solicitud...\n                </>\n              ) : (\n                'Finalizar Solicitud de Crédito'\n              )}\n            </Button>\n            \n            <Typography variant=\"body2\" color=\"text.secondary\" sx={{ mt: 2 }}>\n              Al hacer clic en \"Finalizar\", su solicitud será enviada para evaluación.\n            </Typography>\n          </Box>\n        </Box>\n      </Paper>\n    </Box>\n  );\n};\n\nexport default FormularioAceptacion;","usedDeprecatedRules":[{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"D:\\CLIENTES\\Wy Credito Tecnología\\web\\wy-credito Completo v1.0\\src\\components\\Forms\\FormularioDocumentacion.jsx","messages":[{"ruleId":"no-unused-vars","severity":1,"message":"'errors' is assigned a value but never used.","line":16,"column":12,"nodeType":"Identifier","messageId":"unusedVar","endLine":16,"endColumn":18},{"ruleId":"no-unused-vars","severity":1,"message":"'setErrors' is assigned a value but never used.","line":16,"column":20,"nodeType":"Identifier","messageId":"unusedVar","endLine":16,"endColumn":29}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"// src/components/Forms/FormularioDocumentacion.jsx\nimport React, { useState } from 'react';\nimport { Box, TextField, Button, Grid, Paper, Typography, Divider, Alert, CircularProgress } from '@mui/material';\nimport { Person as PersonIcon, CloudUpload as CloudUploadIcon } from '@mui/icons-material';\nimport FileUpload from '../FileUpload/FileUpload'; // Importamos el componente reutilizable\n\nconst FormularioDocumentacion = ({ onStepComplete, sessionId }) => {\n    const [formData, setFormData] = useState({\n        nombre_representante_legal: '',\n        documento_representante_legal: '',\n        celular_representante_legal: '',\n        url_doc_identidad: '',\n        url_certificado_existencia: '',\n        url_composicion_accionaria: '',\n    });\n    const [errors, setErrors] = useState({});\n    const [loading, setLoading] = useState(false);\n    const [submitError, setSubmitError] = useState('');\n\n    const handleChange = (e) => {\n        const { name, value } = e.target;\n        setFormData(prev => ({ ...prev, [name]: value }));\n    };\n\n    const handleUploadSuccess = (url, documentType) => {\n        setFormData(prev => ({ ...prev, [documentType]: url }));\n    };\n\n    const validate = () => {\n        // Aquí iría la lógica de validación completa...\n        return true; // Simplificado por ahora\n    };\n\n    const handleSubmit = async () => {\n        if (!validate()) return;\n        setLoading(true);\n        setSubmitError('');\n\n        try {\n            const response = await fetch('/api/orchestrator', {\n                method: 'POST',\n                headers: { 'Content-Type': 'application/json' },\n                body: JSON.stringify({\n                    action: 'submit_form_step',\n                    sessionId,\n                    payload: formData,\n                }),\n            });\n            const result = await response.json();\n            if (!result.success) throw new Error(result.error || 'Error desconocido del servidor.');\n            onStepComplete(3);\n        } catch (err) {\n            setSubmitError(err.message);\n        } finally {\n            setLoading(false);\n        }\n    };\n\n    return (\n        <Box sx={{ maxWidth: 800, mx: 'auto' }}>\n            <Paper elevation={2} sx={{ p: 3, mb: 3 }}>\n                <Box sx={{ display: 'flex', alignItems: 'center', mb: 2 }}>\n                    <PersonIcon sx={{ mr: 2, color: 'primary.main' }} />\n                    <Typography variant=\"h6\" sx={{ fontWeight: 'bold' }}>Datos del Representante Legal</Typography>\n                </Box>\n                <Divider sx={{ mb: 3 }} />\n                <Grid container spacing={3}>\n                    <Grid item xs={12}><TextField name=\"nombre_representante_legal\" label=\"Nombre Completo\" onChange={handleChange} fullWidth /></Grid>\n                    <Grid item xs={12} md={6}><TextField name=\"documento_representante_legal\" label=\"Número de Documento\" onChange={handleChange} fullWidth /></Grid>\n                    <Grid item xs={12} md={6}><TextField name=\"celular_representante_legal\" label=\"Número de Celular\" onChange={handleChange} fullWidth /></Grid>\n                </Grid>\n            </Paper>\n\n            <Paper elevation={2} sx={{ p: 3, mb: 3 }}>\n                <Box sx={{ display: 'flex', alignItems: 'center', mb: 2 }}>\n                    <CloudUploadIcon sx={{ mr: 2, color: 'primary.main' }} />\n                    <Typography variant=\"h6\" sx={{ fontWeight: 'bold' }}>Documentos Requeridos</Typography>\n                </Box>\n                <Divider sx={{ mb: 3 }} />\n                <Grid container spacing={2}>\n                    <Grid item xs={12}><FileUpload label=\"Documento de Identidad del Representante Legal\" sessionId={sessionId} documentType=\"url_doc_identidad\" onUploadSuccess={handleUploadSuccess} /></Grid>\n                    <Grid item xs={12}><FileUpload label=\"Certificado de Existencia y Representación\" sessionId={sessionId} documentType=\"url_certificado_existencia\" onUploadSuccess={handleUploadSuccess} /></Grid>\n                    <Grid item xs={12}><FileUpload label=\"Documento de Composición Accionaria\" sessionId={sessionId} documentType=\"url_composicion_accionaria\" onUploadSuccess={handleUploadSuccess} /></Grid>\n                </Grid>\n            </Paper>\n\n            {submitError && <Alert severity=\"error\" sx={{ mb: 3 }}>{submitError}</Alert>}\n\n            <Box sx={{ display: 'flex', justifyContent: 'flex-end', mt: 4 }}>\n                <Button variant=\"contained\" size=\"large\" onClick={handleSubmit} disabled={loading}>\n                    {loading ? <CircularProgress size={24} /> : 'Guardar y Continuar'}\n                </Button>\n            </Box>\n        </Box>\n    );\n};\n\nexport default FormularioDocumentacion;","usedDeprecatedRules":[{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"D:\\CLIENTES\\Wy Credito Tecnología\\web\\wy-credito Completo v1.0\\src\\components\\Forms\\FormularioEmpresa.jsx","messages":[{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":180,"column":7,"nodeType":"MemberExpression","messageId":"unexpected","endLine":180,"endColumn":18,"suggestions":[{"messageId":"removeConsole","data":{"propertyName":"log"},"fix":{"range":[5075,5128],"text":""},"desc":"Remove the console.log()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":188,"column":7,"nodeType":"MemberExpression","messageId":"unexpected","endLine":188,"endColumn":20,"suggestions":[{"messageId":"removeConsole","data":{"propertyName":"error"},"fix":{"range":[5343,5395],"text":""},"desc":"Remove the console.error()."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useState } from 'react';\nimport {\n  Box,\n  TextField,\n  FormControl,\n  InputLabel,\n  Select,\n  MenuItem,\n  FormControlLabel,\n  Checkbox,\n  Button,\n  Grid,\n  Paper,\n  Typography,\n  Divider,\n  Alert,\n  InputAdornment,\n  CircularProgress,\n} from '@mui/material';\nimport {\n  Business as BusinessIcon,\n  Language as WebIcon,\n  Facebook as FacebookIcon,\n  Instagram as InstagramIcon,\n  LinkedIn as LinkedInIcon,\n  Twitter as TwitterIcon,\n} from '@mui/icons-material';\n\nconst FormularioEmpresa = ({ onStepComplete, sessionId }) => {\n  const [formData, setFormData] = useState({\n    nit: '',\n    razonSocial: '',\n    tipoEmpresa: '',\n    paginaWeb: '',\n    redesSociales: {\n      facebook: '',\n      instagram: '',\n      linkedin: '',\n      twitter: '',\n    },\n    autorizacionConsulta: false,\n    habeasData: false,\n  });\n\n  const [errors, setErrors] = useState({});\n  const [loading, setLoading] = useState(false);\n  const [submitError, setSubmitError] = useState('');\n\n  // Opciones para tipo de empresa\n  const tiposEmpresa = [\n    { value: 'sas', label: 'Sociedad por Acciones Simplificada (SAS)' },\n    { value: 'sa', label: 'Sociedad Anónima (SA)' },\n    { value: 'ltda', label: 'Sociedad de Responsabilidad Limitada (LTDA)' },\n    { value: 'colectiva', label: 'Sociedad Colectiva' },\n    { value: 'comandita_simple', label: 'Sociedad en Comandita Simple' },\n    { value: 'comandita_acciones', label: 'Sociedad en Comandita por Acciones' },\n    { value: 'empresa_unipersonal', label: 'Empresa Unipersonal' },\n    { value: 'persona_natural', label: 'Persona Natural' },\n  ];\n\n  const handleInputChange = (field, value) => {\n    if (field.includes('.')) {\n      const [parent, child] = field.split('.');\n      setFormData(prev => ({\n        ...prev,\n        [parent]: {\n          ...prev[parent],\n          [child]: value,\n        },\n      }));\n    } else {\n      setFormData(prev => ({\n        ...prev,\n        [field]: value,\n      }));\n    }\n\n    // Limpiar error del campo cuando el usuario empiece a escribir\n    if (errors[field]) {\n      setErrors(prev => ({\n        ...prev,\n        [field]: '',\n      }));\n    }\n  };\n\n  const validateForm = () => {\n    const newErrors = {};\n\n    // Validación NIT\n    if (!formData.nit.trim()) {\n      newErrors.nit = 'El NIT es obligatorio';\n    } else if (!/^\\d{9,11}$/.test(formData.nit.replace(/[.-]/g, ''))) {\n      newErrors.nit = 'El NIT debe tener entre 9 y 11 dígitos';\n    }\n\n    // Validación Razón Social\n    if (!formData.razonSocial.trim()) {\n      newErrors.razonSocial = 'La razón social es obligatoria';\n    } else if (formData.razonSocial.trim().length < 3) {\n      newErrors.razonSocial = 'La razón social debe tener al menos 3 caracteres';\n    }\n\n    // Validación Tipo de Empresa\n    if (!formData.tipoEmpresa) {\n      newErrors.tipoEmpresa = 'Debe seleccionar el tipo de empresa';\n    }\n\n    // Validación Página Web (opcional pero si se llena debe ser válida)\n    if (formData.paginaWeb && !/^https?:\\/\\/.+\\..+/.test(formData.paginaWeb)) {\n      newErrors.paginaWeb = 'Ingrese una URL válida (ej: https://www.ejemplo.com)';\n    }\n\n    // Validación Autorizaciones\n    if (!formData.autorizacionConsulta) {\n      newErrors.autorizacionConsulta = 'Debe autorizar la consulta en centrales de riesgo';\n    }\n\n    if (!formData.habeasData) {\n      newErrors.habeasData = 'Debe aceptar el tratamiento de datos personales';\n    }\n\n    setErrors(newErrors);\n    return Object.keys(newErrors).length === 0;\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    \n    // Limpiar errores previos\n    setSubmitError('');\n    \n    if (!validateForm()) {\n      return;\n    }\n\n    // Verificar que tenemos sessionId\n    if (!sessionId) {\n      setSubmitError('Error: No se encontró una sesión activa. Por favor, reinicie el proceso.');\n      return;\n    }\n\n    setLoading(true);\n\n    try {\n      // Preparar los datos para enviar al orquestador\n      const payload = {\n        nit: formData.nit.trim(),\n        razon_social: formData.razonSocial.trim(),\n        tipo_empresa: formData.tipoEmpresa,\n        pagina_web: formData.paginaWeb.trim() || null,\n        facebook: formData.redesSociales.facebook.trim() || null,\n        instagram: formData.redesSociales.instagram.trim() || null,\n        linkedin: formData.redesSociales.linkedin.trim() || null,\n        twitter: formData.redesSociales.twitter.trim() || null,\n        autorizacion_consulta: formData.autorizacionConsulta,\n        habeas_data: formData.habeasData,\n      };\n\n      // Llamada a la API del orquestador\n      const response = await fetch('/api/orchestrator', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({\n          action: 'submit_form_step',\n          sessionId: sessionId,\n          payload: payload,\n        }),\n      });\n\n      const result = await response.json();\n\n      if (!response.ok) {\n        throw new Error(result.error || 'Error al enviar los datos');\n      }\n\n      // Si todo salió bien, navegar al siguiente paso\n      console.log('Datos enviados correctamente:', result);\n      \n      // Llamar a la función de callback para avanzar al siguiente paso\n      if (onStepComplete) {\n        onStepComplete(2); // Avanzar al paso 2 (Documentación Legal)\n      }\n\n    } catch (error) {\n      console.error('Error al enviar formulario:', error);\n      setSubmitError(error.message || 'Error al enviar los datos. Por favor, inténtelo de nuevo.');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <Box component=\"form\" onSubmit={handleSubmit}>\n      <Paper elevation={2} sx={{ p: 4, mb: 3 }}>\n        {/* Información Básica de la Empresa */}\n        <Box sx={{ mb: 4 }}>\n          <Typography variant=\"h6\" sx={{ mb: 3, display: 'flex', alignItems: 'center' }}>\n            <BusinessIcon sx={{ mr: 1, color: '#3b82f6' }} />\n            Información Básica de la Empresa\n          </Typography>\n\n          <Grid container spacing={3}>\n            <Grid item xs={12} md={6}>\n              <TextField\n                fullWidth\n                label=\"NIT de la Empresa\"\n                value={formData.nit}\n                onChange={(e) => handleInputChange('nit', e.target.value)}\n                error={!!errors.nit}\n                helperText={errors.nit || 'Ingrese el NIT sin puntos ni guiones'}\n                placeholder=\"123456789\"\n                InputProps={{\n                  startAdornment: (\n                    <InputAdornment position=\"start\">\n                      <BusinessIcon color=\"action\" />\n                    </InputAdornment>\n                  ),\n                }}\n              />\n            </Grid>\n\n            <Grid item xs={12} md={6}>\n              <TextField\n                fullWidth\n                label=\"Razón Social\"\n                value={formData.razonSocial}\n                onChange={(e) => handleInputChange('razonSocial', e.target.value)}\n                error={!!errors.razonSocial}\n                helperText={errors.razonSocial || 'Nombre completo de la empresa'}\n                placeholder=\"Empresa Ejemplo S.A.S.\"\n              />\n            </Grid>\n\n            <Grid item xs={12}>\n              <FormControl fullWidth error={!!errors.tipoEmpresa}>\n                <InputLabel>Tipo de Empresa</InputLabel>\n                <Select\n                  value={formData.tipoEmpresa}\n                  label=\"Tipo de Empresa\"\n                  onChange={(e) => handleInputChange('tipoEmpresa', e.target.value)}\n                >\n                  {tiposEmpresa.map((tipo) => (\n                    <MenuItem key={tipo.value} value={tipo.value}>\n                      {tipo.label}\n                    </MenuItem>\n                  ))}\n                </Select>\n                {errors.tipoEmpresa && (\n                  <Typography variant=\"caption\" color=\"error\" sx={{ mt: 0.5, ml: 2 }}>\n                    {errors.tipoEmpresa}\n                  </Typography>\n                )}\n              </FormControl>\n            </Grid>\n          </Grid>\n        </Box>\n\n        <Divider sx={{ my: 4 }} />\n\n        {/* Presencia Digital */}\n        <Box sx={{ mb: 4 }}>\n          <Typography variant=\"h6\" sx={{ mb: 3, display: 'flex', alignItems: 'center' }}>\n            <WebIcon sx={{ mr: 1, color: '#3b82f6' }} />\n            Presencia Digital\n          </Typography>\n\n          <Grid container spacing={3}>\n            <Grid item xs={12}>\n              <TextField\n                fullWidth\n                label=\"Página Web\"\n                value={formData.paginaWeb}\n                onChange={(e) => handleInputChange('paginaWeb', e.target.value)}\n                error={!!errors.paginaWeb}\n                helperText={errors.paginaWeb || 'URL de la página web de la empresa (opcional)'}\n                placeholder=\"https://www.miempresa.com\"\n                InputProps={{\n                  startAdornment: (\n                    <InputAdornment position=\"start\">\n                      <WebIcon color=\"action\" />\n                    </InputAdornment>\n                  ),\n                }}\n              />\n            </Grid>\n\n            <Grid item xs={12} md={6}>\n              <TextField\n                fullWidth\n                label=\"Facebook\"\n                value={formData.redesSociales.facebook}\n                onChange={(e) => handleInputChange('redesSociales.facebook', e.target.value)}\n                placeholder=\"https://facebook.com/miempresa\"\n                InputProps={{\n                  startAdornment: (\n                    <InputAdornment position=\"start\">\n                      <FacebookIcon color=\"action\" />\n                    </InputAdornment>\n                  ),\n                }}\n              />\n            </Grid>\n\n            <Grid item xs={12} md={6}>\n              <TextField\n                fullWidth\n                label=\"Instagram\"\n                value={formData.redesSociales.instagram}\n                onChange={(e) => handleInputChange('redesSociales.instagram', e.target.value)}\n                placeholder=\"https://instagram.com/miempresa\"\n                InputProps={{\n                  startAdornment: (\n                    <InputAdornment position=\"start\">\n                      <InstagramIcon color=\"action\" />\n                    </InputAdornment>\n                  ),\n                }}\n              />\n            </Grid>\n\n            <Grid item xs={12} md={6}>\n              <TextField\n                fullWidth\n                label=\"LinkedIn\"\n                value={formData.redesSociales.linkedin}\n                onChange={(e) => handleInputChange('redesSociales.linkedin', e.target.value)}\n                placeholder=\"https://linkedin.com/company/miempresa\"\n                InputProps={{\n                  startAdornment: (\n                    <InputAdornment position=\"start\">\n                      <LinkedInIcon color=\"action\" />\n                    </InputAdornment>\n                  ),\n                }}\n              />\n            </Grid>\n\n            <Grid item xs={12} md={6}>\n              <TextField\n                fullWidth\n                label=\"Twitter\"\n                value={formData.redesSociales.twitter}\n                onChange={(e) => handleInputChange('redesSociales.twitter', e.target.value)}\n                placeholder=\"https://twitter.com/miempresa\"\n                InputProps={{\n                  startAdornment: (\n                    <InputAdornment position=\"start\">\n                      <TwitterIcon color=\"action\" />\n                    </InputAdornment>\n                  ),\n                }}\n              />\n            </Grid>\n          </Grid>\n        </Box>\n\n        <Divider sx={{ my: 4 }} />\n\n        {/* Autorizaciones */}\n        <Box sx={{ mb: 4 }}>\n          <Typography variant=\"h6\" sx={{ mb: 3 }}>\n            Autorizaciones y Consentimientos\n          </Typography>\n\n          <Box sx={{ mb: 2 }}>\n            <FormControlLabel\n              control={\n                <Checkbox\n                  checked={formData.autorizacionConsulta}\n                  onChange={(e) => handleInputChange('autorizacionConsulta', e.target.checked)}\n                  color=\"primary\"\n                />\n              }\n              label={\n                <Typography variant=\"body2\">\n                  Autorizo a Wy Crédito para consultar mi información en las centrales de riesgo \n                  (DataCrédito, CIFIN, etc.) para evaluar mi solicitud de crédito.\n                </Typography>\n              }\n            />\n            {errors.autorizacionConsulta && (\n              <Alert severity=\"error\" sx={{ mt: 1 }}>\n                {errors.autorizacionConsulta}\n              </Alert>\n            )}\n          </Box>\n\n          <Box sx={{ mb: 2 }}>\n            <FormControlLabel\n              control={\n                <Checkbox\n                  checked={formData.habeasData}\n                  onChange={(e) => handleInputChange('habeasData', e.target.checked)}\n                  color=\"primary\"\n                />\n              }\n              label={\n                <Typography variant=\"body2\">\n                  Acepto el tratamiento de mis datos personales de acuerdo con la \n                  <strong> Política de Tratamiento de Datos Personales</strong> de Wy Crédito \n                  y autorizo el uso de esta información para fines comerciales y de marketing.\n                </Typography>\n              }\n            />\n            {errors.habeasData && (\n              <Alert severity=\"error\" sx={{ mt: 1 }}>\n                {errors.habeasData}\n              </Alert>\n            )}\n          </Box>\n        </Box>\n\n        {/* Error de envío */}\n        {submitError && (\n          <Alert severity=\"error\" sx={{ mb: 3 }}>\n            {submitError}\n          </Alert>\n        )}\n\n        {/* Botones de Acción */}\n        <Box sx={{ display: 'flex', justifyContent: 'space-between', mt: 4 }}>\n          <Button\n            variant=\"outlined\"\n            size=\"large\"\n            sx={{ minWidth: 120 }}\n            disabled={loading}\n          >\n            Cancelar\n          </Button>\n\n          <Button\n            type=\"submit\"\n            variant=\"contained\"\n            size=\"large\"\n            disabled={loading}\n            sx={{ \n              minWidth: 120,\n              backgroundColor: '#3b82f6',\n              '&:hover': {\n                backgroundColor: '#2563eb',\n              },\n            }}\n            startIcon={loading ? <CircularProgress size={20} color=\"inherit\" /> : null}\n          >\n            {loading ? 'Guardando...' : 'Guardar y Continuar'}\n          </Button>\n        </Box>\n      </Paper>\n    </Box>\n  );\n};\n\nexport default FormularioEmpresa;","usedDeprecatedRules":[{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"D:\\CLIENTES\\Wy Credito Tecnología\\web\\wy-credito Completo v1.0\\src\\components\\Forms\\FormularioFinanciero.jsx","messages":[{"ruleId":"no-unused-vars","severity":1,"message":"'AssessmentIcon' is defined but never used.","line":15,"column":19,"nodeType":"Identifier","messageId":"unusedVar","endLine":15,"endColumn":33},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":48,"column":9,"nodeType":"MemberExpression","messageId":"unexpected","endLine":48,"endColumn":20,"suggestions":[{"messageId":"removeConsole","data":{"propertyName":"log"},"fix":{"range":[1452,1508],"text":""},"desc":"Remove the console.log()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":102,"column":13,"nodeType":"MemberExpression","messageId":"unexpected","endLine":102,"endColumn":24,"suggestions":[{"messageId":"removeConsole","data":{"propertyName":"log"},"fix":{"range":[3501,3561],"text":""},"desc":"Remove the console.log()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":123,"column":13,"nodeType":"MemberExpression","messageId":"unexpected","endLine":123,"endColumn":24,"suggestions":[{"messageId":"removeConsole","data":{"propertyName":"log"},"fix":{"range":[4217,4287],"text":""},"desc":"Remove the console.log()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":131,"column":13,"nodeType":"MemberExpression","messageId":"unexpected","endLine":131,"endColumn":26,"suggestions":[{"messageId":"removeConsole","data":{"propertyName":"error"},"fix":{"range":[4483,4549],"text":""},"desc":"Remove the console.error()."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":"// src/components/Forms/FormularioFinanciero.jsx\nimport React, { useState } from 'react';\nimport { \n    Box, \n    TextField, \n    Button, \n    Grid, \n    Paper, \n    Typography, \n    Divider, \n    Alert, \n    CircularProgress \n} from '@mui/material';\nimport { \n    Assessment as AssessmentIcon, \n    CloudUpload as CloudUploadIcon,\n    HelpOutline as HelpOutlineIcon\n} from '@mui/icons-material';\nimport FileUpload from '../FileUpload/FileUpload';\n\nconst FormularioFinanciero = ({ onStepComplete, sessionId }) => {\n    // Estado para almacenar URLs de documentos y respuestas de preguntas\n    const [formData, setFormData] = useState({\n        url_declaracion_renta: '',\n        url_estados_financieros: '',\n        proposito_recursos: '',\n        detalle_activos_fijos: ''\n    });\n\n    const [errors, setErrors] = useState({});\n    const [loading, setLoading] = useState(false);\n    const [submitError, setSubmitError] = useState('');\n\n    // Manejar cambios en los campos de texto\n    const handleChange = (e) => {\n        const { name, value } = e.target;\n        setFormData(prev => ({ ...prev, [name]: value }));\n        \n        // Limpiar error del campo si existe\n        if (errors[name]) {\n            setErrors(prev => ({ ...prev, [name]: '' }));\n        }\n    };\n\n    // Manejar éxito en la subida de archivos\n    const handleUploadSuccess = (url, documentType) => {\n        setFormData(prev => ({ ...prev, [documentType]: url }));\n        console.log(`✅ Documento ${documentType} subido:`, url);\n    };\n\n    // Validar formulario\n    const validate = () => {\n        const newErrors = {};\n\n        // Validar que los documentos estén subidos\n        if (!formData.url_declaracion_renta) {\n            newErrors.url_declaracion_renta = 'La declaración de renta es requerida';\n        }\n\n        if (!formData.url_estados_financieros) {\n            newErrors.url_estados_financieros = 'Los estados financieros son requeridos';\n        }\n\n        // Validar preguntas de texto\n        if (!formData.proposito_recursos.trim()) {\n            newErrors.proposito_recursos = 'Debe especificar el propósito de los recursos';\n        } else if (formData.proposito_recursos.trim().length < 20) {\n            newErrors.proposito_recursos = 'La descripción debe tener al menos 20 caracteres';\n        }\n\n        if (!formData.detalle_activos_fijos.trim()) {\n            newErrors.detalle_activos_fijos = 'Debe responder sobre los activos fijos';\n        } else if (formData.detalle_activos_fijos.trim().length < 10) {\n            newErrors.detalle_activos_fijos = 'La respuesta debe tener al menos 10 caracteres';\n        }\n\n        setErrors(newErrors);\n        return Object.keys(newErrors).length === 0;\n    };\n\n    // Manejar envío del formulario\n    const handleSubmit = async () => {\n        if (!validate()) return;\n        \n        setLoading(true);\n        setSubmitError('');\n\n        try {\n            // Verificar que tenemos sessionId\n            if (!sessionId) {\n                throw new Error('No se encontró una sesión activa. Por favor, reinicie el proceso.');\n            }\n\n            // Preparar payload con todos los datos\n            const payload = {\n                url_declaracion_renta: formData.url_declaracion_renta,\n                url_estados_financieros: formData.url_estados_financieros,\n                proposito_recursos: formData.proposito_recursos.trim(),\n                detalle_activos_fijos: formData.detalle_activos_fijos.trim()\n            };\n\n            console.log('📊 Enviando información financiera:', payload);\n\n            // Llamada a la API del orquestador\n            const response = await fetch('/api/orchestrator', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json',\n                },\n                body: JSON.stringify({\n                    action: 'submit_form_step',\n                    sessionId: sessionId,\n                    payload: payload,\n                }),\n            });\n\n            const result = await response.json();\n\n            if (!response.ok) {\n                throw new Error(result.error || 'Error al enviar la información financiera');\n            }\n\n            console.log('✅ Información financiera enviada exitosamente:', result);\n            \n            // Navegar al siguiente paso\n            if (onStepComplete) {\n                onStepComplete(result.nextStep || 4);\n            }\n\n        } catch (error) {\n            console.error('❌ Error al enviar información financiera:', error);\n            setSubmitError(error.message || 'Error al enviar los datos. Por favor, inténtelo de nuevo.');\n        } finally {\n            setLoading(false);\n        }\n    };\n\n    return (\n        <Box sx={{ maxWidth: 800, mx: 'auto' }}>\n            {/* Título principal */}\n            <Typography variant=\"h4\" component=\"h1\" gutterBottom align=\"center\">\n                📊 Información Financiera\n            </Typography>\n            \n            <Typography variant=\"body1\" color=\"text.secondary\" align=\"center\" sx={{ mb: 4 }}>\n                Adjunte sus documentos financieros y proporcione información sobre el uso de los recursos\n            </Typography>\n\n            {/* Mostrar errores de envío */}\n            {submitError && (\n                <Alert severity=\"error\" sx={{ mb: 3 }}>\n                    {submitError}\n                </Alert>\n            )}\n\n            {/* Sección 1: Documentos Financieros */}\n            <Paper elevation={2} sx={{ p: 3, mb: 3 }}>\n                <Box sx={{ display: 'flex', alignItems: 'center', mb: 2 }}>\n                    <CloudUploadIcon sx={{ mr: 2, color: 'primary.main' }} />\n                    <Typography variant=\"h6\" sx={{ fontWeight: 'bold' }}>\n                        Documentos Financieros\n                    </Typography>\n                </Box>\n                <Divider sx={{ mb: 3 }} />\n                \n                <Typography variant=\"body2\" color=\"text.secondary\" sx={{ mb: 3 }}>\n                    Todos los documentos deben estar en formato PDF y no superar los 10MB\n                </Typography>\n\n                <Grid container spacing={3}>\n                    <Grid item xs={12}>\n                        <FileUpload \n                            label=\"Declaración de Renta (Último año fiscal)\"\n                            sessionId={sessionId}\n                            documentType=\"url_declaracion_renta\"\n                            onUploadSuccess={handleUploadSuccess}\n                        />\n                        {errors.url_declaracion_renta && (\n                            <Typography color=\"error\" variant=\"caption\" sx={{ mt: 1, display: 'block' }}>\n                                {errors.url_declaracion_renta}\n                            </Typography>\n                        )}\n                    </Grid>\n\n                    <Grid item xs={12}>\n                        <FileUpload \n                            label=\"Estados Financieros (Últimos 2 años)\"\n                            sessionId={sessionId}\n                            documentType=\"url_estados_financieros\"\n                            onUploadSuccess={handleUploadSuccess}\n                        />\n                        {errors.url_estados_financieros && (\n                            <Typography color=\"error\" variant=\"caption\" sx={{ mt: 1, display: 'block' }}>\n                                {errors.url_estados_financieros}\n                            </Typography>\n                        )}\n                    </Grid>\n                </Grid>\n            </Paper>\n\n            {/* Sección 2: Propósito de los Recursos */}\n            <Paper elevation={2} sx={{ p: 3, mb: 3 }}>\n                <Box sx={{ display: 'flex', alignItems: 'center', mb: 2 }}>\n                    <HelpOutlineIcon sx={{ mr: 2, color: 'primary.main' }} />\n                    <Typography variant=\"h6\" sx={{ fontWeight: 'bold' }}>\n                        Propósito de los Recursos\n                    </Typography>\n                </Box>\n                <Divider sx={{ mb: 3 }} />\n\n                <Grid container spacing={3}>\n                    <Grid item xs={12}>\n                        <TextField\n                            fullWidth\n                            multiline\n                            rows={4}\n                            name=\"proposito_recursos\"\n                            label=\"¿Para qué usará los recursos solicitados?\"\n                            value={formData.proposito_recursos}\n                            onChange={handleChange}\n                            error={!!errors.proposito_recursos}\n                            helperText={errors.proposito_recursos || 'Describa detalladamente el destino de los recursos (mínimo 20 caracteres)'}\n                            placeholder=\"Ejemplo: Capital de trabajo para aumentar inventario, expansión de operaciones, compra de maquinaria, etc.\"\n                            required\n                        />\n                    </Grid>\n\n                    <Grid item xs={12}>\n                        <TextField\n                            fullWidth\n                            multiline\n                            rows={4}\n                            name=\"detalle_activos_fijos\"\n                            label=\"¿Planea adquirir activos fijos con este crédito? Si es así, descríbalos.\"\n                            value={formData.detalle_activos_fijos}\n                            onChange={handleChange}\n                            error={!!errors.detalle_activos_fijos}\n                            helperText={errors.detalle_activos_fijos || 'Especifique qué activos fijos planea adquirir o escriba \"No aplica\" (mínimo 10 caracteres)'}\n                            placeholder=\"Ejemplo: Maquinaria industrial, vehículos, equipos de cómputo, inmuebles, etc. O escriba 'No aplica' si no planea adquirir activos fijos.\"\n                            required\n                        />\n                    </Grid>\n                </Grid>\n            </Paper>\n\n            {/* Botón de envío */}\n            <Box sx={{ display: 'flex', justifyContent: 'flex-end', mt: 4 }}>\n                <Button \n                    variant=\"contained\" \n                    size=\"large\" \n                    onClick={handleSubmit} \n                    disabled={loading}\n                    sx={{ minWidth: 200 }}\n                >\n                    {loading ? (\n                        <>\n                            <CircularProgress size={20} sx={{ mr: 1 }} />\n                            Enviando...\n                        </>\n                    ) : (\n                        'Guardar y Continuar'\n                    )}\n                </Button>\n            </Box>\n        </Box>\n    );\n};\n\nexport default FormularioFinanciero;","usedDeprecatedRules":[{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"D:\\CLIENTES\\Wy Credito Tecnología\\web\\wy-credito Completo v1.0\\src\\components\\Forms\\FormularioGarantia.jsx","messages":[{"ruleId":"no-unused-vars","severity":1,"message":"'PhotoCameraIcon' is defined but never used.","line":13,"column":25,"nodeType":"Identifier","messageId":"unusedVar","endLine":13,"endColumn":40}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"// src/components/Forms/FormularioGarantia.jsx\nimport React, { useState } from 'react';\nimport { \n    Box, \n    TextField, \n    Button, \n    Typography, \n    Paper, \n    Alert,\n    InputAdornment,\n    CircularProgress\n} from '@mui/material';\nimport { PhotoCamera as PhotoCameraIcon } from '@mui/icons-material';\nimport FileUploadImage from '../FileUpload/FileUploadImage';\n\nconst FormularioGarantia = ({ sessionId, onStepComplete }) => {\n    const [formData, setFormData] = useState({\n        descripcion_garantia: '',\n        valor_estimado: '',\n        url_foto: ''\n    });\n    const [loading, setLoading] = useState(false);\n    const [error, setError] = useState('');\n\n    const handleInputChange = (e) => {\n        const { name, value } = e.target;\n        setFormData(prev => ({\n            ...prev,\n            [name]: value\n        }));\n    };\n\n    const handleImageUpload = (url) => {\n        setFormData(prev => ({\n            ...prev,\n            url_foto: url\n        }));\n    };\n\n    const validateForm = () => {\n        if (!formData.descripcion_garantia.trim()) {\n            setError('La descripción de la garantía es obligatoria');\n            return false;\n        }\n        if (!formData.valor_estimado || parseFloat(formData.valor_estimado) <= 0) {\n            setError('El valor estimado debe ser mayor a 0');\n            return false;\n        }\n        if (!formData.url_foto) {\n            setError('Debe adjuntar una foto de la garantía');\n            return false;\n        }\n        return true;\n    };\n\n    const handleSubmit = async (e) => {\n        e.preventDefault();\n        setError('');\n\n        if (!validateForm()) {\n            return;\n        }\n\n        setLoading(true);\n\n        try {\n            const response = await fetch('/api/orquestador', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json',\n                },\n                body: JSON.stringify({\n                    action: 'save_data',\n                    sessionId,\n                    data: formData\n                }),\n            });\n\n            const result = await response.json();\n\n            if (result.success) {\n                if (onStepComplete) {\n                    onStepComplete();\n                }\n            } else {\n                setError(result.error || 'Error al guardar la información de la garantía');\n            }\n        } catch (err) {\n            setError('Error de conexión. Por favor, intente nuevamente.');\n        } finally {\n            setLoading(false);\n        }\n    };\n\n    return (\n        <Box component=\"form\" onSubmit={handleSubmit} sx={{ maxWidth: 600, mx: 'auto', p: 3 }}>\n            <Typography variant=\"h5\" gutterBottom sx={{ fontWeight: 'bold', color: 'primary.main' }}>\n                Paso 6: Garantía Mobiliaria\n            </Typography>\n            \n            <Typography variant=\"body1\" sx={{ mb: 3, color: 'text.secondary' }}>\n                Registre la información de la garantía que respalda su solicitud de crédito.\n            </Typography>\n\n            {error && (\n                <Alert severity=\"error\" sx={{ mb: 3 }}>\n                    {error}\n                </Alert>\n            )}\n\n            <Paper elevation={2} sx={{ p: 3, mb: 3 }}>\n                <Typography variant=\"h6\" gutterBottom sx={{ color: 'primary.main', mb: 2 }}>\n                    Información de la Garantía\n                </Typography>\n\n                {/* Foto de la Garantía */}\n                <Box sx={{ mb: 3 }}>\n                    <FileUploadImage\n                        label=\"Foto de la Garantía\"\n                        onUploadSuccess={handleImageUpload}\n                        sessionId={sessionId}\n                        documentType=\"foto_garantia\"\n                    />\n                </Box>\n\n                {/* Descripción */}\n                <TextField\n                    fullWidth\n                    multiline\n                    rows={4}\n                    label=\"Descripción de la Garantía\"\n                    name=\"descripcion_garantia\"\n                    value={formData.descripcion_garantia}\n                    onChange={handleInputChange}\n                    placeholder=\"Describa detalladamente la garantía (marca, modelo, características, estado, etc.)\"\n                    required\n                    sx={{ mb: 3 }}\n                />\n\n                {/* Valor Estimado */}\n                <TextField\n                    fullWidth\n                    type=\"number\"\n                    label=\"Valor Estimado\"\n                    name=\"valor_estimado\"\n                    value={formData.valor_estimado}\n                    onChange={handleInputChange}\n                    placeholder=\"Ingrese el valor estimado de la garantía\"\n                    required\n                    InputProps={{\n                        startAdornment: <InputAdornment position=\"start\">$</InputAdornment>,\n                    }}\n                    inputProps={{\n                        min: 0,\n                        step: 0.01\n                    }}\n                    sx={{ mb: 3 }}\n                />\n            </Paper>\n\n            <Box sx={{ display: 'flex', justifyContent: 'center', mt: 4 }}>\n                <Button\n                    type=\"submit\"\n                    variant=\"contained\"\n                    size=\"large\"\n                    disabled={loading}\n                    sx={{ \n                        minWidth: 200,\n                        py: 1.5,\n                        fontSize: '1.1rem',\n                        fontWeight: 'bold'\n                    }}\n                >\n                    {loading ? (\n                        <>\n                            <CircularProgress size={20} sx={{ mr: 1 }} />\n                            Guardando...\n                        </>\n                    ) : (\n                        'Continuar al Resumen'\n                    )}\n                </Button>\n            </Box>\n        </Box>\n    );\n};\n\nexport default FormularioGarantia;","usedDeprecatedRules":[{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"D:\\CLIENTES\\Wy Credito Tecnología\\web\\wy-credito Completo v1.0\\src\\components\\Forms\\FormularioReferencias.jsx","messages":[{"ruleId":"no-useless-escape","severity":1,"message":"Unnecessary escape character: \\(.","line":45,"column":33,"nodeType":"Literal","messageId":"unnecessaryEscape","endLine":45,"endColumn":34,"suggestions":[{"messageId":"removeEscape","fix":{"range":[1132,1133],"text":""},"desc":"Remove the `\\`. This maintains the current functionality."},{"messageId":"escapeBackslash","fix":{"range":[1132,1132],"text":"\\"},"desc":"Replace the `\\` with `\\\\` to include the actual backslash character."}]},{"ruleId":"no-useless-escape","severity":1,"message":"Unnecessary escape character: \\).","line":45,"column":35,"nodeType":"Literal","messageId":"unnecessaryEscape","endLine":45,"endColumn":36,"suggestions":[{"messageId":"removeEscape","fix":{"range":[1134,1135],"text":""},"desc":"Remove the `\\`. This maintains the current functionality."},{"messageId":"escapeBackslash","fix":{"range":[1134,1134],"text":"\\"},"desc":"Replace the `\\` with `\\\\` to include the actual backslash character."}]},{"ruleId":"no-useless-escape","severity":1,"message":"Unnecessary escape character: \\+.","line":45,"column":37,"nodeType":"Literal","messageId":"unnecessaryEscape","endLine":45,"endColumn":38,"suggestions":[{"messageId":"removeEscape","fix":{"range":[1136,1137],"text":""},"desc":"Remove the `\\`. This maintains the current functionality."},{"messageId":"escapeBackslash","fix":{"range":[1136,1136],"text":"\\"},"desc":"Replace the `\\` with `\\\\` to include the actual backslash character."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":103,"column":7,"nodeType":"MemberExpression","messageId":"unexpected","endLine":103,"endColumn":18,"suggestions":[{"messageId":"removeConsole","data":{"propertyName":"log"},"fix":{"range":[2947,3002],"text":""},"desc":"Remove the console.log()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":119,"column":7,"nodeType":"MemberExpression","messageId":"unexpected","endLine":119,"endColumn":18,"suggestions":[{"messageId":"removeConsole","data":{"propertyName":"log"},"fix":{"range":[3394,3444],"text":""},"desc":"Remove the console.log()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":127,"column":7,"nodeType":"MemberExpression","messageId":"unexpected","endLine":127,"endColumn":20,"suggestions":[{"messageId":"removeConsole","data":{"propertyName":"error"},"fix":{"range":[3601,3654],"text":""},"desc":"Remove the console.error()."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useState } from 'react';\nimport {\n  Box,\n  TextField,\n  Button,\n  Typography,\n  Alert,\n  CircularProgress,\n  Paper,\n  Grid\n} from '@mui/material';\n\nconst FormularioReferencias = ({ sessionId, onStepComplete }) => {\n  // Estado para los campos del formulario\n  const [formData, setFormData] = useState({\n    nombre_referencia_1: '',\n    telefono_referencia_1: '',\n    nombre_referencia_2: '',\n    telefono_referencia_2: ''\n  });\n\n  // Estados para manejo de UI\n  const [errors, setErrors] = useState({});\n  const [isSubmitting, setIsSubmitting] = useState(false);\n  const [submitError, setSubmitError] = useState('');\n\n  // Función para manejar cambios en los inputs\n  const handleInputChange = (field, value) => {\n    setFormData(prev => ({\n      ...prev,\n      [field]: value\n    }));\n\n    // Limpiar error del campo cuando el usuario empiece a escribir\n    if (errors[field]) {\n      setErrors(prev => ({\n        ...prev,\n        [field]: ''\n      }));\n    }\n  };\n\n  // Validación de formato de teléfono (números, espacios, guiones, paréntesis)\n  const validatePhone = (phone) => {\n    const phoneRegex = /^[\\d\\s\\-\\(\\)\\+]{7,15}$/;\n    return phoneRegex.test(phone.trim());\n  };\n\n  // Función de validación\n  const validateForm = () => {\n    const newErrors = {};\n\n    // Validar campos requeridos\n    if (!formData.nombre_referencia_1.trim()) {\n      newErrors.nombre_referencia_1 = 'El nombre de la primera referencia es requerido';\n    }\n\n    if (!formData.telefono_referencia_1.trim()) {\n      newErrors.telefono_referencia_1 = 'El teléfono de la primera referencia es requerido';\n    } else if (!validatePhone(formData.telefono_referencia_1)) {\n      newErrors.telefono_referencia_1 = 'Formato de teléfono inválido';\n    }\n\n    if (!formData.nombre_referencia_2.trim()) {\n      newErrors.nombre_referencia_2 = 'El nombre de la segunda referencia es requerido';\n    }\n\n    if (!formData.telefono_referencia_2.trim()) {\n      newErrors.telefono_referencia_2 = 'El teléfono de la segunda referencia es requerido';\n    } else if (!validatePhone(formData.telefono_referencia_2)) {\n      newErrors.telefono_referencia_2 = 'Formato de teléfono inválido';\n    }\n\n    setErrors(newErrors);\n    return Object.keys(newErrors).length === 0;\n  };\n\n  // Función para enviar el formulario\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    \n    if (!validateForm()) {\n      return;\n    }\n\n    setIsSubmitting(true);\n    setSubmitError('');\n\n    try {\n      // Preparar payload para el orquestador\n      const payload = {\n        action: 'submit_form_step',\n        sessionId: sessionId,\n        step: 4,\n        data: {\n          nombre_referencia_1: formData.nombre_referencia_1.trim(),\n          telefono_referencia_1: formData.telefono_referencia_1.trim(),\n          nombre_referencia_2: formData.nombre_referencia_2.trim(),\n          telefono_referencia_2: formData.telefono_referencia_2.trim()\n        }\n      };\n\n      console.log('Enviando datos de referencias:', payload);\n\n      // Enviar al orquestador\n      const response = await fetch('/api/orchestrator', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify(payload)\n      });\n\n      if (!response.ok) {\n        throw new Error(`Error del servidor: ${response.status}`);\n      }\n\n      const result = await response.json();\n      console.log('Respuesta del orquestador:', result);\n\n      // Notificar al componente padre que el paso se completó\n      if (onStepComplete) {\n        onStepComplete(4);\n      }\n\n    } catch (error) {\n      console.error('Error al enviar referencias:', error);\n      setSubmitError('Error al enviar la información. Por favor, inténtelo de nuevo.');\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n\n  return (\n    <Box sx={{ maxWidth: 800, mx: 'auto', p: 3 }}>\n      <Paper elevation={3} sx={{ p: 4 }}>\n        <Typography variant=\"h4\" component=\"h1\" gutterBottom align=\"center\">\n          Paso 4: Referencias Comerciales\n        </Typography>\n        \n        <Typography variant=\"body1\" color=\"text.secondary\" paragraph align=\"center\">\n          Proporcione información de dos referencias comerciales que puedan dar testimonio \n          de la actividad y reputación de su empresa.\n        </Typography>\n\n        <Box component=\"form\" onSubmit={handleSubmit} sx={{ mt: 3 }}>\n          {/* Referencia 1 */}\n          <Typography variant=\"h6\" gutterBottom sx={{ mt: 3, mb: 2 }}>\n            Referencia Comercial #1\n          </Typography>\n          \n          <Grid container spacing={3}>\n            <Grid item xs={12} md={6}>\n              <TextField\n                fullWidth\n                label=\"Nombre Completo - Referencia 1\"\n                value={formData.nombre_referencia_1}\n                onChange={(e) => handleInputChange('nombre_referencia_1', e.target.value)}\n                error={!!errors.nombre_referencia_1}\n                helperText={errors.nombre_referencia_1}\n                required\n                placeholder=\"Ej: Juan Carlos Pérez\"\n              />\n            </Grid>\n            \n            <Grid item xs={12} md={6}>\n              <TextField\n                fullWidth\n                label=\"Teléfono - Referencia 1\"\n                value={formData.telefono_referencia_1}\n                onChange={(e) => handleInputChange('telefono_referencia_1', e.target.value)}\n                error={!!errors.telefono_referencia_1}\n                helperText={errors.telefono_referencia_1}\n                required\n                placeholder=\"Ej: 300 123 4567\"\n              />\n            </Grid>\n          </Grid>\n\n          {/* Referencia 2 */}\n          <Typography variant=\"h6\" gutterBottom sx={{ mt: 4, mb: 2 }}>\n            Referencia Comercial #2\n          </Typography>\n          \n          <Grid container spacing={3}>\n            <Grid item xs={12} md={6}>\n              <TextField\n                fullWidth\n                label=\"Nombre Completo - Referencia 2\"\n                value={formData.nombre_referencia_2}\n                onChange={(e) => handleInputChange('nombre_referencia_2', e.target.value)}\n                error={!!errors.nombre_referencia_2}\n                helperText={errors.nombre_referencia_2}\n                required\n                placeholder=\"Ej: María Elena Rodríguez\"\n              />\n            </Grid>\n            \n            <Grid item xs={12} md={6}>\n              <TextField\n                fullWidth\n                label=\"Teléfono - Referencia 2\"\n                value={formData.telefono_referencia_2}\n                onChange={(e) => handleInputChange('telefono_referencia_2', e.target.value)}\n                error={!!errors.telefono_referencia_2}\n                helperText={errors.telefono_referencia_2}\n                required\n                placeholder=\"Ej: 301 987 6543\"\n              />\n            </Grid>\n          </Grid>\n\n          {/* Error de envío */}\n          {submitError && (\n            <Alert severity=\"error\" sx={{ mt: 3 }}>\n              {submitError}\n            </Alert>\n          )}\n\n          {/* Botón de envío */}\n          <Box sx={{ mt: 4, textAlign: 'center' }}>\n            <Button\n              type=\"submit\"\n              variant=\"contained\"\n              size=\"large\"\n              disabled={isSubmitting}\n              sx={{ minWidth: 200 }}\n            >\n              {isSubmitting ? (\n                <>\n                  <CircularProgress size={20} sx={{ mr: 1 }} />\n                  Enviando...\n                </>\n              ) : (\n                'Continuar al Siguiente Paso'\n              )}\n            </Button>\n          </Box>\n        </Box>\n      </Paper>\n    </Box>\n  );\n};\n\nexport default FormularioReferencias;","usedDeprecatedRules":[{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"D:\\CLIENTES\\Wy Credito Tecnología\\web\\wy-credito Completo v1.0\\src\\components\\Forms\\PantallaResumen.jsx","messages":[{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has a missing dependency: 'loadSummaryData'. Either include it or remove the dependency array.","line":36,"column":8,"nodeType":"ArrayExpression","endLine":36,"endColumn":19,"suggestions":[{"desc":"Update the dependencies array to be: [loadSummaryData, sessionId]","fix":{"range":[917,928],"text":"[loadSummaryData, sessionId]"}}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"// src/components/Forms/PantallaResumen.jsx\nimport React, { useState, useEffect } from 'react';\nimport { \n    Box, \n    Typography, \n    Paper, \n    List, \n    ListItem, \n    ListItemText, \n    Button, \n    Alert,\n    CircularProgress,\n    Divider,\n    Chip,\n    Grid\n} from '@mui/material';\nimport { \n    Business as BusinessIcon,\n    Description as DescriptionIcon,\n    AccountBalance as AccountBalanceIcon,\n    People as PeopleIcon,\n    Gavel as GavelIcon,\n    Security as SecurityIcon,\n    Send as SendIcon\n} from '@mui/icons-material';\n\nconst PantallaResumen = ({ sessionId, onStepComplete }) => {\n    const [summaryData, setSummaryData] = useState(null);\n    const [loading, setLoading] = useState(true);\n    const [submitting, setSubmitting] = useState(false);\n    const [error, setError] = useState('');\n    const [success, setSuccess] = useState('');\n\n    useEffect(() => {\n        loadSummaryData();\n    }, [sessionId]);\n\n    const loadSummaryData = async () => {\n        try {\n            const response = await fetch('/api/orchestrator', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json',\n                },\n                body: JSON.stringify({\n                    action: 'get_summary_data',\n                    sessionId\n                }),\n            });\n\n            const result = await response.json();\n\n            if (result.success) {\n                setSummaryData(result.data);\n            } else {\n                setError(result.error || 'Error al cargar los datos del resumen');\n            }\n        } catch (err) {\n            setError('Error de conexión al cargar el resumen');\n        } finally {\n            setLoading(false);\n        }\n    };\n\n    const handleFinalSubmission = async () => {\n        setSubmitting(true);\n        setError('');\n\n        try {\n            const response = await fetch('/api/orchestrator', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json',\n                },\n                body: JSON.stringify({\n                    action: 'complete_submission',\n                    sessionId\n                }),\n            });\n\n            const result = await response.json();\n\n            if (result.success) {\n                setSuccess(`¡Solicitud enviada exitosamente! Código de seguimiento: ${result.trackingCode}`);\n                if (onStepComplete) {\n                    onStepComplete();\n                }\n            } else {\n                setError(result.error || 'Error al enviar la solicitud');\n            }\n        } catch (err) {\n            setError('Error de conexión al enviar la solicitud');\n        } finally {\n            setSubmitting(false);\n        }\n    };\n\n    if (loading) {\n        return (\n            <Box sx={{ display: 'flex', justifyContent: 'center', alignItems: 'center', minHeight: 400 }}>\n                <CircularProgress size={60} />\n                <Typography variant=\"h6\" sx={{ ml: 2 }}>Cargando resumen...</Typography>\n            </Box>\n        );\n    }\n\n    if (!summaryData) {\n        return (\n            <Alert severity=\"error\">\n                No se pudieron cargar los datos del resumen. Por favor, intente nuevamente.\n            </Alert>\n        );\n    }\n\n    const { solicitud, empresa, documentos, garantia } = summaryData;\n\n    return (\n        <Box sx={{ maxWidth: 800, mx: 'auto', p: 3 }}>\n            <Typography variant=\"h4\" gutterBottom sx={{ fontWeight: 'bold', color: 'primary.main', textAlign: 'center' }}>\n                Resumen de su Solicitud de Crédito\n            </Typography>\n            \n            <Typography variant=\"body1\" sx={{ mb: 4, textAlign: 'center', color: 'text.secondary' }}>\n                Revise cuidadosamente toda la información antes de enviar su solicitud.\n            </Typography>\n\n            {error && (\n                <Alert severity=\"error\" sx={{ mb: 3 }}>\n                    {error}\n                </Alert>\n            )}\n\n            {success && (\n                <Alert severity=\"success\" sx={{ mb: 3 }}>\n                    {success}\n                </Alert>\n            )}\n\n            {/* Información de la Solicitud */}\n            <Paper elevation={2} sx={{ p: 3, mb: 3 }}>\n                <Box sx={{ display: 'flex', alignItems: 'center', mb: 2 }}>\n                    <AccountBalanceIcon sx={{ mr: 1, color: 'primary.main' }} />\n                    <Typography variant=\"h6\" sx={{ fontWeight: 'bold' }}>\n                        Información de la Solicitud\n                    </Typography>\n                </Box>\n                <Grid container spacing={2}>\n                    <Grid item xs={12} sm={6}>\n                        <Typography variant=\"body2\" color=\"text.secondary\">Monto Solicitado:</Typography>\n                        <Typography variant=\"h6\" sx={{ fontWeight: 'bold' }}>\n                            ${solicitud?.monto_solicitado?.toLocaleString() || 'N/A'}\n                        </Typography>\n                    </Grid>\n                    <Grid item xs={12} sm={6}>\n                        <Typography variant=\"body2\" color=\"text.secondary\">Plazo:</Typography>\n                        <Typography variant=\"h6\" sx={{ fontWeight: 'bold' }}>\n                            {solicitud?.plazo_meses || 'N/A'} meses\n                        </Typography>\n                    </Grid>\n                    <Grid item xs={12}>\n                        <Typography variant=\"body2\" color=\"text.secondary\">Propósito:</Typography>\n                        <Typography variant=\"body1\">{solicitud?.proposito || 'N/A'}</Typography>\n                    </Grid>\n                </Grid>\n            </Paper>\n\n            {/* Información de la Empresa */}\n            <Paper elevation={2} sx={{ p: 3, mb: 3 }}>\n                <Box sx={{ display: 'flex', alignItems: 'center', mb: 2 }}>\n                    <BusinessIcon sx={{ mr: 1, color: 'primary.main' }} />\n                    <Typography variant=\"h6\" sx={{ fontWeight: 'bold' }}>\n                        Información de la Empresa\n                    </Typography>\n                </Box>\n                <List dense>\n                    <ListItem>\n                        <ListItemText \n                            primary=\"Razón Social\" \n                            secondary={empresa?.razon_social || 'N/A'} \n                        />\n                    </ListItem>\n                    <ListItem>\n                        <ListItemText \n                            primary=\"NIT\" \n                            secondary={empresa?.nit || 'N/A'} \n                        />\n                    </ListItem>\n                    <ListItem>\n                        <ListItemText \n                            primary=\"Sector Económico\" \n                            secondary={empresa?.sector_economico || 'N/A'} \n                        />\n                    </ListItem>\n                    <ListItem>\n                        <ListItemText \n                            primary=\"Años de Funcionamiento\" \n                            secondary={empresa?.anos_funcionamiento || 'N/A'} \n                        />\n                    </ListItem>\n                    <ListItem>\n                        <ListItemText \n                            primary=\"Número de Empleados\" \n                            secondary={empresa?.numero_empleados || 'N/A'} \n                        />\n                    </ListItem>\n                </List>\n            </Paper>\n\n            {/* Documentos Cargados */}\n            <Paper elevation={2} sx={{ p: 3, mb: 3 }}>\n                <Box sx={{ display: 'flex', alignItems: 'center', mb: 2 }}>\n                    <DescriptionIcon sx={{ mr: 1, color: 'primary.main' }} />\n                    <Typography variant=\"h6\" sx={{ fontWeight: 'bold' }}>\n                        Documentos Cargados\n                    </Typography>\n                </Box>\n                <Box sx={{ display: 'flex', flexWrap: 'wrap', gap: 1 }}>\n                    {documentos && documentos.length > 0 ? (\n                        documentos.map((doc, index) => (\n                            <Chip \n                                key={index}\n                                label={doc.tipo_documento}\n                                color=\"success\"\n                                variant=\"outlined\"\n                            />\n                        ))\n                    ) : (\n                        <Typography color=\"text.secondary\">No hay documentos cargados</Typography>\n                    )}\n                </Box>\n            </Paper>\n\n            {/* Referencias */}\n            {(empresa?.nombre_referencia_1 || empresa?.nombre_referencia_2) && (\n                <Paper elevation={2} sx={{ p: 3, mb: 3 }}>\n                    <Box sx={{ display: 'flex', alignItems: 'center', mb: 2 }}>\n                        <PeopleIcon sx={{ mr: 1, color: 'primary.main' }} />\n                        <Typography variant=\"h6\" sx={{ fontWeight: 'bold' }}>\n                            Referencias Comerciales\n                        </Typography>\n                    </Box>\n                    <Grid container spacing={2}>\n                        {empresa?.nombre_referencia_1 && (\n                            <Grid item xs={12} sm={6}>\n                                <Typography variant=\"body2\" color=\"text.secondary\">Referencia 1:</Typography>\n                                <Typography variant=\"body1\">{empresa.nombre_referencia_1}</Typography>\n                                <Typography variant=\"body2\">{empresa.telefono_referencia_1}</Typography>\n                            </Grid>\n                        )}\n                        {empresa?.nombre_referencia_2 && (\n                            <Grid item xs={12} sm={6}>\n                                <Typography variant=\"body2\" color=\"text.secondary\">Referencia 2:</Typography>\n                                <Typography variant=\"body1\">{empresa.nombre_referencia_2}</Typography>\n                                <Typography variant=\"body2\">{empresa.telefono_referencia_2}</Typography>\n                            </Grid>\n                        )}\n                    </Grid>\n                </Paper>\n            )}\n\n            {/* Garantía */}\n            {garantia && (\n                <Paper elevation={2} sx={{ p: 3, mb: 3 }}>\n                    <Box sx={{ display: 'flex', alignItems: 'center', mb: 2 }}>\n                        <SecurityIcon sx={{ mr: 1, color: 'primary.main' }} />\n                        <Typography variant=\"h6\" sx={{ fontWeight: 'bold' }}>\n                            Garantía Mobiliaria\n                        </Typography>\n                    </Box>\n                    <Typography variant=\"body2\" color=\"text.secondary\">Descripción:</Typography>\n                    <Typography variant=\"body1\" sx={{ mb: 2 }}>{garantia.descripcion}</Typography>\n                    <Typography variant=\"body2\" color=\"text.secondary\">Valor Estimado:</Typography>\n                    <Typography variant=\"h6\" sx={{ fontWeight: 'bold' }}>\n                        ${garantia.valor_estimado?.toLocaleString() || 'N/A'}\n                    </Typography>\n                </Paper>\n            )}\n\n            {/* Declaraciones */}\n            <Paper elevation={2} sx={{ p: 3, mb: 4 }}>\n                <Box sx={{ display: 'flex', alignItems: 'center', mb: 2 }}>\n                    <GavelIcon sx={{ mr: 1, color: 'primary.main' }} />\n                    <Typography variant=\"h6\" sx={{ fontWeight: 'bold' }}>\n                        Declaraciones Aceptadas\n                    </Typography>\n                </Box>\n                <List dense>\n                    <ListItem>\n                        <ListItemText \n                            primary=\"✓ Acepto que el crédito será destinado únicamente para fines productivos\"\n                        />\n                    </ListItem>\n                    <ListItem>\n                        <ListItemText \n                            primary=\"✓ Declaro que el crédito no será utilizado para gastos personales\"\n                        />\n                    </ListItem>\n                    <ListItem>\n                        <ListItemText \n                            primary=\"✓ Autorizo el tratamiento de mis datos personales según la política de habeas data\"\n                        />\n                    </ListItem>\n                </List>\n            </Paper>\n\n            <Divider sx={{ mb: 4 }} />\n\n            {/* Botón de Envío Final */}\n            <Box sx={{ display: 'flex', justifyContent: 'center' }}>\n                <Button\n                    onClick={handleFinalSubmission}\n                    variant=\"contained\"\n                    size=\"large\"\n                    disabled={submitting || success}\n                    startIcon={submitting ? <CircularProgress size={20} /> : <SendIcon />}\n                    sx={{ \n                        minWidth: 300,\n                        py: 2,\n                        fontSize: '1.2rem',\n                        fontWeight: 'bold',\n                        backgroundColor: success ? 'success.main' : 'primary.main'\n                    }}\n                >\n                    {submitting ? 'Enviando Solicitud...' : success ? 'Solicitud Enviada' : 'Confirmar y Enviar Solicitud'}\n                </Button>\n            </Box>\n\n            {success && (\n                <Typography variant=\"body2\" sx={{ textAlign: 'center', mt: 2, color: 'text.secondary' }}>\n                    Recibirá un correo de confirmación con los detalles de su solicitud.\n                </Typography>\n            )}\n        </Box>\n    );\n};\n\nexport default PantallaResumen;","usedDeprecatedRules":[{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"D:\\CLIENTES\\Wy Credito Tecnología\\web\\wy-credito Completo v1.0\\src\\components\\Layout\\AppLayout.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"D:\\CLIENTES\\Wy Credito Tecnología\\web\\wy-credito Completo v1.0\\src\\components\\Layout\\Footer.jsx","messages":[{"ruleId":"jsx-a11y/anchor-is-valid","severity":2,"message":"The href attribute requires a valid value to be accessible. Provide a valid, navigable address as the href value. If you cannot provide a valid href, but still need the element to resemble a link, use a button and change it with appropriate styles. Learn more: https://github.com/jsx-eslint/eslint-plugin-jsx-a11y/blob/HEAD/docs/rules/anchor-is-valid.md","line":27,"column":13,"nodeType":"JSXOpeningElement","endLine":27,"endColumn":68},{"ruleId":"jsx-a11y/anchor-is-valid","severity":2,"message":"The href attribute requires a valid value to be accessible. Provide a valid, navigable address as the href value. If you cannot provide a valid href, but still need the element to resemble a link, use a button and change it with appropriate styles. Learn more: https://github.com/jsx-eslint/eslint-plugin-jsx-a11y/blob/HEAD/docs/rules/anchor-is-valid.md","line":28,"column":13,"nodeType":"JSXOpeningElement","endLine":28,"endColumn":68},{"ruleId":"jsx-a11y/anchor-is-valid","severity":2,"message":"The href attribute requires a valid value to be accessible. Provide a valid, navigable address as the href value. If you cannot provide a valid href, but still need the element to resemble a link, use a button and change it with appropriate styles. Learn more: https://github.com/jsx-eslint/eslint-plugin-jsx-a11y/blob/HEAD/docs/rules/anchor-is-valid.md","line":29,"column":13,"nodeType":"JSXOpeningElement","endLine":29,"endColumn":68}],"suppressedMessages":[],"errorCount":3,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React from 'react';\nimport { Link } from 'react-router-dom';\n// Usaremos los íconos que instalamos anteriormente\nimport { Facebook, Twitter, Linkedin } from 'lucide-react';\n\nconst Footer = () => {\n  return (\n    <footer className=\"bg-gray-950 border-t border-white/10 py-8\">\n      <div className=\"container mx-auto px-4 md:px-6 grid grid-cols-1 md:grid-cols-3 gap-8 text-sm\">\n        <div>\n          <h3 className=\"text-lg font-bold text-white mb-2\">Wy Credito</h3>\n          <p className=\"text-gray-400\">Financiación inteligente para el futuro de tu empresa. Bogotá, Colombia.</p>\n        </div>\n        <div>\n          <h3 className=\"text-lg font-bold text-white mb-2\">Navegación</h3>\n          <ul className=\"space-y-2\">\n            <li><Link to=\"/#beneficios\" className=\"text-gray-400 hover:text-white\">Beneficios</Link></li>\n            <li><Link to=\"/solicitud\" className=\"text-gray-400 hover:text-white\">Solicitar Crédito</Link></li>\n            <li><Link to=\"/terminos-y-condiciones\" className=\"text-gray-400 hover:text-white\">Términos y Condiciones</Link></li>\n            <li><Link to=\"/politica-de-privacidad\" className=\"text-gray-400 hover:text-white\">Política de Privacidad</Link></li>\n            <li><Link to=\"/politica-de-cookies\" className=\"text-gray-400 hover:text-white\">Política de Cookies</Link></li>\n          </ul>\n        </div>\n        <div>\n          <h3 className=\"text-lg font-bold text-white mb-2\">Síguenos</h3>\n          <div className=\"flex gap-4\">\n            <a href=\"#\" className=\"text-gray-400 hover:text-white\"><Twitter size={20} /></a>\n            <a href=\"#\" className=\"text-gray-400 hover:text-white\"><Facebook size={20} /></a>\n            <a href=\"#\" className=\"text-gray-400 hover:text-white\"><Linkedin size={20} /></a>\n          </div>\n        </div>\n      </div>\n      <div className=\"container mx-auto px-4 md:px-6 mt-8 text-center text-gray-500 text-xs\">\n        &copy; {new Date().getFullYear()} Wy Credito. Todos los derechos reservados.\n      </div>\n    </footer>\n  );\n};\n\nexport default Footer;","usedDeprecatedRules":[{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"D:\\CLIENTES\\Wy Credito Tecnología\\web\\wy-credito Completo v1.0\\src\\components\\Layout\\Navbar.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"D:\\CLIENTES\\Wy Credito Tecnología\\web\\wy-credito Completo v1.0\\src\\components\\MainLayout.jsx","messages":[{"ruleId":"import/no-named-as-default","severity":1,"message":"Using exported name 'OrquestadorWally' as identifier for default import.","line":15,"column":8,"nodeType":"ImportDefaultSpecifier","endLine":15,"endColumn":24},{"ruleId":"no-unused-vars","severity":1,"message":"'orquestador' is assigned a value but never used.","line":69,"column":10,"nodeType":"Identifier","messageId":"unusedVar","endLine":69,"endColumn":21},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":97,"column":7,"nodeType":"MemberExpression","messageId":"unexpected","endLine":97,"endColumn":18,"suggestions":[{"messageId":"removeConsole","data":{"propertyName":"log"},"fix":{"range":[3243,3295],"text":""},"desc":"Remove the console.log()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":99,"column":7,"nodeType":"MemberExpression","messageId":"unexpected","endLine":99,"endColumn":20,"suggestions":[{"messageId":"removeConsole","data":{"propertyName":"error"},"fix":{"range":[3324,3378],"text":""},"desc":"Remove the console.error()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":138,"column":7,"nodeType":"MemberExpression","messageId":"unexpected","endLine":138,"endColumn":20,"suggestions":[{"messageId":"removeConsole","data":{"propertyName":"error"},"fix":{"range":[4423,4470],"text":""},"desc":"Remove the console.error()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":171,"column":7,"nodeType":"MemberExpression","messageId":"unexpected","endLine":171,"endColumn":20,"suggestions":[{"messageId":"removeConsole","data":{"propertyName":"error"},"fix":{"range":[5301,5363],"text":""},"desc":"Remove the console.error()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":197,"column":7,"nodeType":"MemberExpression","messageId":"unexpected","endLine":197,"endColumn":20,"suggestions":[{"messageId":"removeConsole","data":{"propertyName":"error"},"fix":{"range":[5963,6017],"text":""},"desc":"Remove the console.error()."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":7,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useState, useEffect } from 'react';\nimport { Box, Stepper, Step, StepLabel, Typography, Container, Paper } from '@mui/material';\nimport { styled } from '@mui/material/styles';\n\n// Importar todos los componentes de formulario\nimport FormularioEmpresa from './forms/FormularioEmpresa';\nimport FormularioFinanciero from './forms/FormularioFinanciero';\nimport FormularioDocumentacion from './forms/FormularioDocumentacion';\nimport FormularioReferencias from './forms/FormularioReferencias';\nimport FormularioAceptacion from './forms/FormularioAceptacion';\nimport FormularioGarantia from './forms/FormularioGarantia';\nimport PantallaResumen from './forms/PantallaResumen';\n\n// Importar el orquestador\nimport OrquestadorWally from '../services/orquestador';\n\n// Styled components\nconst StyledContainer = styled(Container)(({ theme }) => ({\n  minHeight: '100vh',\n  paddingTop: theme.spacing(4),\n  paddingBottom: theme.spacing(4),\n  background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',\n}));\n\nconst StyledPaper = styled(Paper)(({ theme }) => ({\n  padding: theme.spacing(4),\n  borderRadius: theme.spacing(2),\n  boxShadow: '0 20px 40px rgba(0,0,0,0.1)',\n  background: 'rgba(255, 255, 255, 0.95)',\n  backdropFilter: 'blur(10px)',\n}));\n\nconst StyledStepper = styled(Stepper)(({ theme }) => ({\n  marginBottom: theme.spacing(4),\n  '& .MuiStepLabel-root': {\n    '& .MuiStepLabel-label': {\n      fontSize: '0.875rem',\n      fontWeight: 500,\n    },\n  },\n  '& .MuiStepIcon-root': {\n    fontSize: '1.5rem',\n    '&.Mui-active': {\n      color: '#667eea',\n    },\n    '&.Mui-completed': {\n      color: '#4caf50',\n    },\n  },\n}));\n\n// Definición de los 7 pasos del flujo completo\nconst steps = [\n  { id: 1, label: 'Información Empresarial', component: 'empresa' },\n  { id: 2, label: 'Documentación Legal', component: 'documentacion' },\n  { id: 3, label: 'Información Financiera', component: 'financiero' },\n  { id: 4, label: 'Referencias Comerciales', component: 'referencias' },\n  { id: 5, label: 'Declaraciones y Aceptación', component: 'aceptacion' },\n  { id: 6, label: 'Garantía', component: 'garantia' },\n  { id: 7, label: 'Resumen Final', component: 'resumen' }\n];\n\nconst MainLayout = () => {\n  // Estados principales\n  const [currentStep, setCurrentStep] = useState(1);\n  const [sessionId, setSessionId] = useState(null);\n  const [formData, setFormData] = useState({});\n  const [loading, setLoading] = useState(false);\n  const [orquestador] = useState(new OrquestadorWally());\n\n  // Inicializar sesión al montar el componente\n  useEffect(() => {\n    initializeSession();\n  }, []);\n\n  const initializeSession = async () => {\n    try {\n      setLoading(true);\n      // Generar un ID de sesión único\n      const newSessionId = `session_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`;\n      setSessionId(newSessionId);\n      \n      // Crear registro inicial en la base de datos\n      const response = await fetch('/api/orchestrator', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({\n          action: 'init',\n          sessionId: newSessionId\n        })\n      });\n\n      if (!response.ok) {\n        throw new Error('Error inicializando sesión');\n      }\n\n      console.log('✅ Sesión inicializada:', newSessionId);\n    } catch (error) {\n      console.error('❌ Error inicializando sesión:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Función para avanzar al siguiente paso\n  const handleNext = async (stepData = {}) => {\n    try {\n      setLoading(true);\n      \n      // Actualizar datos del formulario\n      const updatedFormData = { ...formData, ...stepData };\n      setFormData(updatedFormData);\n\n      // Guardar datos del paso actual\n      if (Object.keys(stepData).length > 0) {\n        const response = await fetch('/api/orchestrator', {\n          method: 'POST',\n          headers: { 'Content-Type': 'application/json' },\n          body: JSON.stringify({\n            action: 'submit_form_step',\n            sessionId: sessionId,\n            stepData: stepData,\n            currentStep: currentStep\n          })\n        });\n\n        if (!response.ok) {\n          throw new Error('Error guardando datos del paso');\n        }\n      }\n\n      // Avanzar al siguiente paso si no estamos en el último\n      if (currentStep < steps.length) {\n        setCurrentStep(currentStep + 1);\n      }\n\n    } catch (error) {\n      console.error('❌ Error en handleNext:', error);\n      alert('Error guardando los datos. Por favor, inténtelo de nuevo.');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Función para retroceder al paso anterior\n  const handleBack = () => {\n    if (currentStep > 1) {\n      setCurrentStep(currentStep - 1);\n    }\n  };\n\n  // Función para obtener datos del resumen\n  const getSummaryData = async () => {\n    try {\n      const response = await fetch('/api/orchestrator', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({\n          action: 'get_summary_data',\n          sessionId: sessionId\n        })\n      });\n\n      if (!response.ok) {\n        throw new Error('Error obteniendo datos del resumen');\n      }\n\n      const result = await response.json();\n      return result.data;\n    } catch (error) {\n      console.error('❌ Error obteniendo datos del resumen:', error);\n      return null;\n    }\n  };\n\n  // Función para completar el envío\n  const completeSubmission = async () => {\n    try {\n      setLoading(true);\n      \n      const response = await fetch('/api/orchestrator', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({\n          action: 'complete_submission',\n          sessionId: sessionId\n        })\n      });\n\n      if (!response.ok) {\n        throw new Error('Error completando el envío');\n      }\n\n      const result = await response.json();\n      return result;\n    } catch (error) {\n      console.error('❌ Error completando el envío:', error);\n      throw error;\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Renderizar el componente del paso actual\n  const renderStepComponent = () => {\n    const currentStepData = steps.find(step => step.id === currentStep);\n    \n    if (!currentStepData) {\n      return <Typography>Paso no encontrado</Typography>;\n    }\n\n    const commonProps = {\n      onNext: handleNext,\n      onBack: handleBack,\n      formData: formData,\n      loading: loading,\n      sessionId: sessionId,\n      isFirstStep: currentStep === 1,\n      isLastStep: currentStep === steps.length\n    };\n\n    switch (currentStepData.component) {\n      case 'empresa':\n        return <FormularioEmpresa {...commonProps} />;\n      \n      case 'documentacion':\n        return <FormularioDocumentacion {...commonProps} />;\n      \n      case 'financiero':\n        return <FormularioFinanciero {...commonProps} />;\n      \n      case 'referencias':\n        return <FormularioReferencias {...commonProps} />;\n      \n      case 'aceptacion':\n        return <FormularioAceptacion {...commonProps} />;\n      \n      case 'garantia':\n        return <FormularioGarantia {...commonProps} />;\n      \n      case 'resumen':\n        return (\n          <PantallaResumen \n            {...commonProps}\n            getSummaryData={getSummaryData}\n            completeSubmission={completeSubmission}\n          />\n        );\n      \n      default:\n        return <Typography>Componente no encontrado</Typography>;\n    }\n  };\n\n  if (!sessionId) {\n    return (\n      <StyledContainer maxWidth=\"md\">\n        <StyledPaper>\n          <Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\" minHeight=\"200px\">\n            <Typography variant=\"h6\">Inicializando aplicación...</Typography>\n          </Box>\n        </StyledPaper>\n      </StyledContainer>\n    );\n  }\n\n  return (\n    <StyledContainer maxWidth=\"lg\">\n      <StyledPaper>\n        {/* Header con título */}\n        <Box textAlign=\"center\" mb={4}>\n          <Typography variant=\"h4\" component=\"h1\" gutterBottom sx={{ \n            fontWeight: 'bold', \n            color: '#333',\n            background: 'linear-gradient(45deg, #667eea, #764ba2)',\n            backgroundClip: 'text',\n            WebkitBackgroundClip: 'text',\n            WebkitTextFillColor: 'transparent'\n          }}>\n            Solicitud de Crédito Empresarial\n          </Typography>\n          <Typography variant=\"subtitle1\" color=\"text.secondary\">\n            Complete todos los pasos para enviar su solicitud\n          </Typography>\n        </Box>\n\n        {/* Stepper de progreso */}\n        <StyledStepper activeStep={currentStep - 1} alternativeLabel>\n          {steps.map((step) => (\n            <Step key={step.id}>\n              <StepLabel>{step.label}</StepLabel>\n            </Step>\n          ))}\n        </StyledStepper>\n\n        {/* Indicador de paso actual */}\n        <Box textAlign=\"center\" mb={3}>\n          <Typography variant=\"h6\" color=\"primary\">\n            Paso {currentStep} de {steps.length}: {steps.find(s => s.id === currentStep)?.label}\n          </Typography>\n        </Box>\n\n        {/* Contenido del paso actual */}\n        <Box>\n          {renderStepComponent()}\n        </Box>\n\n        {/* Footer con información de sesión (solo en desarrollo) */}\n        {process.env.NODE_ENV === 'development' && (\n          <Box mt={4} p={2} bgcolor=\"grey.100\" borderRadius={1}>\n            <Typography variant=\"caption\" color=\"text.secondary\">\n              Sesión: {sessionId} | Paso: {currentStep}/{steps.length}\n            </Typography>\n          </Box>\n        )}\n      </StyledPaper>\n    </StyledContainer>\n  );\n};\n\nexport default MainLayout;","usedDeprecatedRules":[{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"D:\\CLIENTES\\Wy Credito Tecnología\\web\\wy-credito Completo v1.0\\src\\components\\ScrollToTopButton.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"D:\\CLIENTES\\Wy Credito Tecnología\\web\\wy-credito Completo v1.0\\src\\components\\ThemeModeToggle.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"D:\\CLIENTES\\Wy Credito Tecnología\\web\\wy-credito Completo v1.0\\src\\components\\ThemeToggle.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"D:\\CLIENTES\\Wy Credito Tecnología\\web\\wy-credito Completo v1.0\\src\\components\\landing\\CookieConsentBanner.jsx","messages":[{"ruleId":null,"fatal":true,"severity":2,"message":"Parsing error: Identifier 'CookieConsentBanner' has already been declared","line":14,"column":14,"nodeType":null}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":1,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React from 'react';\n\nexport const CookieConsentBanner = () => {\n  return (\n    <div>\n      {/* El contenido y la lógica del banner se añadirán en el siguiente paso. */}\n    </div>\n  );\n};\nimport { useState, useEffect } from 'react';\nimport { Button } from '@/components/ui/button';\nimport { Card, CardContent } from '@/components/ui/card';\n\nexport const CookieConsentBanner = () => {\n  const [showBanner, setShowBanner] = useState(false);\n\n  // Al montar el componente, verificamos si el consentimiento ya fue otorgado.\n  useEffect(() => {\n    const consent = localStorage.getItem('wy-cookie-consent');\n    if (consent !== 'true') {\n      setShowBanner(true);\n    }\n  }, []);\n\n  // Función para manejar la aceptación del usuario.\n  const handleAccept = () => {\n    localStorage.setItem('wy-cookie-consent', 'true');\n    setShowBanner(false);\n  };\n\n  // Si no debemos mostrar el banner, no renderizamos nada.\n  if (!showBanner) {\n    return null;\n  }\n\n  // Renderizamos el banner usando componentes de shadcn/ui para consistencia visual.\n  return (\n    <Card className=\"fixed bottom-4 left-4 right-4 md:left-auto md:w-auto md:max-w-md z-50 shadow-lg animate-in slide-in-from-bottom-5 duration-500\">\n      <CardContent className=\"p-4 flex flex-col md:flex-row items-center gap-4 text-center md:text-left\">\n        <p className=\"text-sm text-muted-foreground flex-grow\">\n          Utilizamos cookies para mejorar tu experiencia. Al continuar, aceptas nuestra{' '}\n          <a href=\"/politica-de-cookies\" className=\"underline hover:text-primary\">\n            Política de Cookies\n          </a>.\n        </p>\n        <Button onClick={handleAccept} className=\"w-full md:w-auto flex-shrink-0\">\n          Aceptar\n        </Button>\n      </CardContent>\n    </Card>\n  );\n};","usedDeprecatedRules":[{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"D:\\CLIENTES\\Wy Credito Tecnología\\web\\wy-credito Completo v1.0\\src\\components\\landing\\FeaturesSection.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"D:\\CLIENTES\\Wy Credito Tecnología\\web\\wy-credito Completo v1.0\\src\\components\\landing\\HeroSection.jsx","messages":[{"ruleId":"no-unused-vars","severity":1,"message":"'Link' is defined but never used.","line":2,"column":10,"nodeType":"Identifier","messageId":"unusedVar","endLine":2,"endColumn":14}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React from 'react';\nimport { Link } from 'react-router-dom';\n// IMPORTACIONES ACTUALIZADAS\nimport { TextGenerateEffect } from '../ui/text-generate-effect';\nimport { ShimmerButton } from '../ui/shimmer-button';\n\nconst HeroSection = () => {\n  const words = `Tu Futuro Empresarial. Financiado Hoy.`;\n\n  return (\n    <section className=\"relative w-full h-[calc(100vh-4rem)] flex flex-col items-center justify-center text-center px-4\">\n      {/* NOTA: La integración de un fondo de partículas (react-tsparticles) puede ser compleja.\n          Por ahora, nos enfocaremos en el contenido. Podemos añadir el fondo en un paso de pulido. */}\n      \n      <div className=\"z-10 flex flex-col items-center\">\n        {/* Usamos el efecto de escritura de Aceternity UI */}\n        <TextGenerateEffect words={words} className=\"text-4xl md:text-6xl font-bold\" />\n\n        <p className=\"mt-4 max-w-2xl text-lg text-gray-300\">\n          Wy Credito transforma tus documentos en capital de trabajo. Accede a la financiación que necesitas con la velocidad que la tecnología IA permite.\n        </p>\n        \n        <div className=\"mt-8 flex flex-col sm:flex-row gap-4\">\n          <a href=\"#simulador\">\n            <ShimmerButton\n              shimmerColor=\"#31C4E2\" // Nuestro color cyan secundario para el brillo\n              shimmerSize=\"0.1em\"\n              borderRadius=\"0.375rem\" // Equivalente a rounded-md\n              background=\"transparent\"\n              className=\"border border-cyan-500/50 text-white\"\n            >\n              <span className=\"whitespace-pre-wrap text-center text-sm font-medium leading-none tracking-tight lg:text-lg\">\n                Simula tu Crédito\n              </span>\n            </ShimmerButton>\n          </a>\n          \n          <a href=\"#como-funciona\" className=\"inline-flex h-12 items-center justify-center rounded-md border border-gray-700 bg-transparent px-6 text-sm font-medium text-gray-300 transition-colors hover:bg-gray-800 hover:text-white\">\n            Conoce el Proceso\n          </a>\n        </div>\n      </div>\n    </section>\n  );\n};\n\nexport default HeroSection;","usedDeprecatedRules":[{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"D:\\CLIENTES\\Wy Credito Tecnología\\web\\wy-credito Completo v1.0\\src\\components\\landing\\HowItWorksSection.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"D:\\CLIENTES\\Wy Credito Tecnología\\web\\wy-credito Completo v1.0\\src\\components\\landing\\SectionSeparator.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"D:\\CLIENTES\\Wy Credito Tecnología\\web\\wy-credito Completo v1.0\\src\\components\\landing\\SimulatorSection.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"D:\\CLIENTES\\Wy Credito Tecnología\\web\\wy-credito Completo v1.0\\src\\components\\landing\\TestimonialsSection.jsx","messages":[{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`\"` can be escaped with `&quot;`, `&ldquo;`, `&#34;`, `&rdquo;`.","line":7,"column":12,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&quot;"},"fix":{"range":[231,232],"text":"&quot;"},"desc":"Replace with `&quot;`."},{"messageId":"replaceWithAlt","data":{"alt":"&ldquo;"},"fix":{"range":[231,232],"text":"&ldquo;"},"desc":"Replace with `&ldquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#34;"},"fix":{"range":[231,232],"text":"&#34;"},"desc":"Replace with `&#34;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rdquo;"},"fix":{"range":[231,232],"text":"&rdquo;"},"desc":"Replace with `&rdquo;`."}]},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`\"` can be escaped with `&quot;`, `&ldquo;`, `&#34;`, `&rdquo;`.","line":7,"column":20,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&quot;"},"fix":{"range":[239,240],"text":"&quot;"},"desc":"Replace with `&quot;`."},{"messageId":"replaceWithAlt","data":{"alt":"&ldquo;"},"fix":{"range":[239,240],"text":"&ldquo;"},"desc":"Replace with `&ldquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#34;"},"fix":{"range":[239,240],"text":"&#34;"},"desc":"Replace with `&#34;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rdquo;"},"fix":{"range":[239,240],"text":"&rdquo;"},"desc":"Replace with `&rdquo;`."}]}],"suppressedMessages":[],"errorCount":2,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React from 'react';\n\nconst TestimonialCard = ({ quote, author, company }) => {\n  return (\n    <figure className=\"p-6 border border-white/10 rounded-xl bg-gray-900/50\">\n      <blockquote className=\"text-gray-300\">\n        <p>\"{quote}\"</p>\n      </blockquote>\n      <figcaption className=\"mt-4 flex items-center gap-3\">\n        {/* En el futuro aquí podría ir un avatar/logo */}\n        <div className=\"w-10 h-10 rounded-full bg-cyan-900/50 flex-shrink-0\"></div>\n        <div>\n          <div className=\"font-bold text-white\">{author}</div>\n          <div className=\"text-sm text-gray-400\">{company}</div>\n        </div>\n      </figcaption>\n    </figure>\n  );\n};\n\nconst TestimonialsSection = () => {\n  return (\n    <section id=\"testimonios\" className=\"py-16 md:py-24 bg-gray-900\">\n      <div className=\"container mx-auto px-4\">\n        <div className=\"text-center mb-12\">\n          <h2 className=\"text-3xl md:text-4xl font-bold\">\n            Empresas que <span className=\"text-cyan-400\">aceleran con nosotros.</span>\n          </h2>\n        </div>\n        \n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8\">\n          <TestimonialCard\n            quote=\"Intentamos con la banca tradicional, pero el proceso era increíblemente lento. Con Wy Credito, tuvimos una respuesta y desembolso en tiempo récord. Fue un cambio total para nuestro flujo de caja.\"\n            author=\"Ana María Rojas\"\n            company=\"CEO, Innovatech Soluciones SAS\"\n          />\n          <TestimonialCard\n            quote=\"La plataforma es intuitiva y el proceso 100% digital nos ahorró semanas de trabajo. El poder simular el crédito primero nos dio la confianza para aplicar. Totalmente recomendados.\"\n            author=\"Carlos Gutierrez\"\n            company=\"Gerente Financiero, Logística Andina\"\n          />\n          <TestimonialCard\n            quote=\"Lo que más valoramos fue la transparencia. Cero letra pequeña y condiciones claras desde el principio. La tecnología de IA realmente agiliza el análisis de documentos. Impresionante.\"\n            author=\"Sofia Vergara\"\n            company=\"Fundadora, Café de Origen La Sierra\"\n          />\n        </div>\n      </div>\n    </section>\n  );\n};\n\nexport default TestimonialsSection;","usedDeprecatedRules":[{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"D:\\CLIENTES\\Wy Credito Tecnología\\web\\wy-credito Completo v1.0\\src\\components\\providers\\ThemeProvider.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"D:\\CLIENTES\\Wy Credito Tecnología\\web\\wy-credito Completo v1.0\\src\\components\\ui\\avatar.tsx","messages":[{"ruleId":null,"fatal":true,"severity":2,"message":"Parsing error: Unexpected token ,","line":7,"column":48,"nodeType":null}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":1,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import * as React from \"react\"\nimport * as AvatarPrimitive from \"@radix-ui/react-avatar\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Avatar = React.forwardRef<\n  React.ElementRef<typeof AvatarPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Root>\n>(({ className, ...props }, ref) => (\n  <AvatarPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full\",\n      className\n    )}\n    {...props}\n  />\n))\nAvatar.displayName = AvatarPrimitive.Root.displayName\n\nconst AvatarImage = React.forwardRef<\n  React.ElementRef<typeof AvatarPrimitive.Image>,\n  React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Image>\n>(({ className, ...props }, ref) => (\n  <AvatarPrimitive.Image\n    ref={ref}\n    className={cn(\"aspect-square h-full w-full\", className)}\n    {...props}\n  />\n))\nAvatarImage.displayName = AvatarPrimitive.Image.displayName\n\nconst AvatarFallback = React.forwardRef<\n  React.ElementRef<typeof AvatarPrimitive.Fallback>,\n  React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Fallback>\n>(({ className, ...props }, ref) => (\n  <AvatarPrimitive.Fallback\n    ref={ref}\n    className={cn(\n      \"flex h-full w-full items-center justify-center rounded-full bg-muted\",\n      className\n    )}\n    {...props}\n  />\n))\nAvatarFallback.displayName = AvatarPrimitive.Fallback.displayName\n\nexport { Avatar, AvatarImage, AvatarFallback }\n","usedDeprecatedRules":[{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"D:\\CLIENTES\\Wy Credito Tecnología\\web\\wy-credito Completo v1.0\\src\\components\\ui\\button.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"D:\\CLIENTES\\Wy Credito Tecnología\\web\\wy-credito Completo v1.0\\src\\components\\ui\\card.tsx","messages":[{"ruleId":null,"fatal":true,"severity":2,"message":"Parsing error: Identifier 'React' has already been declared","line":7,"column":3,"nodeType":null}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":1,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Card = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\n      \"rounded-lg border bg-card text-card-foreground shadow-sm\",\n      className\n    )}\n    {...props}\n  />\n))\nCard.displayName = \"Card\"\n\nconst CardHeader = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex flex-col space-y-1.5 p-6\", className)}\n    {...props}\n  />\n))\nCardHeader.displayName = \"CardHeader\"\n\nconst CardTitle = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\n      \"text-2xl font-semibold leading-none tracking-tight\",\n      className\n    )}\n    {...props}\n  />\n))\nCardTitle.displayName = \"CardTitle\"\n\nconst CardDescription = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nCardDescription.displayName = \"CardDescription\"\n\nconst CardContent = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div ref={ref} className={cn(\"p-6 pt-0\", className)} {...props} />\n))\nCardContent.displayName = \"CardContent\"\n\nconst CardFooter = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex items-center p-6 pt-0\", className)}\n    {...props}\n  />\n))\nCardFooter.displayName = \"CardFooter\"\n\nexport { Card, CardHeader, CardFooter, CardTitle, CardDescription, CardContent }\n","usedDeprecatedRules":[{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"D:\\CLIENTES\\Wy Credito Tecnología\\web\\wy-credito Completo v1.0\\src\\components\\ui\\dialog.tsx","messages":[{"ruleId":null,"fatal":true,"severity":2,"message":"Parsing error: Unexpected token ,","line":16,"column":51,"nodeType":null}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":1,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import * as React from \"react\"\nimport * as DialogPrimitive from \"@radix-ui/react-dialog\"\nimport { X } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Dialog = DialogPrimitive.Root\n\nconst DialogTrigger = DialogPrimitive.Trigger\n\nconst DialogPortal = DialogPrimitive.Portal\n\nconst DialogClose = DialogPrimitive.Close\n\nconst DialogOverlay = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Overlay\n    ref={ref}\n    className={cn(\n      \"fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0\",\n      className\n    )}\n    {...props}\n  />\n))\nDialogOverlay.displayName = DialogPrimitive.Overlay.displayName\n\nconst DialogContent = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Content>\n>(({ className, children, ...props }, ref) => (\n  <DialogPortal>\n    <DialogOverlay />\n    <DialogPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg\",\n        className\n      )}\n      {...props}\n    >\n      {children}\n      <DialogPrimitive.Close className=\"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground\">\n        <X className=\"h-4 w-4\" />\n        <span className=\"sr-only\">Close</span>\n      </DialogPrimitive.Close>\n    </DialogPrimitive.Content>\n  </DialogPortal>\n))\nDialogContent.displayName = DialogPrimitive.Content.displayName\n\nconst DialogHeader = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col space-y-1.5 text-center sm:text-left\",\n      className\n    )}\n    {...props}\n  />\n)\nDialogHeader.displayName = \"DialogHeader\"\n\nconst DialogFooter = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2\",\n      className\n    )}\n    {...props}\n  />\n)\nDialogFooter.displayName = \"DialogFooter\"\n\nconst DialogTitle = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Title\n    ref={ref}\n    className={cn(\n      \"text-lg font-semibold leading-none tracking-tight\",\n      className\n    )}\n    {...props}\n  />\n))\nDialogTitle.displayName = DialogPrimitive.Title.displayName\n\nconst DialogDescription = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Description\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nDialogDescription.displayName = DialogPrimitive.Description.displayName\n\nexport {\n  Dialog,\n  DialogPortal,\n  DialogOverlay,\n  DialogClose,\n  DialogTrigger,\n  DialogContent,\n  DialogHeader,\n  DialogFooter,\n  DialogTitle,\n  DialogDescription,\n}\n","usedDeprecatedRules":[{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"D:\\CLIENTES\\Wy Credito Tecnología\\web\\wy-credito Completo v1.0\\src\\components\\ui\\input.tsx","messages":[{"ruleId":null,"fatal":true,"severity":2,"message":"Parsing error: Identifier 'React' has already been declared","line":5,"column":50,"nodeType":null}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":1,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Input = React.forwardRef<HTMLInputElement, React.ComponentProps<\"input\">>(\n  ({ className, type, ...props }, ref) => {\n    return (\n      <input\n        type={type}\n        className={cn(\n          \"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm\",\n          className\n        )}\n        ref={ref}\n        {...props}\n      />\n    )\n  }\n)\nInput.displayName = \"Input\"\n\nexport { Input }\n","usedDeprecatedRules":[{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"D:\\CLIENTES\\Wy Credito Tecnología\\web\\wy-credito Completo v1.0\\src\\components\\ui\\label.tsx","messages":[{"ruleId":null,"fatal":true,"severity":2,"message":"Parsing error: Unexpected token VariantProps","line":3,"column":20,"nodeType":null}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":1,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import * as React from \"react\"\nimport * as LabelPrimitive from \"@radix-ui/react-label\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst labelVariants = cva(\n  \"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70\"\n)\n\nconst Label = React.forwardRef<\n  React.ElementRef<typeof LabelPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof LabelPrimitive.Root> &\n    VariantProps<typeof labelVariants>\n>(({ className, ...props }, ref) => (\n  <LabelPrimitive.Root\n    ref={ref}\n    className={cn(labelVariants(), className)}\n    {...props}\n  />\n))\nLabel.displayName = LabelPrimitive.Root.displayName\n\nexport { Label }\n","usedDeprecatedRules":[{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"D:\\CLIENTES\\Wy Credito Tecnología\\web\\wy-credito Completo v1.0\\src\\components\\ui\\shimmer-button.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"D:\\CLIENTES\\Wy Credito Tecnología\\web\\wy-credito Completo v1.0\\src\\components\\ui\\slider.tsx","messages":[{"ruleId":null,"fatal":true,"severity":2,"message":"Parsing error: Unexpected token ,","line":7,"column":48,"nodeType":null}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":1,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import * as React from \"react\"\nimport * as SliderPrimitive from \"@radix-ui/react-slider\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Slider = React.forwardRef<\n  React.ElementRef<typeof SliderPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof SliderPrimitive.Root>\n>(({ className, ...props }, ref) => (\n  <SliderPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"relative flex w-full touch-none select-none items-center\",\n      className\n    )}\n    {...props}\n  >\n    <SliderPrimitive.Track className=\"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary\">\n      <SliderPrimitive.Range className=\"absolute h-full bg-primary\" />\n    </SliderPrimitive.Track>\n    <SliderPrimitive.Thumb className=\"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50\" />\n  </SliderPrimitive.Root>\n))\nSlider.displayName = SliderPrimitive.Root.displayName\n\nexport { Slider }\n","usedDeprecatedRules":[{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"D:\\CLIENTES\\Wy Credito Tecnología\\web\\wy-credito Completo v1.0\\src\\components\\ui\\text-generate-effect.jsx","messages":[{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has missing dependencies: 'animate', 'duration', and 'filter'. Either include them or remove the dependency array. Mutable values like 'scope.current' aren't valid dependencies because mutating them doesn't re-render the component.","line":26,"column":6,"nodeType":"ArrayExpression","endLine":26,"endColumn":21,"suggestions":[{"desc":"Update the dependencies array to be: [animate, duration, filter]","fix":{"range":[560,575],"text":"[animate, duration, filter]"}}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\nimport { useEffect } from \"react\";\nimport { motion, stagger, useAnimate } from \"framer-motion\";\nimport { cn } from \"../../lib/utils\";\n\nexport const TextGenerateEffect = ({\n  words,\n  className,\n  filter = true,\n  duration = 0.5,\n}) => {\n  const [scope, animate] = useAnimate();\n  let wordsArray = words.split(\" \");\n  useEffect(() => {\n    animate(\n      \"span\",\n      {\n        opacity: 1,\n        filter: filter ? \"blur(0px)\" : \"none\",\n      },\n      {\n        duration: duration ? duration : 1,\n        delay: stagger(0.2),\n      }\n    );\n  }, [scope.current]);\n\n  const renderWords = () => {\n    return (\n      <motion.div ref={scope}>\n        {wordsArray.map((word, idx) => {\n          return (\n            <motion.span\n              key={word + idx}\n              className=\"dark:text-white text-black opacity-0\"\n              style={{\n                filter: filter ? \"blur(10px)\" : \"none\",\n              }}\n            >\n              {word}{\" \"}\n            </motion.span>\n          );\n        })}\n      </motion.div>\n    );\n  };\n\n  return (\n    <div className={cn(\"font-bold\", className)}>\n      <div className=\"mt-4\">\n        <div className=\"dark:text-white text-black text-2xl leading-snug tracking-wide\">\n          {renderWords()}\n        </div>\n      </div>\n    </div>\n  );\n};","usedDeprecatedRules":[{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"D:\\CLIENTES\\Wy Credito Tecnología\\web\\wy-credito Completo v1.0\\src\\config\\index.js","messages":[{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":36,"column":7,"nodeType":"MemberExpression","messageId":"unexpected","endLine":36,"endColumn":20,"suggestions":[{"messageId":"removeConsole","data":{"propertyName":"error"},"fix":{"range":[944,1002],"text":""},"desc":"Remove the console.error()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":41,"column":7,"nodeType":"MemberExpression","messageId":"unexpected","endLine":41,"endColumn":20,"suggestions":[{"messageId":"removeConsole","data":{"propertyName":"error"},"fix":{"range":[1061,1123],"text":""},"desc":"Remove the console.error()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":97,"column":7,"nodeType":"MemberExpression","messageId":"unexpected","endLine":97,"endColumn":20,"suggestions":[{"messageId":"removeConsole","data":{"propertyName":"error"},"fix":{"range":[2542,2602],"text":""},"desc":"Remove the console.error()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":186,"column":5,"nodeType":"MemberExpression","messageId":"unexpected","endLine":186,"endColumn":18,"suggestions":[{"messageId":"removeConsole","data":{"propertyName":"error"},"fix":{"range":[5070,5123],"text":""},"desc":"Remove the console.error()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":191,"column":5,"nodeType":"MemberExpression","messageId":"unexpected","endLine":191,"endColumn":17,"suggestions":[{"messageId":"removeConsole","data":{"propertyName":"warn"},"fix":{"range":[5233,5293],"text":""},"desc":"Remove the console.warn()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":195,"column":5,"nodeType":"MemberExpression","messageId":"unexpected","endLine":195,"endColumn":16,"suggestions":[{"messageId":"removeConsole","data":{"propertyName":"log"},"fix":{"range":[5359,5413],"text":""},"desc":"Remove the console.log()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":238,"column":3,"nodeType":"MemberExpression","messageId":"unexpected","endLine":238,"endColumn":16,"suggestions":[{"messageId":"removeConsole","data":{"propertyName":"error"},"fix":{"range":[6258,6322],"text":""},"desc":"Remove the console.error()."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":7,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * Configuración centralizada de la aplicación Wally\n * Wy Crédito Tecnología\n * \n * Este archivo maneja todas las configuraciones de APIs y servicios externos\n * con validaciones de seguridad y manejo de errores.\n */\n\n// Validador de URLs\nconst isValidUrl = (url) => {\n  try {\n    new URL(url);\n    return true;\n  } catch {\n    return false;\n  }\n};\n\n// Validador de API Keys\nconst isValidApiKey = (key, minLength = 20) => {\n  return typeof key === 'string' && key.length >= minLength && key.trim() !== '';\n};\n\n// Configuración de Supabase\nconst supabaseConfig = {\n  url: import.meta.env.VITE_SUPABASE_URL,\n  anonKey: import.meta.env.VITE_SUPABASE_ANON_KEY,\n  serviceRoleKey: import.meta.env.VITE_SUPABASE_SERVICE_ROLE_KEY,\n  \n  // Validación de configuración\n  isValid() {\n    const urlValid = isValidUrl(this.url) && this.url.includes('supabase.co');\n    const keyValid = isValidApiKey(this.anonKey, 100);\n    \n    if (!urlValid) {\n      console.error('❌ Supabase URL inválida o no configurada');\n      return false;\n    }\n    \n    if (!keyValid) {\n      console.error('❌ Supabase API Key inválida o no configurada');\n      return false;\n    }\n    \n    return true;\n  },\n  \n  // Obtener errores de configuración\n  getErrors() {\n    const errors = [];\n    if (!isValidUrl(this.url) || !this.url.includes('supabase.co')) {\n      errors.push('VITE_SUPABASE_URL no es una URL válida de Supabase');\n    }\n    if (!isValidApiKey(this.anonKey, 100)) {\n      errors.push('VITE_SUPABASE_ANON_KEY no parece válida (muy corta)');\n    }\n    if (this.serviceRoleKey && !isValidApiKey(this.serviceRoleKey, 100)) {\n      errors.push('VITE_SUPABASE_SERVICE_ROLE_KEY no parece válida (muy corta)');\n    }\n    return errors;\n  },\n  \n  // Obtener advertencias de configuración\n  getWarnings() {\n    const warnings = [];\n    if (this.serviceRoleKey && isValidApiKey(this.serviceRoleKey, 100)) {\n      warnings.push('⚠️  Service Role Key configurada - úsala solo en backend seguro');\n    }\n    return warnings;\n  },\n  \n  // Configuración adicional\n  options: {\n    auth: {\n      autoRefreshToken: true,\n      persistSession: true,\n      detectSessionInUrl: false\n    },\n    realtime: {\n      params: {\n        eventsPerSecond: 10\n      }\n    }\n  }\n};\n\n// Configuración de Google Gemini\nconst geminiConfig = {\n  apiKey: import.meta.env.VITE_GEMINI_API_KEY,\n  model: import.meta.env.VITE_GEMINI_MODEL || 'gemini-1.5-flash',\n  \n  // Validación de configuración\n  isValid() {\n    const keyValid = isValidApiKey(this.apiKey, 30);\n    \n    if (!keyValid) {\n      console.error('❌ Gemini API Key inválida o no configurada');\n      return false;\n    }\n    \n    return true;\n  },\n  \n  // Configuración del modelo\n  generationConfig: {\n    temperature: 0.7,\n    topK: 40,\n    topP: 0.95,\n    maxOutputTokens: 1024,\n    responseMimeType: \"text/plain\",\n  },\n  \n  // Configuraciones de seguridad\n  safetySettings: [\n    {\n      category: \"HARM_CATEGORY_HARASSMENT\",\n      threshold: \"BLOCK_MEDIUM_AND_ABOVE\",\n    },\n    {\n      category: \"HARM_CATEGORY_HATE_SPEECH\",\n      threshold: \"BLOCK_MEDIUM_AND_ABOVE\",\n    },\n    {\n      category: \"HARM_CATEGORY_SEXUALLY_EXPLICIT\",\n      threshold: \"BLOCK_MEDIUM_AND_ABOVE\",\n    },\n    {\n      category: \"HARM_CATEGORY_DANGEROUS_CONTENT\",\n      threshold: \"BLOCK_MEDIUM_AND_ABOVE\",\n    },\n  ]\n};\n\n// Configuración de la aplicación\nconst appConfig = {\n  name: import.meta.env.VITE_APP_NAME || 'Wally - Wy Crédito',\n  version: import.meta.env.VITE_APP_VERSION || '1.0.0',\n  environment: import.meta.env.MODE || 'development',\n  devMode: import.meta.env.VITE_DEV_MODE === 'true',\n  \n  // URLs y endpoints\n  baseUrl: import.meta.env.VITE_BASE_URL || 'http://localhost:3000',\n  apiTimeout: parseInt(import.meta.env.VITE_API_TIMEOUT) || 30000,\n  \n  // Configuración de logging\n  logging: {\n    level: import.meta.env.VITE_LOG_LEVEL || 'info',\n    enableConsole: import.meta.env.MODE === 'development'\n  }\n};\n\n// Configuración de características\nconst featuresConfig = {\n  enableRealTimeUpdates: import.meta.env.VITE_ENABLE_REALTIME === 'true',\n  enableAnalytics: import.meta.env.VITE_ENABLE_ANALYTICS === 'true',\n  enableFileUpload: import.meta.env.VITE_ENABLE_FILE_UPLOAD !== 'false',\n  maxFileSize: parseInt(import.meta.env.VITE_MAX_FILE_SIZE) || 10485760, // 10MB\n  allowedFileTypes: (import.meta.env.VITE_ALLOWED_FILE_TYPES || 'pdf,jpg,jpeg,png,doc,docx').split(',')\n};\n\n// Función de validación general\nconst validateConfiguration = () => {\n  const errors = [];\n  const warnings = [];\n  \n  // Validar Supabase\n  if (!supabaseConfig.isValid()) {\n    if (appConfig.devMode) {\n      warnings.push('Supabase no configurado - usando modo de desarrollo');\n    } else {\n      errors.push('Supabase debe estar configurado en producción');\n    }\n  }\n  \n  // Validar Gemini\n  if (!geminiConfig.isValid()) {\n    if (appConfig.devMode) {\n      warnings.push('Gemini API no configurada - usando respuestas simuladas');\n    } else {\n      errors.push('Gemini API debe estar configurada en producción');\n    }\n  }\n  \n  // Mostrar resultados\n  if (errors.length > 0) {\n    console.error('❌ Errores de configuración:', errors);\n    throw new Error(`Configuración inválida: ${errors.join(', ')}`);\n  }\n  \n  if (warnings.length > 0) {\n    console.warn('⚠️ Advertencias de configuración:', warnings);\n  }\n  \n  if (errors.length === 0 && warnings.length === 0) {\n    console.log('✅ Configuración validada correctamente');\n  }\n  \n  return {\n    isValid: errors.length === 0,\n    errors,\n    warnings\n  };\n};\n\n// Función para obtener configuración segura (sin exponer claves)\nconst getSafeConfig = () => ({\n  app: {\n    name: appConfig.name,\n    version: appConfig.version,\n    environment: appConfig.environment,\n    devMode: appConfig.devMode\n  },\n  supabase: {\n    configured: supabaseConfig.isValid(),\n    url: supabaseConfig.url ? `${supabaseConfig.url.substring(0, 20)}...` : 'No configurada'\n  },\n  gemini: {\n    configured: geminiConfig.isValid(),\n    model: geminiConfig.model\n  },\n  features: featuresConfig\n});\n\n// Exportar configuraciones\nexport {\n  supabaseConfig,\n  geminiConfig,\n  appConfig,\n  featuresConfig,\n  validateConfiguration,\n  getSafeConfig\n};\n\n// Validar configuración al cargar el módulo\ntry {\n  validateConfiguration();\n} catch (error) {\n  console.error('Error al validar configuración:', error.message);\n}","usedDeprecatedRules":[{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"D:\\CLIENTES\\Wy Credito Tecnología\\web\\wy-credito Completo v1.0\\src\\emails\\SolicitudRecibidaEmail.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"D:\\CLIENTES\\Wy Credito Tecnología\\web\\wy-credito Completo v1.0\\src\\emails\\VerificationCodeEmail.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"D:\\CLIENTES\\Wy Credito Tecnología\\web\\wy-credito Completo v1.0\\src\\layouts\\LandingLayout.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"D:\\CLIENTES\\Wy Credito Tecnología\\web\\wy-credito Completo v1.0\\src\\layouts\\MainLayout.jsx","messages":[{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":10,"column":3,"nodeType":"MemberExpression","messageId":"unexpected","endLine":10,"endColumn":14,"suggestions":[{"messageId":"removeConsole","data":{"propertyName":"log"},"fix":{"range":[380,450],"text":""},"desc":"Remove the console.log()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":12,"column":3,"nodeType":"MemberExpression","messageId":"unexpected","endLine":12,"endColumn":14,"suggestions":[{"messageId":"removeConsole","data":{"propertyName":"log"},"fix":{"range":[497,581],"text":""},"desc":"Remove the console.log()."}]},{"ruleId":"no-empty","severity":1,"message":"Empty block statement.","line":38,"column":19,"nodeType":"BlockStatement","messageId":"unexpected","endLine":38,"endColumn":21,"suggestions":[{"messageId":"suggestComment","data":{"type":"block"},"fix":{"range":[1446,1446],"text":" /* empty */ "},"desc":"Add comment inside empty block statement."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":43,"column":13,"nodeType":"MemberExpression","messageId":"unexpected","endLine":43,"endColumn":25,"suggestions":[{"messageId":"removeConsole","data":{"propertyName":"warn"},"fix":{"range":[1647,1722],"text":""},"desc":"Remove the console.warn()."}]},{"ruleId":"no-empty","severity":1,"message":"Empty block statement.","line":50,"column":19,"nodeType":"BlockStatement","messageId":"unexpected","endLine":50,"endColumn":21,"suggestions":[{"messageId":"suggestComment","data":{"type":"block"},"fix":{"range":[1941,1941],"text":" /* empty */ "},"desc":"Add comment inside empty block statement."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":55,"column":9,"nodeType":"MemberExpression","messageId":"unexpected","endLine":55,"endColumn":22,"suggestions":[{"messageId":"removeConsole","data":{"propertyName":"error"},"fix":{"range":[2060,2118],"text":""},"desc":"Remove the console.error()."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useEffect, useState } from 'react';\nimport { useParams, useNavigate } from 'react-router-dom';\n\n// Asumimos que el componente del formulario se llama 'ApplicationView.jsx'\n// y lo crearemos en la carpeta 'src/views/'.\nimport ApplicationView from '../views/ApplicationView';\n\n// --- Simulación de la API del Orquestador ---\nconst createNewSession = async () => {\n  console.log(\"Arquitecto: Solicitando nueva sesión al Orquestador...\");\n  const newSessionId = crypto.randomUUID();\n  console.log(\"Arquitecto: Orquestador respondió con nuevo sessionId:\", newSessionId);\n  return { sessionId: newSessionId };\n};\n// --- Fin de la simulación ---\n\nconst MainLayout = () => {\n  const { sessionId } = useParams();\n  const navigate = useNavigate();\n  const [isSessionReady, setIsSessionReady] = useState(false);\n  const [localSessionId, setLocalSessionId] = useState(() => {\n    try {\n      return sessionId || window.localStorage.getItem('wally_session_id') || null;\n    } catch {\n      return sessionId || null;\n    }\n  });\n\n  useEffect(() => {\n    const initializeSession = async () => {\n      try {\n        if (!sessionId) {\n          // No hay ID en la URL: crear uno y guardarlo, además de intentar redirigir.\n          const { sessionId: newSessionId } = await createNewSession();\n          setLocalSessionId(newSessionId);\n          try {\n            window.localStorage.setItem('wally_session_id', newSessionId);\n          } catch {}\n          // Intentar navegar, pero no depender de ello para continuar\n          try {\n            navigate(`/solicitud/${newSessionId}`, { replace: true });\n          } catch (navErr) {\n            console.warn('Navegación fallida, continuando con session local:', navErr);\n          }\n          setIsSessionReady(true);\n        } else {\n          // Ya tenemos un sessionId en la URL\n          try {\n            window.localStorage.setItem('wally_session_id', sessionId);\n          } catch {}\n          setLocalSessionId(sessionId);\n          setIsSessionReady(true);\n        }\n      } catch (error) {\n        console.error('Error crítico al crear la sesión:', error);\n        // Permitir continuar con una sesión temporal si algo falla\n        const fallbackId = `tmp-${Date.now()}`;\n        setLocalSessionId(fallbackId);\n        setIsSessionReady(true);\n      }\n    };\n\n    initializeSession();\n  }, [sessionId, navigate]);\n\n  if (!isSessionReady) {\n    return (\n      <div style={{ padding: '40px', textAlign: 'center', fontFamily: 'sans-serif' }}>\n        <h2>Iniciando solicitud segura...</h2>\n      </div>\n    );\n  }\n\n  // Cuando la sesión está lista, renderizamos el componente que contiene el formulario.\n  return (\n    <main>\n      {localSessionId && String(localSessionId).startsWith('tmp-') && (\n        <div style={{ padding: '12px 16px', background: '#fff3cd', color: '#664d03', margin: '8px 16px', borderRadius: 8 }}>\n          No se pudo crear la sesión en el servidor. Usando sesión temporal.\n        </div>\n      )}\n      <ApplicationView sessionId={localSessionId || sessionId} />\n    </main>\n  );\n};\n\nexport default MainLayout;","usedDeprecatedRules":[{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"D:\\CLIENTES\\Wy Credito Tecnología\\web\\wy-credito Completo v1.0\\src\\lib\\conversationFlow.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"D:\\CLIENTES\\Wy Credito Tecnología\\web\\wy-credito Completo v1.0\\src\\lib\\geminiClient.js","messages":[{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":27,"column":3,"nodeType":"MemberExpression","messageId":"unexpected","endLine":27,"endColumn":15,"suggestions":[{"messageId":"removeConsole","data":{"propertyName":"warn"},"fix":{"range":[1055,1125],"text":""},"desc":"Remove the console.warn()."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { GoogleGenerativeAI } from '@google/generative-ai';\nimport { llmClient } from './llmClient';\n\nconst useBackend = import.meta.env.VITE_USE_BACKEND_LLM === 'true' || import.meta.env.VITE_USE_BACKEND_GEMINI === 'true';\nconst apiKey = import.meta.env.VITE_GEMINI_API_KEY;\n\nlet geminiModel;\n\nif (useBackend) {\n  // Proxy model to backend endpoints, preserving generateContent API used by callers\n  geminiModel = {\n    generateContent: async (input) => {\n      // If input is array with inlineData => extraction\n      if (Array.isArray(input)) {\n        const [prompt, generativePart] = input;\n        const mimeType = generativePart?.inlineData?.mimeType || 'application/pdf';\n        const dataBase64 = generativePart?.inlineData?.data;\n        const data = await llmClient.extract({ prompt, mimeType, dataBase64 });\n        return { response: { text: () => data.text } };\n      }\n      // Otherwise treat as chat\n      const data = await llmClient.chat(input);\n      return { response: { text: () => data.text } };\n    }\n  };\n} else if (!apiKey) {\n  console.warn('Gemini API Key is missing from .env - using mock mode');\n  geminiModel = {\n    generateContent: async () => ({\n      response: {\n        text: () => '{\"nit\": \"123456789\", \"razon_social\": \"Empresa de Prueba S.A.S.\"}'\n      }\n    })\n  };\n} else {\n  const genAI = new GoogleGenerativeAI(apiKey);\n  geminiModel = genAI.getGenerativeModel({ model: 'gemini-pro' });\n}\n\nexport { geminiModel };","usedDeprecatedRules":[{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"D:\\CLIENTES\\Wy Credito Tecnología\\web\\wy-credito Completo v1.0\\src\\lib\\llmClient.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"D:\\CLIENTES\\Wy Credito Tecnología\\web\\wy-credito Completo v1.0\\src\\lib\\supabase.js","messages":[{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":26,"column":5,"nodeType":"MemberExpression","messageId":"unexpected","endLine":26,"endColumn":16,"suggestions":[{"messageId":"removeConsole","data":{"propertyName":"log"},"fix":{"range":[891,954],"text":""},"desc":"Remove the console.log()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":29,"column":3,"nodeType":"MemberExpression","messageId":"unexpected","endLine":29,"endColumn":15,"suggestions":[{"messageId":"removeConsole","data":{"propertyName":"warn"},"fix":{"range":[970,1035],"text":""},"desc":"Remove the console.warn()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":77,"column":5,"nodeType":"MemberExpression","messageId":"unexpected","endLine":77,"endColumn":17,"suggestions":[{"messageId":"removeConsole","data":{"propertyName":"warn"},"fix":{"range":[2351,2423],"text":""},"desc":"Remove the console.warn()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":106,"column":5,"nodeType":"MemberExpression","messageId":"unexpected","endLine":106,"endColumn":18,"suggestions":[{"messageId":"removeConsole","data":{"propertyName":"error"},"fix":{"range":[3148,3202],"text":""},"desc":"Remove the console.error()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":129,"column":7,"nodeType":"MemberExpression","messageId":"unexpected","endLine":129,"endColumn":18,"suggestions":[{"messageId":"removeConsole","data":{"propertyName":"log"},"fix":{"range":[3890,3950],"text":""},"desc":"Remove the console.log()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":148,"column":5,"nodeType":"MemberExpression","messageId":"unexpected","endLine":148,"endColumn":18,"suggestions":[{"messageId":"removeConsole","data":{"propertyName":"error"},"fix":{"range":[4423,4472],"text":""},"desc":"Remove the console.error()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":169,"column":7,"nodeType":"MemberExpression","messageId":"unexpected","endLine":169,"endColumn":18,"suggestions":[{"messageId":"removeConsole","data":{"propertyName":"log"},"fix":{"range":[5028,5096],"text":""},"desc":"Remove the console.log()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":187,"column":5,"nodeType":"MemberExpression","messageId":"unexpected","endLine":187,"endColumn":18,"suggestions":[{"messageId":"removeConsole","data":{"propertyName":"error"},"fix":{"range":[5475,5529],"text":""},"desc":"Remove the console.error()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":201,"column":7,"nodeType":"MemberExpression","messageId":"unexpected","endLine":201,"endColumn":18,"suggestions":[{"messageId":"removeConsole","data":{"propertyName":"log"},"fix":{"range":[5887,5948],"text":""},"desc":"Remove the console.log()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":217,"column":5,"nodeType":"MemberExpression","messageId":"unexpected","endLine":217,"endColumn":18,"suggestions":[{"messageId":"removeConsole","data":{"propertyName":"error"},"fix":{"range":[6439,6490],"text":""},"desc":"Remove the console.error()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":239,"column":7,"nodeType":"MemberExpression","messageId":"unexpected","endLine":239,"endColumn":18,"suggestions":[{"messageId":"removeConsole","data":{"propertyName":"log"},"fix":{"range":[7089,7147],"text":""},"desc":"Remove the console.log()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":257,"column":5,"nodeType":"MemberExpression","messageId":"unexpected","endLine":257,"endColumn":18,"suggestions":[{"messageId":"removeConsole","data":{"propertyName":"error"},"fix":{"range":[7536,7585],"text":""},"desc":"Remove the console.error()."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":12,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { createClient } from '@supabase/supabase-js'\n\n// Configuración de Supabase\nconst supabaseUrl = import.meta.env.VITE_SUPABASE_URL\nconst supabaseAnonKey = import.meta.env.VITE_SUPABASE_ANON_KEY\nconst supabaseServiceRoleKey = import.meta.env.VITE_SUPABASE_SERVICE_ROLE_KEY\n\n// Modo de desarrollo - usar cliente mock si no hay configuración\nconst isDevelopment = import.meta.env.DEV || !supabaseUrl || !supabaseAnonKey\n\nlet supabase = null\nlet supabaseAdmin = null\n\nif (!isDevelopment && supabaseUrl && supabaseAnonKey) {\n  // Cliente público (anon key)\n  supabase = createClient(supabaseUrl, supabaseAnonKey)\n  \n  // Cliente administrativo (service role key) - solo si está configurado\n  if (supabaseServiceRoleKey) {\n    supabaseAdmin = createClient(supabaseUrl, supabaseServiceRoleKey, {\n      auth: {\n        autoRefreshToken: false,\n        persistSession: false\n      }\n    })\n    console.log('✅ Cliente administrativo de Supabase configurado')\n  }\n} else {\n  console.warn('Modo desarrollo: Usando cliente Supabase simulado')\n  // Cliente mock para desarrollo\n  const mockClient = {\n    from: () => ({\n      select: () => ({ data: [], error: null }),\n      insert: () => ({ data: null, error: null }),\n      update: () => ({ data: null, error: null }),\n      eq: () => ({ data: [], error: null })\n    })\n  }\n  supabase = mockClient\n  supabaseAdmin = mockClient\n}\n\nexport { supabase, supabaseAdmin }\n\n/**\n * Verifica si el cliente administrativo está disponible\n * @returns {boolean} - True si está configurado\n */\nexport function isAdminAvailable() {\n  return supabaseAdmin !== null && supabaseServiceRoleKey && supabaseServiceRoleKey !== 'your-service-role-key-here'\n}\n\n/**\n * Obtiene el cliente apropiado según el tipo de operación\n * @param {boolean} requiresAdmin - Si requiere permisos administrativos\n * @returns {Object} - Cliente de Supabase\n */\nexport function getSupabaseClient(requiresAdmin = false) {\n  if (requiresAdmin && isAdminAvailable()) {\n    return supabaseAdmin\n  }\n  return supabase\n}\n\n// Funciones auxiliares para el manejo de datos\n\n/**\n * Operaciones administrativas que requieren service role key\n */\n\n/**\n * Obtener estadísticas administrativas (requiere service role)\n * @returns {Promise<Object>} - Estadísticas del sistema\n */\nexport async function obtenerEstadisticasAdmin() {\n  if (!isAdminAvailable()) {\n    console.warn('Service Role Key no configurada - usando datos simulados')\n    return {\n      success: true,\n      data: {\n        total_solicitudes: 0,\n        solicitudes_pendientes: 0,\n        solicitudes_aprobadas: 0,\n        solicitudes_rechazadas: 0\n      }\n    }\n  }\n\n  try {\n    const client = getSupabaseClient(true) // Usar cliente administrativo\n    \n    const { data, error } = await client\n      .from('solicitudes_credito')\n      .select('estado')\n    \n    if (error) throw error\n    \n    const stats = data.reduce((acc, solicitud) => {\n      acc.total_solicitudes++\n      acc[`solicitudes_${solicitud.estado}`] = (acc[`solicitudes_${solicitud.estado}`] || 0) + 1\n      return acc\n    }, { total_solicitudes: 0 })\n    \n    return { success: true, data: stats }\n  } catch (error) {\n    console.error('Error obteniendo estadísticas:', error)\n    return { success: false, error: error.message }\n  }\n}\n\n/**\n * Crear una nueva solicitud de crédito\n * @param {Object} solicitudData - Datos de la solicitud\n * @returns {Promise<Object>} - Resultado de la operación\n */\nexport async function crearSolicitud(solicitudData) {\n  try {\n    // En modo desarrollo, simular la creación\n    if (import.meta.env.DEV) {\n      const solicitudSimulada = {\n        id: Date.now(),\n        ...solicitudData,\n        codigo_seguimiento: await generarCodigoSeguimiento(),\n        fecha_creacion: new Date().toISOString(),\n        fecha_actualizacion: new Date().toISOString(),\n        estado: solicitudData.estado || 'incompleta'\n      }\n      \n      console.log('Solicitud simulada creada:', solicitudSimulada)\n      return { success: true, data: solicitudSimulada }\n    }\n\n    const { data, error } = await supabase\n      .from('solicitudes')\n      .insert([{\n        ...solicitudData,\n        codigo_seguimiento: await generarCodigoSeguimiento(),\n        fecha_creacion: new Date().toISOString(),\n        fecha_actualizacion: new Date().toISOString()\n      }])\n      .select()\n      .single()\n\n    if (error) throw error\n\n    return { success: true, data }\n  } catch (error) {\n    console.error('Error al crear solicitud:', error)\n    return { success: false, error: error.message }\n  }\n}\n\n/**\n * Actualizar una solicitud existente\n * @param {string} id - ID de la solicitud\n * @param {Object} updateData - Datos a actualizar\n * @returns {Promise<Object>} - Resultado de la operación\n */\nexport async function actualizarSolicitud(id, updateData) {\n  try {\n    // En modo desarrollo, simular la actualización\n    if (import.meta.env.DEV) {\n      const solicitudActualizada = {\n        id,\n        ...updateData,\n        fecha_actualizacion: new Date().toISOString()\n      }\n      \n      console.log('Solicitud simulada actualizada:', solicitudActualizada)\n      return { success: true, data: solicitudActualizada }\n    }\n\n    const { data, error } = await supabase\n      .from('solicitudes')\n      .update({\n        ...updateData,\n        fecha_actualizacion: new Date().toISOString()\n      })\n      .eq('id', id)\n      .select()\n      .single()\n\n    if (error) throw error\n\n    return { success: true, data }\n  } catch (error) {\n    console.error('Error al actualizar solicitud:', error)\n    return { success: false, error: error.message }\n  }\n}\n\n/**\n * Obtiene una solicitud por email\n * @param {string} email - Email del solicitante\n * @returns {Promise<Object>} - Resultado de la operación\n */\nexport const obtenerSolicitudPorEmail = async (email) => {\n  try {\n    // En modo desarrollo, simular búsqueda\n    if (import.meta.env.DEV) {\n      console.log('Buscando solicitud simulada para email:', email)\n      // Simular que no hay solicitud existente para permitir crear nueva\n      return { success: true, data: null }\n    }\n\n    const { data, error } = await supabase\n      .from('solicitudes')\n      .select('*')\n      .eq('email_solicitante', email)\n      .order('created_at', { ascending: false })\n      .limit(1)\n      .single()\n\n    if (error && error.code !== 'PGRST116') throw error // PGRST116 = no rows found\n    return { success: true, data: data || null }\n  } catch (error) {\n    console.error('Error al obtener solicitud:', error)\n    return { success: false, error: error.message }\n  }\n}\n\n/**\n * Guardar mensaje en la conversación\n * @param {string} solicitudId - ID de la solicitud\n * @param {Object} mensajeData - Datos del mensaje\n * @returns {Promise<Object>} - Resultado de la operación\n */\nexport async function guardarMensaje(solicitudId, mensajeData) {\n  try {\n    // En modo desarrollo, simular guardado\n    if (import.meta.env.DEV) {\n      const mensajeSimulado = {\n        id: Date.now(),\n        solicitud_id: solicitudId,\n        ...mensajeData,\n        fecha_mensaje: new Date().toISOString()\n      }\n      \n      console.log('Mensaje simulado guardado:', mensajeSimulado)\n      return { success: true, data: mensajeSimulado }\n    }\n\n    const { data, error } = await supabase\n      .from('conversaciones')\n      .insert([{\n        solicitud_id: solicitudId,\n        ...mensajeData,\n        fecha_mensaje: new Date().toISOString()\n      }])\n      .select()\n      .single()\n\n    if (error) throw error\n\n    return { success: true, data }\n  } catch (error) {\n    console.error('Error al guardar mensaje:', error)\n    return { success: false, error: error.message }\n  }\n}\n\n/**\n * Obtiene los campos faltantes de una solicitud\n * @param {Object} solicitud - Datos de la solicitud\n * @returns {Array} - Array de campos faltantes\n */\nexport const obtenerCamposFaltantes = (solicitud) => {\n  const camposRequeridos = [\n    { campo: 'email_solicitante', nombre: 'Email del solicitante', categoria: 'contacto' },\n    { campo: 'nit', nombre: 'NIT de la empresa', categoria: 'empresa' },\n    { campo: 'razon_social', nombre: 'Razón social', categoria: 'empresa' },\n    { campo: 'tipo_empresa', nombre: 'Tipo de empresa', categoria: 'empresa' },\n    { campo: 'telefono_empresa', nombre: 'Teléfono de la empresa', categoria: 'empresa' },\n    { campo: 'direccion_empresa', nombre: 'Dirección de la empresa', categoria: 'empresa' },\n    { campo: 'ciudad', nombre: 'Ciudad', categoria: 'empresa' },\n    { campo: 'departamento', nombre: 'Departamento', categoria: 'empresa' },\n    { campo: 'nombre_representante', nombre: 'Nombre del representante legal', categoria: 'representante' },\n    { campo: 'apellido_representante', nombre: 'Apellido del representante legal', categoria: 'representante' },\n    { campo: 'tipo_documento_rl', nombre: 'Tipo de documento del representante legal', categoria: 'representante' },\n    { campo: 'numero_documento_rl', nombre: 'Número de documento del representante legal', categoria: 'representante' },\n    { campo: 'telefono_rl', nombre: 'Teléfono del representante legal', categoria: 'representante' },\n    { campo: 'email_rl', nombre: 'Email del representante legal', categoria: 'representante' },\n    { campo: 'monto_solicitado', nombre: 'Monto solicitado', categoria: 'financiera' },\n    { campo: 'plazo_solicitado', nombre: 'Plazo solicitado', categoria: 'financiera' },\n    { campo: 'destino_credito', nombre: 'Destino del crédito', categoria: 'financiera' },\n    { campo: 'ingresos_mensuales', nombre: 'Ingresos mensuales', categoria: 'financiera' },\n    { campo: 'egresos_mensuales', nombre: 'Egresos mensuales', categoria: 'financiera' },\n    { campo: 'patrimonio', nombre: 'Patrimonio', categoria: 'financiera' }\n  ]\n\n  return camposRequeridos.filter(campo => !solicitud[campo.campo] || solicitud[campo.campo] === '')\n}\n\n/**\n * Genera un código de seguimiento único\n * @returns {Promise<string>} - Código de seguimiento\n */\nconst generarCodigoSeguimiento = async () => {\n  const año = new Date().getFullYear()\n  const numero = Math.floor(Math.random() * 999999).toString().padStart(6, '0')\n  return `WY-${año}-${numero}`\n}","usedDeprecatedRules":[{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"D:\\CLIENTES\\Wy Credito Tecnología\\web\\wy-credito Completo v1.0\\src\\lib\\supabaseClient.js","messages":[{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":11,"column":3,"nodeType":"MemberExpression","messageId":"unexpected","endLine":11,"endColumn":15,"suggestions":[{"messageId":"removeConsole","data":{"propertyName":"warn"},"fix":{"range":[553,681],"text":""},"desc":"Remove the console.warn()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":15,"column":23,"nodeType":"MemberExpression","messageId":"unexpected","endLine":15,"endColumn":34,"suggestions":[{"messageId":"removeConsole","data":{"propertyName":"log"},"fix":{"range":[767,808],"text":""},"desc":"Remove the console.log()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":16,"column":27,"nodeType":"MemberExpression","messageId":"unexpected","endLine":16,"endColumn":38,"suggestions":[{"messageId":"removeConsole","data":{"propertyName":"log"},"fix":{"range":[899,946],"text":""},"desc":"Remove the console.log()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":17,"column":27,"nodeType":"MemberExpression","messageId":"unexpected","endLine":17,"endColumn":38,"suggestions":[{"messageId":"removeConsole","data":{"propertyName":"log"},"fix":{"range":[1054,1101],"text":""},"desc":"Remove the console.log()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":18,"column":23,"nodeType":"MemberExpression","messageId":"unexpected","endLine":18,"endColumn":34,"suggestions":[{"messageId":"removeConsole","data":{"propertyName":"log"},"fix":{"range":[1205,1246],"text":""},"desc":"Remove the console.log()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":19,"column":22,"nodeType":"MemberExpression","messageId":"unexpected","endLine":19,"endColumn":33,"suggestions":[{"messageId":"removeConsole","data":{"propertyName":"log"},"fix":{"range":[1332,1369],"text":""},"desc":"Remove the console.log()."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { createClient } from '@supabase/supabase-js';\n\n// TEMPORAL: Puente Directo para Debugging\nconst supabaseUrl = 'https://frdjajuabujxkyfulvmn.supabase.co';\nconst supabaseAnonKey = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImZyZGphanVhYnVqeGt5ZnVsdm1uIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTg2NjY5NDEsImV4cCI6MjA3NDI0Mjk0MX0.TD0rZCgrod7uAiklqJCd62Smf9MaojDbYkv5JIix1LU';\n\nlet supabase;\n\n// Verificar si estamos en modo desarrollo y las variables están vacías\nif ((!supabaseUrl || !supabaseAnonKey) && import.meta.env.DEV) {\n  console.warn('ADVERTENCIA: Variables de Supabase no encontradas. Usando cliente simulado. Revisa tu archivo .env o .env.local');\n  \n  const createMockClient = () => ({\n    from: (table) => ({\n      select: () => { console.log(`[MOCK] SELECT en ${table}`); return { data: [], error: { message: 'Cliente simulado' } }; },\n      insert: (data) => { console.log(`[MOCK] INSERT en ${table}`, data); return { data: [{ id: 'mock-id' }], error: { message: 'Cliente simulado' } }; },\n      update: (data) => { console.log(`[MOCK] UPDATE en ${table}`, data); return { data: [{ id: 'mock-id' }], error: { message: 'Cliente simulado' } }; },\n      delete: () => { console.log(`[MOCK] DELETE en ${table}`); return { data: [], error: { message: 'Cliente simulado' } }; },\n      rpc: (fn) => { console.log(`[MOCK] RPC call ${fn}`); return { data: {}, error: { message: 'Cliente simulado' } }; },\n    })\n  });\n  \n  supabase = createMockClient();\n} else if (!supabaseUrl || !supabaseAnonKey) {\n  // En producción, las variables son requeridas\n  throw new Error('Las variables de entorno de Supabase (URL y Anon Key) son requeridas en producción.');\n} else {\n  // Crear cliente real con las credenciales disponibles\n  supabase = createClient(supabaseUrl, supabaseAnonKey);\n}\n\nexport { supabase };","usedDeprecatedRules":[{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"D:\\CLIENTES\\Wy Credito Tecnología\\web\\wy-credito Completo v1.0\\src\\lib\\utils.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"D:\\CLIENTES\\Wy Credito Tecnología\\web\\wy-credito Completo v1.0\\src\\lib\\utils.test.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"D:\\CLIENTES\\Wy Credito Tecnología\\web\\wy-credito Completo v1.0\\src\\main.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"D:\\CLIENTES\\Wy Credito Tecnología\\web\\wy-credito Completo v1.0\\src\\pages\\LandingPage.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"D:\\CLIENTES\\Wy Credito Tecnología\\web\\wy-credito Completo v1.0\\src\\pages\\api\\orchestrator.js","messages":[{"ruleId":"import/no-named-as-default","severity":1,"message":"Using exported name 'OrquestadorWally' as identifier for default import.","line":2,"column":8,"nodeType":"ImportDefaultSpecifier","endLine":2,"endColumn":24},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":35,"column":9,"nodeType":"MemberExpression","messageId":"unexpected","endLine":35,"endColumn":22,"suggestions":[{"messageId":"removeConsole","data":{"propertyName":"error"},"fix":{"range":[1299,1366],"text":""},"desc":"Remove the console.error()."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"// src/pages/api/orchestrator.js\nimport OrquestadorWally from '../../services/orquestador';\n\nexport default async function handler(req, res) {\n    if (req.method !== 'POST') {\n        return res.status(405).json({ success: false, error: 'Method Not Allowed' });\n    }\n\n    const { action, sessionId, payload, initialAmount } = req.body;\n    const orquestador = new OrquestadorWally();\n\n    try {\n        let result;\n        switch (action) {\n            case 'init':\n                result = await orquestador.iniciarConversacion(initialAmount);\n                break;\n            case 'submit_message':\n                result = await orquestador.procesarMensaje(sessionId, payload.message);\n                break;\n            case 'submit_form_step':\n                result = await orquestador.procesarFormulario(sessionId, payload);\n                break;\n            case 'get_summary_data':\n                result = await orquestador.getSummaryData(sessionId);\n                break;\n            case 'complete_submission':\n                result = await orquestador.completeSubmission(sessionId);\n                break;\n            default:\n                throw new Error('Acción no válida');\n        }\n        res.status(200).json({ success: true, ...result });\n    } catch (error) {\n        console.error(`[Orchestrator API Error] Action: ${action}`, error);\n        res.status(500).json({ success: false, error: error.message });\n    }\n}","usedDeprecatedRules":[{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"D:\\CLIENTES\\Wy Credito Tecnología\\web\\wy-credito Completo v1.0\\src\\pages\\api\\send-confirmation.js","messages":[{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":33,"column":5,"nodeType":"MemberExpression","messageId":"unexpected","endLine":33,"endColumn":18,"suggestions":[{"messageId":"removeConsole","data":{"propertyName":"error"},"fix":{"range":[1033,1083],"text":""},"desc":"Remove the console.error()."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { Resend } from 'resend';\nimport SolicitudRecibidaEmail from '../../emails/SolicitudRecibidaEmail';\n\nconst resend = new Resend(process.env.RESEND_API_KEY);\n\nexport default async function handler(req, res) {\n  if (req.method !== 'POST') {\n    return res.status(405).json({ message: 'Method Not Allowed' });\n  }\n\n  try {\n    const { emailTo, nombreSolicitante, montoSolicitado, plazo, solicitudId } = req.body;\n\n    const { data, error } = await resend.emails.send({\n      from: 'Wally @ Wy Credito <onboarding@resend.dev>', // Dominio de envío configurado en Resend\n      to: [emailTo],\n      subject: `Confirmación de tu solicitud de crédito Wy #${solicitudId}`,\n      react: <SolicitudRecibidaEmail\n                nombreSolicitante={nombreSolicitante}\n                montoSolicitado={montoSolicitado}\n                plazo={plazo}\n                solicitudId={solicitudId}\n              />,\n    });\n\n    if (error) {\n      return res.status(400).json(error);\n    }\n\n    res.status(200).json(data);\n\n  } catch (error) {\n    console.error(\"Error enviando el correo:\", error);\n    res.status(500).json({ error: \"Hubo un error al enviar el correo de confirmación.\" });\n  }\n}","usedDeprecatedRules":[{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"D:\\CLIENTES\\Wy Credito Tecnología\\web\\wy-credito Completo v1.0\\src\\pages\\landing\\CTASection.jsx","messages":[{"ruleId":"jsx-a11y/anchor-is-valid","severity":2,"message":"The href attribute requires a valid value to be accessible. Provide a valid, navigable address as the href value. If you cannot provide a valid href, but still need the element to resemble a link, use a button and change it with appropriate styles. Learn more: https://github.com/jsx-eslint/eslint-plugin-jsx-a11y/blob/HEAD/docs/rules/anchor-is-valid.md","line":57,"column":19,"nodeType":"JSXOpeningElement","endLine":57,"endColumn":31}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"// src/pages/landing/CTASection.jsx\nimport React from 'react';\nimport { Link } from 'react-router-dom';\nimport { Button } from '@/components/ui/button';\nimport { ArrowRight } from 'lucide-react';\n\nexport default function CTASection() {\n  return (\n    <section className=\"relative bg-white dark:bg-black py-32 overflow-hidden\">\n      {/* Background SVG Grid */}\n      <div className=\"absolute inset-0\">\n        <div className=\"absolute inset-0 bg-gradient-to-b from-white via-blue-50/50 to-white dark:from-black dark:via-blue-950/20 dark:to-black\" />\n        <svg className=\"absolute inset-0 w-full h-full\" xmlns=\"http://www.w3.org/2000/svg\">\n          <defs>\n            <pattern id=\"grid-pattern-cta\" width=\"72\" height=\"72\" patternUnits=\"userSpaceOnUse\">\n              <path d=\"M 72 0 L 0 0 0 72\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"0.5\" className=\"text-gray-200 dark:text-gray-800\" />\n            </pattern>\n          </defs>\n          <rect width=\"100%\" height=\"100%\" fill=\"url(#grid-pattern-cta)\" />\n        </svg>\n      </div>\n\n      <div className=\"relative z-10 container mx-auto px-4 sm:px-6 lg:px-8\">\n        <div className=\"relative max-w-6xl mx-auto\">\n          {/* Glow effect */}\n          <div className=\"absolute -inset-8 bg-gradient-to-r from-brand-primary/20 via-brand-secondary/20 to-brand-primary/20 rounded-3xl blur-3xl opacity-50 dark:opacity-70\" />\n          \n          {/* Main card */}\n          <div className=\"relative bg-white/70 dark:bg-black/70 backdrop-blur-xl border border-gray-200 dark:border-gray-800 rounded-2xl p-8 sm:p-12 md:p-16 text-center shadow-2xl\">\n            {/* Decorative corner accents */}\n            <div className=\"absolute top-0 left-0 w-16 h-16 border-t-2 border-l-2 border-brand-primary/50 rounded-tl-2xl opacity-50\" />\n            <div className=\"absolute top-0 right-0 w-16 h-16 border-t-2 border-r-2 border-brand-secondary/50 rounded-tr-2xl opacity-50\" />\n            <div className=\"absolute bottom-0 left-0 w-16 h-16 border-b-2 border-l-2 border-brand-secondary/50 rounded-bl-2xl opacity-50\" />\n            <div className=\"absolute bottom-0 right-0 w-16 h-16 border-b-2 border-r-2 border-brand-primary/50 rounded-br-2xl opacity-50\" />\n\n            <div className=\"space-y-6\">\n              <h2 className=\"text-3xl sm:text-4xl md:text-5xl font-bold text-black dark:text-white\">\n                ¿Listo para{\" \"}\n                <span className=\"bg-gradient-to-r from-brand-primary to-brand-secondary bg-clip-text text-transparent\">\n                  impulsar tu empresa?\n                </span>\n              </h2>\n              \n              <p className=\"text-gray-700 dark:text-gray-300 max-w-2xl mx-auto text-lg\">\n                Únete a cientos de empresas que ya han descubierto el poder de la financiación inteligente con IA.\n              </p>\n\n              <div className=\"flex flex-col sm:flex-row items-center justify-center gap-4 pt-4\">\n                <Button size=\"lg\" asChild className=\"bg-gradient-to-r from-brand-primary to-brand-secondary hover:opacity-90 text-white shadow-lg shadow-blue-500/50 text-lg px-8 py-6 group w-full sm:w-auto\">\n                  <Link to=\"/solicitud\">\n                    Solicitar Crédito Ahora\n                    <ArrowRight className=\"ml-2 w-5 h-5 group-hover:translate-x-1 transition-transform\" />\n                  </Link>\n                </Button>\n                \n                <Button size=\"lg\" variant=\"outline\" asChild className=\"text-lg px-8 py-6 w-full sm:w-auto text-black dark:text-white border-2 border-black dark:border-white hover:bg-black/5 dark:hover:bg-white/10\">\n                  <a href=\"#\">\n                    Hablar con un Asesor\n                  </a>\n                </Button>\n              </div>\n\n              {/* Trust indicators */}\n              <div className=\"flex flex-wrap items-center justify-center gap-x-8 gap-y-2 pt-8 text-sm text-gray-600 dark:text-gray-400\">\n                <div className=\"flex items-center gap-2\">\n                  <div className=\"w-2 h-2 rounded-full bg-green-500\" />\n                  <span>Respuesta en 24h</span>\n                </div>\n                <div className=\"flex items-center gap-2\">\n                  <div className=\"w-2 h-2 rounded-full bg-green-500\" />\n                  <span>100% Digital</span>\n                </div>\n                <div className=\"flex items-center gap-2\">\n                  <div className=\"w-2 h-2 rounded-full bg-green-500\" />\n                  <span>Sin comisiones ocultas</span>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </section>\n  );\n}","usedDeprecatedRules":[{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"D:\\CLIENTES\\Wy Credito Tecnología\\web\\wy-credito Completo v1.0\\src\\pages\\landing\\FeaturesSection.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"D:\\CLIENTES\\Wy Credito Tecnología\\web\\wy-credito Completo v1.0\\src\\pages\\landing\\Footer.jsx","messages":[{"ruleId":"jsx-a11y/anchor-is-valid","severity":2,"message":"The href attribute requires a valid value to be accessible. Provide a valid, navigable address as the href value. If you cannot provide a valid href, but still need the element to resemble a link, use a button and change it with appropriate styles. Learn more: https://github.com/jsx-eslint/eslint-plugin-jsx-a11y/blob/HEAD/docs/rules/anchor-is-valid.md","line":57,"column":15,"nodeType":"JSXOpeningElement","endLine":57,"endColumn":181},{"ruleId":"jsx-a11y/anchor-is-valid","severity":2,"message":"The href attribute requires a valid value to be accessible. Provide a valid, navigable address as the href value. If you cannot provide a valid href, but still need the element to resemble a link, use a button and change it with appropriate styles. Learn more: https://github.com/jsx-eslint/eslint-plugin-jsx-a11y/blob/HEAD/docs/rules/anchor-is-valid.md","line":60,"column":15,"nodeType":"JSXOpeningElement","endLine":60,"endColumn":181},{"ruleId":"jsx-a11y/anchor-is-valid","severity":2,"message":"The href attribute requires a valid value to be accessible. Provide a valid, navigable address as the href value. If you cannot provide a valid href, but still need the element to resemble a link, use a button and change it with appropriate styles. Learn more: https://github.com/jsx-eslint/eslint-plugin-jsx-a11y/blob/HEAD/docs/rules/anchor-is-valid.md","line":63,"column":15,"nodeType":"JSXOpeningElement","endLine":63,"endColumn":181}],"suppressedMessages":[],"errorCount":3,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"// src/pages/landing/Footer.jsx\nimport React from 'react';\nimport { Link } from 'react-router-dom';\nimport { Twitter, Linkedin, Instagram } from 'lucide-react';\n\nexport default function Footer() {\n  return (\n    <footer className=\"relative border-t border-gray-200 dark:border-gray-800 bg-white dark:bg-black\">\n      <div className=\"container mx-auto px-4 sm:px-6 lg:px-8 py-12\">\n        <div className=\"grid grid-cols-1 md:grid-cols-4 gap-8 mb-8 text-center md:text-left\">\n          \n          {/* Columna 1: Marca */}\n          <div className=\"space-y-4 md:col-span-1\">\n            <Link to=\"/\" className=\"flex items-center gap-2 justify-center md:justify-start\">\n              <div className=\"w-10 h-10 flex items-center justify-center\">\n                <img src=\"/assets/Logo Icono Wy.svg\" alt=\"Wy Credito Logo\" className=\"w-full h-full\" />\n              </div>\n              <span className=\"text-xl font-bold text-black dark:text-white\">\n                Wy Credito\n              </span>\n            </Link>\n            <p className=\"text-sm text-gray-600 dark:text-gray-400\">\n              Financiación inteligente para el futuro de tu empresa.\n            </p>\n          </div>\n\n          {/* Columna 2: Navegación */}\n          <div>\n            <h4 className=\"font-semibold mb-4 text-black dark:text-white\">Navegación</h4>\n            <ul className=\"space-y-2 text-sm text-gray-600 dark:text-gray-400\">\n              <li><a href=\"#hero\" className=\"hover:text-black dark:hover:text-white transition-colors\">Inicio</a></li>\n              <li><a href=\"#how-it-works\" className=\"hover:text-black dark:hover:text-white transition-colors\">Cómo Funciona</a></li>\n              <li><a href=\"#simulator\" className=\"hover:text-black dark:hover:text-white transition-colors\">Simulador</a></li>\n              <li><a href=\"#features\" className=\"hover:text-black dark:hover:text-white transition-colors\">Beneficios</a></li>\n              <li><a href=\"#testimonials\" className=\"hover:text-black dark:hover:text-white transition-colors\">Testimonios</a></li>\n            </ul>\n          </div>\n\n          {/* Columna 3: Legal */}\n          <div>\n            <h4 className=\"font-semibold mb-4 text-black dark:text-white\">Legal</h4>\n            <ul className=\"space-y-2 text-sm text-gray-600 dark:text-gray-400\">\n              <li><Link to=\"/terminos-y-condiciones\" className=\"hover:text-black dark:hover:text-white transition-colors\">Términos y Condiciones</Link></li>\n              <li><Link to=\"/politica-de-privacidad\" className=\"hover:text-black dark:hover:text-white transition-colors\">Política de Privacidad</Link></li>\n              <li><Link to=\"/politica-de-cookies\" className=\"hover:text-black dark:hover:text-white transition-colors\">Política de Cookies</Link></li>\n            </ul>\n          </div>\n\n          {/* Columna 4: Contacto y Redes */}\n          <div>\n            <h4 className=\"font-semibold mb-4 text-black dark:text-white\">Contacto</h4>\n            <div className=\"space-y-3 text-sm text-gray-600 dark:text-gray-400\">\n              <p>info@wycredito.com</p>\n              <p>Bogotá, Colombia</p>\n            </div>\n            <div className=\"flex gap-3 mt-4 justify-center md:justify-start\">\n              <a href=\"#\" className=\"w-10 h-10 rounded-lg bg-gray-100 dark:bg-gray-900 hover:bg-gray-200 dark:hover:bg-gray-800 flex items-center justify-center transition-colors\">\n                <Twitter className=\"w-5 h-5 text-gray-700 dark:text-gray-300\" />\n              </a>\n              <a href=\"#\" className=\"w-10 h-10 rounded-lg bg-gray-100 dark:bg-gray-900 hover:bg-gray-200 dark:hover:bg-gray-800 flex items-center justify-center transition-colors\">\n                <Linkedin className=\"w-5 h-5 text-gray-700 dark:text-gray-300\" />\n              </a>\n              <a href=\"#\" className=\"w-10 h-10 rounded-lg bg-gray-100 dark:bg-gray-900 hover:bg-gray-200 dark:hover:bg-gray-800 flex items-center justify-center transition-colors\">\n                <Instagram className=\"w-5 h-5 text-gray-700 dark:text-gray-300\" />\n              </a>\n            </div>\n          </div>\n\n        </div>\n\n        <div className=\"pt-8 border-t border-gray-200 dark:border-gray-800 text-center text-sm text-black dark:text-white\">\n          <p className=\"text-black dark:text-white\">\n            © {new Date().getFullYear()} Wy Credito. Derechos reservados. Diseño y Desarrollo por{\" \"}\n            <a\n              href=\"https://krezco.digital\"\n              target=\"_blank\"\n              rel=\"noopener noreferrer\"\n              className=\"font-semibold text-black dark:text-white hover:text-black dark:hover:text-white transition-colors\"\n            >\n              Krezco.Digital\n            </a>\n          </p>\n        </div>\n      </div>\n    </footer>\n  );\n}","usedDeprecatedRules":[{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"D:\\CLIENTES\\Wy Credito Tecnología\\web\\wy-credito Completo v1.0\\src\\pages\\landing\\Header.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"D:\\CLIENTES\\Wy Credito Tecnología\\web\\wy-credito Completo v1.0\\src\\pages\\landing\\HeroSection.jsx","messages":[{"ruleId":"no-unused-vars","severity":1,"message":"'Zap' is defined but never used.","line":6,"column":32,"nodeType":"Identifier","messageId":"unusedVar","endLine":6,"endColumn":35},{"ruleId":"no-unused-vars","severity":1,"message":"'ShieldCheck' is defined but never used.","line":6,"column":37,"nodeType":"Identifier","messageId":"unusedVar","endLine":6,"endColumn":48}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"// src/pages/landing/HeroSection.jsx\nimport React from 'react';\nimport { Link } from 'react-router-dom';\nimport { Button } from '@/components/ui/button';\nimport { motion } from 'framer-motion';\nimport { Sparkles, TrendingUp, Zap, ShieldCheck } from 'lucide-react';\n\nexport default function HeroSection() {\n  return (\n    <section id=\"hero\" className=\"relative min-h-screen flex items-center justify-center overflow-hidden pt-24 md:pt-32\">\n      {/* Background Effects */}\n      <div className=\"absolute inset-0 bg-gray-50 dark:bg-black\" />\n      <div className=\"absolute inset-0 bg-[linear-gradient(to_right,#f0f0f0_1px,transparent_1px),linear-gradient(to_bottom,#f0f0f0_1px,transparent_1px)] dark:bg-[linear-gradient(to_right,#1e1e1e_1px,transparent_1px),linear-gradient(to_bottom,#1e1e1e_1px,transparent_1px)] bg-[size:6rem_4rem]\" />\n      \n      {/* Glowing Orbs con Nueva Paleta */}\n      <motion.div\n        className=\"absolute top-1/4 left-1/4 w-96 h-96 bg-brand-primary/20 rounded-full blur-3xl\" // Azul principal\n        animate={{ scale: [1, 1.2, 1], opacity: [0.3, 0.5, 0.3] }}\n        transition={{ duration: 8, repeat: Infinity, ease: 'easeInOut' }}\n      />\n      <motion.div\n        className=\"absolute bottom-1/4 right-1/4 w-96 h-96 bg-brand-secondary/20 rounded-full blur-3xl\" // Cyan brillante\n        animate={{ scale: [1.2, 1, 1.2], opacity: [0.5, 0.3, 0.5] }}\n        transition={{ duration: 8, repeat: Infinity, ease: 'easeInOut' }}\n      />\n\n      <div className=\"relative z-10 container mx-auto px-4 sm:px-6 lg:px-8 py-20\">\n        <div className=\"text-center space-y-8\">\n          {/* AI Tag */}\n          <motion.div\n            initial={{ opacity: 0, y: 20 }}\n            animate={{ opacity: 1, y: 0 }}\n            transition={{ duration: 0.6 }}\n            className=\"inline-flex items-center gap-2 px-4 py-2 rounded-full border border-blue-500/30 bg-blue-500/10 backdrop-blur-sm\"\n          >\n            <Sparkles className=\"w-4 h-4 text-brand-primary dark:text-blue-400\" />\n            <span className=\"text-sm text-brand-primary dark:text-blue-300\">Impulsado por Inteligencia Artificial</span>\n          </motion.div>\n\n          {/* Headline con Nueva Paleta */}\n          <motion.h1\n            initial={{ opacity: 0, y: 20 }}\n            animate={{ opacity: 1, y: 0 }}\n            transition={{ duration: 0.6, delay: 0.1 }}\n            className=\"text-4xl sm:text-5xl md:text-6xl lg:text-7xl font-bold max-w-5xl mx-auto text-black dark:text-white\"\n          >\n            El Impulso Financiero que tu Empresa Necesita,{\" \"}\n            <span className=\"bg-gradient-to-r from-brand-primary to-brand-secondary bg-clip-text text-transparent\">\n              Ahora más Simple que Nunca.\n            </span>\n          </motion.h1>\n\n          {/* Sub-headline */}\n          <motion.p\n            initial={{ opacity: 0, y: 20 }}\n            animate={{ opacity: 1, y: 0 }}\n            transition={{ duration: 0.6, delay: 0.2 }}\n            className=\"text-lg sm:text-xl text-gray-700 dark:text-gray-300 max-w-3xl mx-auto\"\n          >\n            En Wy Credito, transformamos el acceso a la financiación. Olvídate de la burocracia interminable y obtén el capital para crecer con un proceso 100% digital, ágil y transparente.\n          </motion.p>\n\n          {/* Action Buttons */}\n          <motion.div\n            initial={{ opacity: 0, y: 20 }}\n            animate={{ opacity: 1, y: 0 }}\n            transition={{ duration: 0.6, delay: 0.3 }}\n            className=\"flex flex-col sm:flex-row items-center justify-center gap-4\"\n          >\n            <Button size=\"lg\" asChild className=\"bg-gradient-to-r from-brand-primary to-brand-secondary text-white hover:opacity-90 shadow-lg shadow-blue-500/30\">\n              <Link to=\"/solicitud\">\n                <TrendingUp className=\"w-4 h-4 mr-2\" />\n                Inicia tu Solicitud Ahora\n              </Link>\n            </Button>\n            <Button size=\"lg\" variant=\"outline\" asChild className=\"text-black dark:text-white border-black dark:border-white hover:bg-black/5 dark:hover:bg-white/10\">\n              <a href=\"#features\">Conocer Beneficios</a>\n            </Button>\n          </motion.div>\n        \n          {/* Key Benefits */}\n          <motion.div\n            initial={{ opacity: 0, y: 20 }}\n            animate={{ opacity: 1, y: 0 }}\n            transition={{ duration: 0.6, delay: 0.4 }}\n            className=\"grid grid-cols-1 sm:grid-cols-3 gap-8 pt-12 max-w-4xl mx-auto\"\n          >\n             {/* ... (contenido de beneficios sin cambios de color por ahora) ... */}\n          </motion.div>\n        </div>\n      </div>\n    </section>\n  );\n}","usedDeprecatedRules":[{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"D:\\CLIENTES\\Wy Credito Tecnología\\web\\wy-credito Completo v1.0\\src\\pages\\landing\\HowItWorksSection.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"D:\\CLIENTES\\Wy Credito Tecnología\\web\\wy-credito Completo v1.0\\src\\pages\\landing\\SimulatorSection.jsx","messages":[{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":45,"column":17,"nodeType":"JSXOpeningElement","endLine":45,"endColumn":77},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":67,"column":17,"nodeType":"JSXOpeningElement","endLine":67,"endColumn":77}],"suppressedMessages":[],"errorCount":2,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"// src/pages/landing/SimulatorSection.jsx\nimport React, { useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport { Card } from '@/components/ui/card';\nimport { Slider } from '@/components/ui/slider';\nimport { Button } from '@/components/ui/button';\nimport { Calculator } from 'lucide-react';\n\nexport default function SimulatorSection() {\n  const [amount, setAmount] = useState(50000000);\n  const [months, setMonths] = useState(12);\n\n  const monthlyRate = 0.10 / 12;\n  const monthlyPayment = Math.round(\n    (amount * monthlyRate * Math.pow(1 + monthlyRate, months)) /\n      (Math.pow(1 + monthlyRate, months) - 1)\n  );\n\n  const formatCurrency = (value) => {\n    return new Intl.NumberFormat(\"es-CO\", {\n      style: \"currency\",\n      currency: \"COP\",\n      minimumFractionDigits: 0,\n      maximumFractionDigits: 0,\n    }).format(value);\n  };\n\n  return (\n    <section id=\"simulator\" className=\"relative bg-white dark:bg-gray-950/50 py-20 overflow-hidden\">\n      <div className=\"max-w-5xl mx-auto px-4 sm:px-6 lg:px-8\">\n        <div className=\"text-center mb-12\">\n          <h2 className=\"text-3xl sm:text-4xl md:text-5xl font-bold mb-4 text-black dark:text-white\">\n            Proyecta tu Crecimiento.{\" \"}\n            <span className=\"bg-gradient-to-r from-brand-primary to-brand-secondary bg-clip-text text-transparent\">\n              Sin Compromisos.\n            </span>\n          </h2>\n        </div>\n\n        <Card className=\"relative overflow-hidden bg-transparent card-glass card-hover border-gray-200 dark:border-gray-800 p-8 shadow-2xl shadow-blue-500/10\">\n          <div className=\"space-y-8\">\n            {/* Amount Slider */}\n            <div className=\"space-y-4\">\n              <div className=\"flex items-center justify-between\">\n                <label className=\"text-sm text-gray-600 dark:text-gray-400\">Monto del crédito</label>\n                <span className=\"text-2xl font-bold bg-gradient-to-r from-brand-primary to-brand-secondary bg-clip-text text-transparent\">\n                  {formatCurrency(amount)}\n                </span>\n              </div>\n              <Slider\n                value={[amount]}\n                onValueChange={(value) => setAmount(value[0])}\n                min={5000000}\n                max={200000000}\n                step={1000000}\n                className=\"w-full\"\n              />\n              <div className=\"flex justify-between text-xs text-gray-500\">\n                <span>$5M</span>\n                <span>$200M</span>\n              </div>\n            </div>\n\n            {/* Term Slider */}\n            <div className=\"space-y-4\">\n              <div className=\"flex items-center justify-between\">\n                <label className=\"text-sm text-gray-600 dark:text-gray-400\">Plazo del crédito (mensual)</label>\n                <span className=\"text-2xl font-bold bg-gradient-to-r from-brand-primary to-brand-secondary bg-clip-text text-transparent\">\n                  {months} meses\n                </span>\n              </div>\n              <Slider\n                value={[months]}\n                onValueChange={(value) => setMonths(value[0])}\n                min={6}\n                max={48}\n                step={6}\n                className=\"w-full\"\n              />\n              <div className=\"flex justify-between text-xs text-gray-500\">\n                <span>6 meses</span>\n                <span>48 meses</span>\n              </div>\n            </div>\n\n            {/* Result */}\n            <div className=\"pt-6 border-t border-gray-200 dark:border-gray-800\">\n              <div className=\"flex flex-col sm:flex-row items-center justify-between gap-4\">\n                <div>\n                  <p className=\"text-sm text-gray-600 dark:text-gray-400 mb-1\">Pago Mensual Estimado</p>\n                  <p className=\"text-3xl sm:text-4xl font-bold bg-gradient-to-r from-brand-primary to-brand-secondary bg-clip-text text-transparent\">\n                    {formatCurrency(monthlyPayment)}\n                  </p>\n                  <p className=\"text-xs text-gray-500 mt-2\">\n                    *Cálculo aproximado. La tasa final puede variar según el estudio de crédito.\n                  </p>\n                </div>\n                <Button size=\"lg\" asChild className=\"bg-gradient-to-r from-brand-primary to-brand-secondary text-white hover:opacity-90 shadow-lg shadow-blue-500/30 icon-hover\">\n                  <Link to=\"/solicitud\">\n                    <span className=\"inline-flex w-6 h-6 mr-2 items-center justify-center rounded-md icon-gradient-bg\"><Calculator className=\"w-4 h-4 text-white\" /></span>\n                    Iniciar Solicitud\n                  </Link>\n                </Button>\n              </div>\n            </div>\n          </div>\n        </Card>\n      </div>\n    </section>\n  );\n}","usedDeprecatedRules":[{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"D:\\CLIENTES\\Wy Credito Tecnología\\web\\wy-credito Completo v1.0\\src\\pages\\landing\\TestimonialsSection.jsx","messages":[{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`\"` can be escaped with `&quot;`, `&ldquo;`, `&#34;`, `&rdquo;`.","line":95,"column":21,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&quot;"},"fix":{"range":[4239,4261],"text":"\n                    &quot;"},"desc":"Replace with `&quot;`."},{"messageId":"replaceWithAlt","data":{"alt":"&ldquo;"},"fix":{"range":[4239,4261],"text":"\n                    &ldquo;"},"desc":"Replace with `&ldquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#34;"},"fix":{"range":[4239,4261],"text":"\n                    &#34;"},"desc":"Replace with `&#34;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rdquo;"},"fix":{"range":[4239,4261],"text":"\n                    &rdquo;"},"desc":"Replace with `&rdquo;`."}]},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`\"` can be escaped with `&quot;`, `&ldquo;`, `&#34;`, `&rdquo;`.","line":95,"column":41,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&quot;"},"fix":{"range":[4280,4300],"text":"&quot;\n                  "},"desc":"Replace with `&quot;`."},{"messageId":"replaceWithAlt","data":{"alt":"&ldquo;"},"fix":{"range":[4280,4300],"text":"&ldquo;\n                  "},"desc":"Replace with `&ldquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#34;"},"fix":{"range":[4280,4300],"text":"&#34;\n                  "},"desc":"Replace with `&#34;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rdquo;"},"fix":{"range":[4280,4300],"text":"&rdquo;\n                  "},"desc":"Replace with `&rdquo;`."}]}],"suppressedMessages":[],"errorCount":2,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"// src/pages/landing/TestimonialsSection.jsx\nimport React from 'react';\nimport { motion } from 'framer-motion';\nimport { Avatar, AvatarFallback } from \"@/components/ui/avatar\";\n\nconst testimonials = [\n  {\n    quote: \"La plataforma es intuitiva y el proceso 100% digital nos ahorró semanas de trabajo. El poder simular el crédito primero nos dio la confianza para aplicar.\",\n    author: \"Ana María Rojas\",\n    role: \"CEO, Innovatech Soluciones SAS\",\n    initials: \"AR\",\n  },\n  {\n    quote: \"Intentamos con la banca tradicional, pero el papeleo era interminable. Con Wy Credito, tuvimos una pre-aprobación en horas y el desembolso en 3 días. Insuperable.\",\n    author: \"Carlos Gutierrez\",\n    role: \"Gerente Financiero, Logística Andina\",\n    initials: \"CG\",\n  },\n  {\n    quote: \"Lo que más valoramos fue la transparencia. Cero letra pequeña y condiciones claras desde el principio. La tecnología de IA realmente agiliza todo.\",\n    author: \"Sofia Estrada\",\n    role: \"Fundadora, Café de la Sierra\",\n    initials: \"SE\",\n  },\n  {\n    quote: \"Como empresa de tecnología, valoramos la eficiencia. El análisis crediticio basado en IA nos permitió obtener mejores condiciones que cualquier banco. Proceso rápido y confiable.\",\n    author: \"Juan David Vélez\",\n    role: \"CTO, DataTech Analytics\",\n    initials: \"JV\",\n  },\n  {\n    quote: \"Necesitábamos capital para una importación urgente. El proceso fue tan ágil que pudimos cerrar el negocio sin contratiempos. Wy Credito entiende la velocidad del comercio.\",\n    author: \"Laura Martínez\",\n    role: \"Gerente de Compras, Retail Plus\",\n    initials: \"LM\",\n  },\n  {\n    quote: \"La experiencia de usuario es de otro nivel. Poder firmar electrónicamente y subir todo desde la oficina nos liberó para enfocarnos en la operación. 100% recomendado.\",\n    author: \"Andrés Botero\",\n    role: \"Director de Operaciones, Manufacturas BGA\",\n    initials: \"AB\",\n  },\n  {\n    quote: \"Más que un crédito, fue una asesoría. El equipo entendió nuestro modelo de negocio y nos ofreció una solución a la medida. Son verdaderos socios estratégicos.\",\n    author: \"Isabella Londoño\",\n    role: \"Fundadora, Creativos Digitales\",\n    initials: \"IL\",\n  },\n];\n\nconst duplicatedTestimonials = [...testimonials, ...testimonials];\n\nexport default function TestimonialsSection() {\n  return (\n    <section id=\"testimonials\" className=\"relative bg-white dark:bg-black py-24 overflow-hidden\">\n      <div className=\"container mx-auto px-4 sm:px-6 lg:px-8 mb-16 text-center\">\n        <motion.h2\n          initial={{ opacity: 0, y: 20 }}\n          whileInView={{ opacity: 1, y: 0 }}\n          transition={{ duration: 0.5 }}\n          viewport={{ once: true }}\n          className=\"text-3xl sm:text-4xl md:text-5xl font-bold mb-4 text-black dark:text-white\"\n        >\n          Empresas que{\" \"}\n          <span className=\"bg-gradient-to-r from-brand-primary to-brand-secondary bg-clip-text text-transparent\">\n            confían en nosotros\n          </span>\n        </motion.h2>\n        <motion.p\n          initial={{ opacity: 0, y: 20 }}\n          whileInView={{ opacity: 1, y: 0 }}\n          transition={{ duration: 0.5, delay: 0.1 }}\n          viewport={{ once: true }}\n          className=\"text-lg text-gray-700 dark:text-gray-300\"\n        >\n          Cientos de empresas ya están acelerando su crecimiento con Wy Credito.\n        </motion.p>\n      </div>\n\n      <div className=\"relative group\">\n        <div className=\"flex gap-8 animate-infinite-scroll group-hover:[animation-play-state:paused]\">\n          {duplicatedTestimonials.map((testimonial, index) => (\n            <div\n              key={`${testimonial.author}-${index}`}\n              className=\"flex-shrink-0 w-[320px] sm:w-[400px] md:w-[500px]\"\n            >\n              <div className=\"flex items-start gap-4 p-6\">\n                <Avatar className=\"w-12 h-12 flex-shrink-0 border-2 border-blue-500/30\">\n                  <AvatarFallback className=\"bg-gradient-to-br from-brand-primary to-brand-secondary text-white font-bold\">\n                    {testimonial.initials}\n                  </AvatarFallback>\n                </Avatar>\n                <div className=\"space-y-2\">\n                  <p className=\"text-gray-800 dark:text-gray-200 leading-relaxed\">\n                    \"{testimonial.quote}\"\n                  </p>\n                  <div>\n                    <p className=\"font-semibold text-black dark:text-white\">\n                      {testimonial.author}\n                    </p>\n                    <p className=\"text-sm text-gray-600 dark:text-gray-400\">\n                      {testimonial.role}\n                    </p>\n                  </div>\n                </div>\n              </div>\n            </div>\n          ))}\n        </div>\n        <div className=\"absolute inset-y-0 left-0 w-32 bg-gradient-to-r from-white dark:from-black to-transparent pointer-events-none\" />\n        <div className=\"absolute inset-y-0 right-0 w-32 bg-gradient-to-l from-white dark:from-black to-transparent pointer-events-none\" />\n      </div>\n\n      <style>{`\n        @keyframes infinite-scroll {\n          from { transform: translateX(0); }\n          to { transform: translateX(-50%); }\n        }\n        .animate-infinite-scroll {\n          animation: infinite-scroll 60s linear infinite;\n          display: flex;\n          width: max-content;\n        }\n      `}</style>\n    </section>\n  );\n}","usedDeprecatedRules":[{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"D:\\CLIENTES\\Wy Credito Tecnología\\web\\wy-credito Completo v1.0\\src\\pages\\legal\\CookiePolicyPage.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"D:\\CLIENTES\\Wy Credito Tecnología\\web\\wy-credito Completo v1.0\\src\\pages\\legal\\PrivacyPolicyPage.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"D:\\CLIENTES\\Wy Credito Tecnología\\web\\wy-credito Completo v1.0\\src\\pages\\legal\\TermsAndConditionsPage.jsx","messages":[{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`\"` can be escaped with `&quot;`, `&ldquo;`, `&#34;`, `&rdquo;`.","line":13,"column":142,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&quot;"},"fix":{"range":[538,866],"text":"\n            El presente documento establece los Términos y Condiciones que rigen el uso de la plataforma digital de Wy Credito (en adelante, &quot;la Plataforma\"). Al acceder y utilizar nuestros servicios, usted (en adelante, \"el Usuario\") declara haber leído, entendido y aceptado en su totalidad los presentes términos.\n          "},"desc":"Replace with `&quot;`."},{"messageId":"replaceWithAlt","data":{"alt":"&ldquo;"},"fix":{"range":[538,866],"text":"\n            El presente documento establece los Términos y Condiciones que rigen el uso de la plataforma digital de Wy Credito (en adelante, &ldquo;la Plataforma\"). Al acceder y utilizar nuestros servicios, usted (en adelante, \"el Usuario\") declara haber leído, entendido y aceptado en su totalidad los presentes términos.\n          "},"desc":"Replace with `&ldquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#34;"},"fix":{"range":[538,866],"text":"\n            El presente documento establece los Términos y Condiciones que rigen el uso de la plataforma digital de Wy Credito (en adelante, &#34;la Plataforma\"). Al acceder y utilizar nuestros servicios, usted (en adelante, \"el Usuario\") declara haber leído, entendido y aceptado en su totalidad los presentes términos.\n          "},"desc":"Replace with `&#34;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rdquo;"},"fix":{"range":[538,866],"text":"\n            El presente documento establece los Términos y Condiciones que rigen el uso de la plataforma digital de Wy Credito (en adelante, &rdquo;la Plataforma\"). Al acceder y utilizar nuestros servicios, usted (en adelante, \"el Usuario\") declara haber leído, entendido y aceptado en su totalidad los presentes términos.\n          "},"desc":"Replace with `&rdquo;`."}]},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`\"` can be escaped with `&quot;`, `&ldquo;`, `&#34;`, `&rdquo;`.","line":13,"column":156,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&quot;"},"fix":{"range":[538,866],"text":"\n            El presente documento establece los Términos y Condiciones que rigen el uso de la plataforma digital de Wy Credito (en adelante, \"la Plataforma&quot;). Al acceder y utilizar nuestros servicios, usted (en adelante, \"el Usuario\") declara haber leído, entendido y aceptado en su totalidad los presentes términos.\n          "},"desc":"Replace with `&quot;`."},{"messageId":"replaceWithAlt","data":{"alt":"&ldquo;"},"fix":{"range":[538,866],"text":"\n            El presente documento establece los Términos y Condiciones que rigen el uso de la plataforma digital de Wy Credito (en adelante, \"la Plataforma&ldquo;). Al acceder y utilizar nuestros servicios, usted (en adelante, \"el Usuario\") declara haber leído, entendido y aceptado en su totalidad los presentes términos.\n          "},"desc":"Replace with `&ldquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#34;"},"fix":{"range":[538,866],"text":"\n            El presente documento establece los Términos y Condiciones que rigen el uso de la plataforma digital de Wy Credito (en adelante, \"la Plataforma&#34;). Al acceder y utilizar nuestros servicios, usted (en adelante, \"el Usuario\") declara haber leído, entendido y aceptado en su totalidad los presentes términos.\n          "},"desc":"Replace with `&#34;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rdquo;"},"fix":{"range":[538,866],"text":"\n            El presente documento establece los Términos y Condiciones que rigen el uso de la plataforma digital de Wy Credito (en adelante, \"la Plataforma&rdquo;). Al acceder y utilizar nuestros servicios, usted (en adelante, \"el Usuario\") declara haber leído, entendido y aceptado en su totalidad los presentes términos.\n          "},"desc":"Replace with `&rdquo;`."}]},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`\"` can be escaped with `&quot;`, `&ldquo;`, `&#34;`, `&rdquo;`.","line":13,"column":222,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&quot;"},"fix":{"range":[538,866],"text":"\n            El presente documento establece los Términos y Condiciones que rigen el uso de la plataforma digital de Wy Credito (en adelante, \"la Plataforma\"). Al acceder y utilizar nuestros servicios, usted (en adelante, &quot;el Usuario\") declara haber leído, entendido y aceptado en su totalidad los presentes términos.\n          "},"desc":"Replace with `&quot;`."},{"messageId":"replaceWithAlt","data":{"alt":"&ldquo;"},"fix":{"range":[538,866],"text":"\n            El presente documento establece los Términos y Condiciones que rigen el uso de la plataforma digital de Wy Credito (en adelante, \"la Plataforma\"). Al acceder y utilizar nuestros servicios, usted (en adelante, &ldquo;el Usuario\") declara haber leído, entendido y aceptado en su totalidad los presentes términos.\n          "},"desc":"Replace with `&ldquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#34;"},"fix":{"range":[538,866],"text":"\n            El presente documento establece los Términos y Condiciones que rigen el uso de la plataforma digital de Wy Credito (en adelante, \"la Plataforma\"). Al acceder y utilizar nuestros servicios, usted (en adelante, &#34;el Usuario\") declara haber leído, entendido y aceptado en su totalidad los presentes términos.\n          "},"desc":"Replace with `&#34;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rdquo;"},"fix":{"range":[538,866],"text":"\n            El presente documento establece los Términos y Condiciones que rigen el uso de la plataforma digital de Wy Credito (en adelante, \"la Plataforma\"). Al acceder y utilizar nuestros servicios, usted (en adelante, &rdquo;el Usuario\") declara haber leído, entendido y aceptado en su totalidad los presentes términos.\n          "},"desc":"Replace with `&rdquo;`."}]},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`\"` can be escaped with `&quot;`, `&ldquo;`, `&#34;`, `&rdquo;`.","line":13,"column":233,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&quot;"},"fix":{"range":[538,866],"text":"\n            El presente documento establece los Términos y Condiciones que rigen el uso de la plataforma digital de Wy Credito (en adelante, \"la Plataforma\"). Al acceder y utilizar nuestros servicios, usted (en adelante, \"el Usuario&quot;) declara haber leído, entendido y aceptado en su totalidad los presentes términos.\n          "},"desc":"Replace with `&quot;`."},{"messageId":"replaceWithAlt","data":{"alt":"&ldquo;"},"fix":{"range":[538,866],"text":"\n            El presente documento establece los Términos y Condiciones que rigen el uso de la plataforma digital de Wy Credito (en adelante, \"la Plataforma\"). Al acceder y utilizar nuestros servicios, usted (en adelante, \"el Usuario&ldquo;) declara haber leído, entendido y aceptado en su totalidad los presentes términos.\n          "},"desc":"Replace with `&ldquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#34;"},"fix":{"range":[538,866],"text":"\n            El presente documento establece los Términos y Condiciones que rigen el uso de la plataforma digital de Wy Credito (en adelante, \"la Plataforma\"). Al acceder y utilizar nuestros servicios, usted (en adelante, \"el Usuario&#34;) declara haber leído, entendido y aceptado en su totalidad los presentes términos.\n          "},"desc":"Replace with `&#34;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rdquo;"},"fix":{"range":[538,866],"text":"\n            El presente documento establece los Términos y Condiciones que rigen el uso de la plataforma digital de Wy Credito (en adelante, \"la Plataforma\"). Al acceder y utilizar nuestros servicios, usted (en adelante, \"el Usuario&rdquo;) declara haber leído, entendido y aceptado en su totalidad los presentes términos.\n          "},"desc":"Replace with `&rdquo;`."}]}],"suppressedMessages":[],"errorCount":4,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React from 'react';\n\nconst TermsAndConditionsPage = () => {\n  return (\n    <div className=\"bg-background text-foreground min-h-screen\">\n      <div className=\"container mx-auto px-4 py-12 md:py-20\">\n        <h1 className=\"text-3xl md:text-4xl font-bold mb-6\">Términos y Condiciones de Uso - Wy Credito</h1>\n        <div className=\"space-y-6 text-muted-foreground prose dark:prose-invert max-w-none\">\n          <p className=\"text-lg\">\n            <strong>Última actualización:</strong> 2 de Octubre, 2025\n          </p>\n          <p>\n            El presente documento establece los Términos y Condiciones que rigen el uso de la plataforma digital de Wy Credito (en adelante, \"la Plataforma\"). Al acceder y utilizar nuestros servicios, usted (en adelante, \"el Usuario\") declara haber leído, entendido y aceptado en su totalidad los presentes términos.\n          </p>\n\n          <h2 className=\"text-2xl font-semibold mt-8 border-b pb-2\">1. Objeto del Servicio</h2>\n          <p>\n            Wy Credito ofrece una plataforma tecnológica que facilita el proceso de solicitud y análisis de productos de financiamiento para empresas, de acuerdo con las políticas internas de la compañía y la regulación vigente en la República de Colombia.\n          </p>\n\n          <h2 className=\"text-2xl font-semibold mt-8 border-b pb-2\">2. Tratamiento de Datos Personales (Habeas Data)</h2>\n          <p>\n            Al aceptar estos términos, el Usuario otorga su <strong>autorización previa, explícita e informada</strong> a Wy Credito para el tratamiento de sus datos personales y los de la empresa que representa, en concordancia con la Ley Estatutaria 1581 de 2012 y la Ley 1266 de 2008 (Ley de Habeas Data Financiero).\n          </p>\n          <p>\n            La finalidad de este tratamiento incluye, pero no se limita a:\n          </p>\n          <ul className=\"list-disc list-inside\">\n            <li>Verificar la identidad del Usuario y la información de la empresa.</li>\n            <li>Realizar el análisis de riesgo crediticio.</li>\n            <li>Consultar, reportar y actualizar información en centrales de riesgo (operadores de información financiera) como TransUnion, Datacrédito, etc.</li>\n            <li>Contactar al Usuario para asuntos relacionados con su solicitud.</li>\n          </ul>\n          <p>\n            El Usuario tiene derecho a conocer, actualizar, rectificar y suprimir sus datos personales en cualquier momento, a través de los canales de atención que Wy Credito disponga para tal fin.\n          </p>\n\n          <h2 className=\"text-2xl font-semibold mt-8 border-b pb-2\">3. Derechos y Deberes del Usuario</h2>\n          <p>\n            Es deber del Usuario suministrar información veraz, completa y actualizada durante todo el proceso de solicitud. Wy Credito no se hace responsable por las consecuencias derivadas de información inexacta o fraudulenta. Conforme al Estatuto del Consumidor (Ley 1480 de 2011), el Usuario tiene derecho a recibir información clara, transparente y oportuna sobre los productos y servicios ofrecidos.\n          </p>\n\n          <h2 className=\"text-2xl font-semibold mt-8 border-b pb-2\">4. Propiedad Intelectual</h2>\n          <p>\n            Todo el contenido, logos, código y diseño de la Plataforma son propiedad exclusiva de Wy Credito y están protegidos por las leyes de propiedad intelectual de Colombia.\n          </p>\n\n          <h2 className=\"text-2xl font-semibold mt-8 border-b pb-2\">5. Ley Aplicable y Jurisdicción</h2>\n          <p>\n            Estos Términos y Condiciones se rigen por las leyes de la República de Colombia. Cualquier controversia será sometida a la jurisdicción de los jueces y tribunales de la ciudad de Bogotá D.C.\n          </p>\n\n          <p className=\"mt-12 italic\">\n            <strong>Nota Importante:</strong> Este es un documento preliminar. El contenido legal definitivo será proporcionado y validado por el equipo jurídico de Wy Credito.\n          </p>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default TermsAndConditionsPage;","usedDeprecatedRules":[{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"D:\\CLIENTES\\Wy Credito Tecnología\\web\\wy-credito Completo v1.0\\src\\services\\gemini.js","messages":[{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":34,"column":9,"nodeType":"MemberExpression","messageId":"unexpected","endLine":34,"endColumn":20,"suggestions":[{"messageId":"removeConsole","data":{"propertyName":"log"},"fix":{"range":[920,975],"text":""},"desc":"Remove the console.log()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":36,"column":9,"nodeType":"MemberExpression","messageId":"unexpected","endLine":36,"endColumn":21,"suggestions":[{"messageId":"removeConsole","data":{"propertyName":"warn"},"fix":{"range":[999,1067],"text":""},"desc":"Remove the console.warn()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":40,"column":7,"nodeType":"MemberExpression","messageId":"unexpected","endLine":40,"endColumn":20,"suggestions":[{"messageId":"removeConsole","data":{"propertyName":"error"},"fix":{"range":[1140,1199],"text":""},"desc":"Remove the console.error()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":69,"column":7,"nodeType":"MemberExpression","messageId":"unexpected","endLine":69,"endColumn":20,"suggestions":[{"messageId":"removeConsole","data":{"propertyName":"error"},"fix":{"range":[2093,2158],"text":""},"desc":"Remove the console.error()."}]},{"ruleId":"no-unused-vars","severity":1,"message":"'prompt' is defined but never used.","line":146,"column":24,"nodeType":"Identifier","messageId":"unusedVar","endLine":146,"endColumn":30},{"ruleId":"no-unused-vars","severity":1,"message":"'context' is defined but never used.","line":146,"column":32,"nodeType":"Identifier","messageId":"unusedVar","endLine":146,"endColumn":39}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * Servicio de integración con Google Gemini API\n * Wy Crédito Tecnología - Wally\n * \n * Maneja todas las interacciones con la API de Gemini de forma segura\n */\n\nimport { GoogleGenerativeAI } from '@google/generative-ai';\nimport { geminiConfig, appConfig } from '../config/index.js';\n\nclass GeminiService {\n  constructor() {\n    this.genAI = null;\n    this.model = null;\n    this.isInitialized = false;\n    this.isDevMode = appConfig.devMode;\n    \n    this.initialize();\n  }\n  \n  /**\n   * Inicializa el servicio de Gemini\n   */\n  initialize() {\n    try {\n      if (geminiConfig.isValid()) {\n        this.genAI = new GoogleGenerativeAI(geminiConfig.apiKey);\n        this.model = this.genAI.getGenerativeModel({\n          model: geminiConfig.model,\n          generationConfig: geminiConfig.generationConfig,\n          safetySettings: geminiConfig.safetySettings,\n        });\n        this.isInitialized = true;\n        console.log('✅ Gemini API inicializada correctamente');\n      } else {\n        console.warn('⚠️ Gemini API no configurada - usando modo simulado');\n        this.isInitialized = false;\n      }\n    } catch (error) {\n      console.error('❌ Error al inicializar Gemini API:', error);\n      this.isInitialized = false;\n    }\n  }\n  \n  /**\n   * Genera una respuesta usando Gemini API\n   * @param {string} prompt - El prompt para enviar a Gemini\n   * @param {Object} context - Contexto adicional para la conversación\n   * @returns {Promise<string>} - La respuesta generada\n   */\n  async generateResponse(prompt, context = {}) {\n    if (!this.isInitialized || this.isDevMode) {\n      return this.generateMockResponse(prompt, context);\n    }\n    \n    try {\n      // Construir el prompt completo con contexto\n      const fullPrompt = this.buildPrompt(prompt, context);\n      \n      // Generar respuesta\n      const result = await this.model.generateContent(fullPrompt);\n      const response = await result.response;\n      const text = response.text();\n      \n      // Validar y limpiar la respuesta\n      return this.validateAndCleanResponse(text);\n      \n    } catch (error) {\n      console.error('❌ Error al generar respuesta con Gemini:', error);\n      \n      // Fallback a respuesta simulada en caso de error\n      return this.generateMockResponse(prompt, context);\n    }\n  }\n  \n  /**\n   * Construye el prompt completo con contexto\n   * @param {string} userMessage - Mensaje del usuario\n   * @param {Object} context - Contexto de la conversación\n   * @returns {string} - Prompt completo\n   */\n  buildPrompt(userMessage, context) {\n    const systemPrompt = `\nEres Wally, el asistente virtual de Wy Crédito Tecnología. Tu objetivo es ayudar a los usuarios a solicitar créditos empresariales de manera conversacional y eficiente.\n\nCONTEXTO DE LA CONVERSACIÓN:\n- Solicitud ID: ${context.solicitudId || 'Nueva solicitud'}\n- Email del usuario: ${context.email || 'No proporcionado'}\n- Campos completados: ${context.camposCompletados || 0}\n- Progreso: ${context.progreso || 0}%\n\nINSTRUCCIONES:\n1. Sé amigable, profesional y eficiente\n2. Haz una pregunta a la vez\n3. Valida la información proporcionada\n4. Proporciona feedback positivo cuando sea apropiado\n5. Mantén el foco en completar la solicitud de crédito\n\nINFORMACIÓN REQUERIDA:\n- Información de la empresa (NIT, razón social, etc.)\n- Datos del representante legal\n- Información financiera (monto, plazo, ingresos)\n- Tipo de garantía\n\nMENSAJE DEL USUARIO: ${userMessage}\n\nResponde de manera natural y conversacional:`;\n\n    return systemPrompt;\n  }\n  \n  /**\n   * Valida y limpia la respuesta de Gemini\n   * @param {string} response - Respuesta cruda de Gemini\n   * @returns {string} - Respuesta validada y limpia\n   */\n  validateAndCleanResponse(response) {\n    if (!response || typeof response !== 'string') {\n      throw new Error('Respuesta inválida de Gemini');\n    }\n    \n    // Limpiar la respuesta\n    let cleanResponse = response.trim();\n    \n    // Remover posibles prefijos no deseados\n    cleanResponse = cleanResponse.replace(/^(Wally:|Asistente:|Bot:)\\s*/i, '');\n    \n    // Validar longitud\n    if (cleanResponse.length < 10) {\n      throw new Error('Respuesta demasiado corta');\n    }\n    \n    if (cleanResponse.length > 2000) {\n      cleanResponse = cleanResponse.substring(0, 1997) + '...';\n    }\n    \n    return cleanResponse;\n  }\n  \n  /**\n   * Genera una respuesta simulada para desarrollo\n   * @param {string} prompt - El prompt original\n   * @param {Object} context - Contexto de la conversación\n   * @returns {string} - Respuesta simulada\n   */\n  generateMockResponse(prompt, context) {\n    const mockResponses = [\n      \"¡Hola! Soy Wally, tu asistente para solicitudes de crédito. ¿Podrías proporcionarme tu email para comenzar?\",\n      \"Perfecto, ahora necesito conocer el NIT de tu empresa para continuar con la solicitud.\",\n      \"Excelente. ¿Cuál es la razón social de tu empresa?\",\n      \"Muy bien. ¿Qué monto de crédito necesitas para tu empresa?\",\n      \"Entiendo. ¿En cuántos meses te gustaría pagar este crédito?\",\n      \"Perfecto. Para finalizar, ¿qué tipo de garantía puedes ofrecer para este crédito?\"\n    ];\n    \n    // Simular delay de API\n    return new Promise((resolve) => {\n      setTimeout(() => {\n        const randomResponse = mockResponses[Math.floor(Math.random() * mockResponses.length)];\n        resolve(`[MODO DESARROLLO] ${randomResponse}`);\n      }, 500 + Math.random() * 1000);\n    });\n  }\n  \n  /**\n   * Verifica el estado del servicio\n   * @returns {Object} - Estado del servicio\n   */\n  getStatus() {\n    return {\n      initialized: this.isInitialized,\n      devMode: this.isDevMode,\n      model: geminiConfig.model,\n      configured: geminiConfig.isValid()\n    };\n  }\n  \n  /**\n   * Reinicia el servicio (útil para recargar configuración)\n   */\n  restart() {\n    this.isInitialized = false;\n    this.genAI = null;\n    this.model = null;\n    this.initialize();\n  }\n}\n\n// Crear instancia singleton\nconst geminiService = new GeminiService();\n\nexport default geminiService;","usedDeprecatedRules":[{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"D:\\CLIENTES\\Wy Credito Tecnología\\web\\wy-credito Completo v1.0\\src\\services\\orquestador.js","messages":[{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":7,"column":3,"nodeType":"MemberExpression","messageId":"unexpected","endLine":7,"endColumn":14,"suggestions":[{"messageId":"removeConsole","data":{"propertyName":"log"},"fix":{"range":[281,352],"text":""},"desc":"Remove the console.log()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":40,"column":5,"nodeType":"MemberExpression","messageId":"unexpected","endLine":40,"endColumn":16,"suggestions":[{"messageId":"removeConsole","data":{"propertyName":"log"},"fix":{"range":[1880,1938],"text":""},"desc":"Remove the console.log()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":44,"column":5,"nodeType":"MemberExpression","messageId":"unexpected","endLine":44,"endColumn":18,"suggestions":[{"messageId":"removeConsole","data":{"propertyName":"error"},"fix":{"range":[1990,2049],"text":""},"desc":"Remove the console.error()."}]},{"ruleId":"no-unused-vars","severity":1,"message":"'findError' is assigned a value but never used.","line":120,"column":41,"nodeType":"Identifier","messageId":"unusedVar","endLine":120,"endColumn":50},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":136,"column":9,"nodeType":"MemberExpression","messageId":"unexpected","endLine":136,"endColumn":20,"suggestions":[{"messageId":"removeConsole","data":{"propertyName":"log"},"fix":{"range":[5306,5372],"text":""},"desc":"Remove the console.log()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":147,"column":11,"nodeType":"MemberExpression","messageId":"unexpected","endLine":147,"endColumn":22,"suggestions":[{"messageId":"removeConsole","data":{"propertyName":"log"},"fix":{"range":[5759,5825],"text":""},"desc":"Remove the console.log()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":155,"column":11,"nodeType":"MemberExpression","messageId":"unexpected","endLine":155,"endColumn":22,"suggestions":[{"messageId":"removeConsole","data":{"propertyName":"log"},"fix":{"range":[6165,6232],"text":""},"desc":"Remove the console.log()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":180,"column":9,"nodeType":"MemberExpression","messageId":"unexpected","endLine":180,"endColumn":20,"suggestions":[{"messageId":"removeConsole","data":{"propertyName":"log"},"fix":{"range":[7232,7309],"text":""},"desc":"Remove the console.log()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":215,"column":11,"nodeType":"MemberExpression","messageId":"unexpected","endLine":215,"endColumn":22,"suggestions":[{"messageId":"removeConsole","data":{"propertyName":"log"},"fix":{"range":[8556,8625],"text":""},"desc":"Remove the console.log()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":227,"column":11,"nodeType":"MemberExpression","messageId":"unexpected","endLine":227,"endColumn":22,"suggestions":[{"messageId":"removeConsole","data":{"propertyName":"log"},"fix":{"range":[9084,9154],"text":""},"desc":"Remove the console.log()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":230,"column":9,"nodeType":"MemberExpression","messageId":"unexpected","endLine":230,"endColumn":21,"suggestions":[{"messageId":"removeConsole","data":{"propertyName":"warn"},"fix":{"range":[9188,9264],"text":""},"desc":"Remove the console.warn()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":238,"column":9,"nodeType":"MemberExpression","messageId":"unexpected","endLine":238,"endColumn":20,"suggestions":[{"messageId":"removeConsole","data":{"propertyName":"log"},"fix":{"range":[9570,9648],"text":""},"desc":"Remove the console.log()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":242,"column":7,"nodeType":"MemberExpression","messageId":"unexpected","endLine":242,"endColumn":20,"suggestions":[{"messageId":"removeConsole","data":{"propertyName":"error"},"fix":{"range":[9686,9753],"text":""},"desc":"Remove the console.error()."}]},{"ruleId":"no-useless-escape","severity":1,"message":"Unnecessary escape character: \\[.","line":283,"column":27,"nodeType":"Literal","messageId":"unnecessaryEscape","endLine":283,"endColumn":28,"suggestions":[{"messageId":"removeEscape","fix":{"range":[11035,11036],"text":""},"desc":"Remove the `\\`. This maintains the current functionality."},{"messageId":"escapeBackslash","fix":{"range":[11035,11035],"text":"\\"},"desc":"Replace the `\\` with `\\\\` to include the actual backslash character."}]},{"ruleId":"no-useless-escape","severity":1,"message":"Unnecessary escape character: \\/.","line":283,"column":44,"nodeType":"Literal","messageId":"unnecessaryEscape","endLine":283,"endColumn":45,"suggestions":[{"messageId":"removeEscape","fix":{"range":[11052,11053],"text":""},"desc":"Remove the `\\`. This maintains the current functionality."},{"messageId":"escapeBackslash","fix":{"range":[11052,11052],"text":"\\"},"desc":"Replace the `\\` with `\\\\` to include the actual backslash character."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":348,"column":11,"nodeType":"MemberExpression","messageId":"unexpected","endLine":348,"endColumn":22,"suggestions":[{"messageId":"removeConsole","data":{"propertyName":"log"},"fix":{"range":[13550,13604],"text":""},"desc":"Remove the console.log()."}]},{"ruleId":"no-empty","severity":1,"message":"Empty block statement.","line":429,"column":21,"nodeType":"BlockStatement","messageId":"unexpected","endLine":429,"endColumn":23,"suggestions":[{"messageId":"suggestComment","data":{"type":"block"},"fix":{"range":[17092,17092],"text":" /* empty */ "},"desc":"Add comment inside empty block statement."}]},{"ruleId":"no-empty","severity":1,"message":"Empty block statement.","line":454,"column":299,"nodeType":"BlockStatement","messageId":"unexpected","endLine":454,"endColumn":301,"suggestions":[{"messageId":"suggestComment","data":{"type":"block"},"fix":{"range":[18869,18869],"text":" /* empty */ "},"desc":"Add comment inside empty block statement."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":482,"column":7,"nodeType":"MemberExpression","messageId":"unexpected","endLine":482,"endColumn":20,"suggestions":[{"messageId":"removeConsole","data":{"propertyName":"error"},"fix":{"range":[19863,19912],"text":""},"desc":"Remove the console.error()."}]},{"ruleId":"no-unused-vars","severity":1,"message":"'empresaError' is assigned a value but never used.","line":502,"column":41,"nodeType":"Identifier","messageId":"unusedVar","endLine":502,"endColumn":53},{"ruleId":"no-unused-vars","severity":1,"message":"'documentosError' is assigned a value but never used.","line":509,"column":44,"nodeType":"Identifier","messageId":"unusedVar","endLine":509,"endColumn":59},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":539,"column":7,"nodeType":"MemberExpression","messageId":"unexpected","endLine":539,"endColumn":20,"suggestions":[{"messageId":"removeConsole","data":{"propertyName":"error"},"fix":{"range":[21457,21517],"text":""},"desc":"Remove the console.error()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":576,"column":7,"nodeType":"MemberExpression","messageId":"unexpected","endLine":576,"endColumn":18,"suggestions":[{"messageId":"removeConsole","data":{"propertyName":"log"},"fix":{"range":[22772,22846],"text":""},"desc":"Remove the console.log()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":577,"column":7,"nodeType":"MemberExpression","messageId":"unexpected","endLine":577,"endColumn":18,"suggestions":[{"messageId":"removeConsole","data":{"propertyName":"log"},"fix":{"range":[22853,22910],"text":""},"desc":"Remove the console.log()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":586,"column":7,"nodeType":"MemberExpression","messageId":"unexpected","endLine":586,"endColumn":20,"suggestions":[{"messageId":"removeConsole","data":{"propertyName":"error"},"fix":{"range":[23074,23126],"text":""},"desc":"Remove the console.error()."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":25,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { supabase } from '../lib/supabaseClient';\nimport { geminiModel } from '../lib/geminiClient';\nimport { conversationFlow } from '../lib/conversationFlow';\n\n// --- FUNCIÓN DE EXTRACCIÓN CON IA (VERSIÓN FRONTEND) ---\nasync function extractDataWithGemini(fileUrl, fileType) {\n  console.log(`Iniciando extracción con IA para el archivo: ${fileUrl}`);\n  \n  try {\n    // 1. Descargar el archivo desde la URL pública de Supabase\n    const response = await fetch(fileUrl);\n    const arrayBuffer = await response.arrayBuffer();\n    const fileBase64 = btoa(String.fromCharCode(...new Uint8Array(arrayBuffer)));\n    \n    // 2. Determinar el prompt de workflow correcto según el tipo de documento\n    let extractionPrompt;\n    if (fileType === 'doc_certificado_existencia') {\n      extractionPrompt = `Actúa como un analista de datos experto. Extrae el NIT (incluyendo dígito de verificación) y la Razón Social completa de este Certificado de Existencia y Representación Legal. Responde únicamente con un objeto JSON válido con las claves \"nit\" y \"razon_social\".`;\n    } else {\n      // Aquí añadiríamos prompts para otros tipos de documentos (balances, RUT, etc.)\n      extractionPrompt = `Analiza este documento y extrae la información relevante. Responde solo en formato JSON.`;\n    }\n\n    // 3. Preparar el request para la API de Gemini\n    const generativePart = {\n      inlineData: {\n        mimeType: 'application/pdf', // Asumimos PDF por ahora\n        data: fileBase64,\n      },\n    };\n\n    // 4. Llamar a la API de Gemini\n    const result = await geminiModel.generateContent([extractionPrompt, generativePart]);\n    const geminiResponseText = result.response.text();\n\n    // 5. Limpiar y parsear la respuesta JSON para asegurar que sea válida\n    const jsonString = geminiResponseText.replace(/```json|```/g, '').trim();\n    const extractedData = JSON.parse(jsonString);\n\n    console.log(\"Datos extraídos por Gemini:\", extractedData);\n    return extractedData;\n\n  } catch (error) {\n    console.error(\"Error en la extracción con Gemini:\", error);\n    // Si la IA falla, devolvemos un objeto vacío para no detener el flujo\n    return {};\n  }\n}\n\nexport class OrquestadorWally {\n  constructor() {\n    this.solicitudActual = null;\n    this.pasoActual = 'BIENVENIDA';\n  }\n\n  // MAPEO COMPLETO DE CAMPOS A TABLAS - ARQUITECTURA FINAL\n  get fieldToTableMap() {\n    return {\n      // Campos que van a la tabla 'solicitudes'\n      'nombre_solicitante': 'solicitudes',\n      'apellidos_solicitante': 'solicitudes', \n      'email': 'solicitudes',\n      'password': 'solicitudes',\n      'nombre_rl': 'solicitudes',\n      'documento_rl': 'solicitudes',\n      'telefono_rl': 'solicitudes',\n      'email_rl': 'solicitudes',\n      'monto_solicitado': 'solicitudes',\n      'plazo_solicitado': 'solicitudes',\n      'destino_credito': 'solicitudes',\n      'ingresos_mensuales': 'solicitudes',\n      'egresos_mensuales': 'solicitudes',\n      'patrimonio': 'solicitudes',\n      'confirmacion_final': 'solicitudes',\n      'aceptacion_productiva': 'solicitudes',\n      'aceptacion_no_personal': 'solicitudes',\n      'aceptacion_habeas_data': 'solicitudes',\n      \n      // Campos que van a la tabla 'empresas'\n      'nit': 'empresas',\n      'razon_social': 'empresas',\n      'tipo_empresa': 'empresas',\n      'sitio_web': 'empresas',\n      'telefono_empresa': 'empresas',\n      'direccion_empresa': 'empresas',\n      'ciudad': 'empresas',\n      'departamento': 'empresas',\n      'nombre_representante_legal': 'empresas',\n      'documento_representante_legal': 'empresas',\n      'celular_representante_legal': 'empresas',\n      'proposito_recursos': 'empresas',\n      'detalle_activos_fijos': 'empresas',\n      'nombre_referencia_1': 'empresas',\n      'telefono_referencia_1': 'empresas',\n      'nombre_referencia_2': 'empresas',\n      'telefono_referencia_2': 'empresas',\n      'nombre_referencia_3': 'empresas',\n      'telefono_referencia_3': 'empresas',\n      'nombre_referencia_4': 'empresas',\n      'telefono_referencia_4': 'empresas',\n      \n      // URLs de documentos que van a la tabla 'documentos'\n      'url_doc_identidad': 'documentos',\n      'url_certificado_existencia': 'documentos',\n      'url_composicion_accionaria': 'documentos',\n      'url_declaracion_renta': 'documentos',\n      'url_estados_financieros': 'documentos',\n      \n      // Campos de garantía que van a la tabla 'garantias'\n      'descripcion_garantia': 'garantias',\n      'valor_estimado_garantia': 'garantias',\n      'url_foto_garantia': 'garantias'\n    };\n  }\n\n  // FUNCIÓN ENRUTADORA DE DATOS - Arquitectura Multi-tabla FINAL\n  async saveData(solicitudId, field, value) {\n    try {\n      // Primero, busca si ya existe una empresa asociada a esta solicitud\n      const { data: empresaData, error: findError } = await supabase\n        .from('empresas')\n        .select('id')\n        .eq('solicitud_id', solicitudId)\n        .single();\n\n      const targetTable = this.fieldToTableMap[field];\n\n      if (targetTable === 'solicitudes') {\n        // Lógica para actualizar la tabla 'solicitudes'\n        const { error } = await supabase\n          .from('solicitudes')\n          .update({ [field]: value })\n          .eq('id', solicitudId);\n        \n        if (error) throw new Error(`Error actualizando solicitudes: ${error.message}`);\n        console.log(`✅ Campo '${field}' guardado en solicitudes:`, value);\n\n      } else if (targetTable === 'empresas') {\n        if (empresaData) {\n          // Si la empresa ya existe, la actualiza\n          const { error } = await supabase\n            .from('empresas')\n            .update({ [field]: value })\n            .eq('id', empresaData.id);\n          \n          if (error) throw new Error(`Error actualizando empresas: ${error.message}`);\n          console.log(`✅ Campo '${field}' actualizado en empresas:`, value);\n        } else {\n          // Si no existe, la crea (caso del primer dato de la empresa)\n          const { error } = await supabase\n            .from('empresas')\n            .insert({ [field]: value, solicitud_id: solicitudId });\n          \n          if (error) throw new Error(`Error insertando en empresas: ${error.message}`);\n          console.log(`✅ Nueva empresa creada con campo '${field}':`, value);\n        }\n      } else if (targetTable === 'documentos') {\n        // Lógica para guardar URLs de documentos en la tabla 'documentos'\n        const tipoDocumentoMap = {\n          'url_doc_identidad': 'documento_identidad_representante',\n          'url_certificado_existencia': 'certificado_existencia_representacion',\n          'url_composicion_accionaria': 'composicion_accionaria',\n          'url_declaracion_renta': 'declaracion_renta',\n          'url_estados_financieros': 'estados_financieros'\n        };\n        \n        const tipoDocumento = tipoDocumentoMap[field];\n        const nombreArchivo = value.split('/').pop();\n        \n        const { error } = await supabase\n          .from('documentos')\n          .insert({\n            solicitud_id: solicitudId,\n            tipo_documento: tipoDocumento,\n            url_archivo: value,\n            nombre_archivo: nombreArchivo\n          });\n        \n        if (error) throw new Error(`Error insertando documento: ${error.message}`);\n        console.log(`✅ Documento '${tipoDocumento}' guardado en documentos:`, value);\n        \n      } else if (targetTable === 'garantias') {\n        // Lógica para guardar datos de garantía en la tabla 'garantias'\n        // Mapear campos de garantía a nombres de columna correctos\n        const garantiaFieldMap = {\n          'descripcion_garantia': 'descripcion',\n          'valor_estimado_garantia': 'valor_estimado',\n          'url_foto_garantia': 'url_foto'\n        };\n        \n        const dbField = garantiaFieldMap[field] || field;\n        \n        // Verificar si ya existe una garantía para esta empresa\n        let garantiaData = null;\n        if (empresaData) {\n          const { data: garantia, error: findGarantiaError } = await supabase\n            .from('garantias')\n            .select('id')\n            .eq('empresa_id', empresaData.id)\n            .single();\n          \n          if (!findGarantiaError) {\n            garantiaData = garantia;\n          }\n        }\n\n        if (garantiaData) {\n          // Si la garantía ya existe, la actualiza\n          const { error } = await supabase\n            .from('garantias')\n            .update({ [dbField]: value })\n            .eq('id', garantiaData.id);\n          \n          if (error) throw new Error(`Error actualizando garantía: ${error.message}`);\n          console.log(`✅ Campo '${dbField}' actualizado en garantías:`, value);\n        } else {\n          // Si no existe, la crea (necesita empresa_id)\n          if (!empresaData) {\n            throw new Error('No se puede crear garantía sin empresa asociada');\n          }\n          \n          const { error } = await supabase\n            .from('garantias')\n            .insert({ [dbField]: value, empresa_id: empresaData.id });\n          \n          if (error) throw new Error(`Error insertando garantía: ${error.message}`);\n          console.log(`✅ Nueva garantía creada con campo '${dbField}':`, value);\n        }\n      } else {\n        console.warn(`⚠️ Campo \"${field}\" no tiene una tabla de destino definida.`);\n        // Fallback: guardar en solicitudes como antes\n        const { error } = await supabase\n          .from('solicitudes')\n          .update({ [field]: value })\n          .eq('id', solicitudId);\n        \n        if (error) throw new Error(`Error en fallback a solicitudes: ${error.message}`);\n        console.log(`⚠️ Campo '${field}' guardado en solicitudes (fallback):`, value);\n      }\n\n    } catch (error) {\n      console.error(`❌ Error en saveData para campo '${field}':`, error);\n      throw error;\n    }\n  }\n\n  // Validacion robusta de email\n  validarEmail(email) {\n    if (!email || typeof email !== 'string') {\n      return { esValido: false, mensaje: 'El email es requerido.' };\n    }\n\n    const emailRegex = /^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,}$/;\n    if (!emailRegex.test(email)) {\n      return { esValido: false, mensaje: 'El formato del email no es valido.' };\n    }\n\n    return { esValido: true, mensaje: 'Email valido.' };\n  }\n\n  // Validacion robusta de contraseña\n  validarContrasenaRobusta(contrasena) {\n    if (!contrasena || typeof contrasena !== 'string') {\n      return { esValido: false, mensaje: 'La contraseña es requerida.' };\n    }\n\n    if (contrasena.length < 8) {\n      return { esValido: false, mensaje: 'La contraseña debe tener al menos 8 caracteres.' };\n    }\n\n    if (!/[A-Z]/.test(contrasena)) {\n      return { esValido: false, mensaje: 'La contraseña debe contener al menos una letra mayuscula.' };\n    }\n\n    if (!/[a-z]/.test(contrasena)) {\n      return { esValido: false, mensaje: 'La contraseña debe contener al menos una letra minuscula.' };\n    }\n\n    if (!/[0-9]/.test(contrasena)) {\n      return { esValido: false, mensaje: 'La contraseña debe contener al menos un numero.' };\n    }\n\n    if (!/[!@#$%^&*()_+\\-=\\[\\]{};':\"\\\\|,.<>\\/?]/.test(contrasena)) {\n      return { esValido: false, mensaje: 'La contraseña debe contener al menos un simbolo especial.' };\n    }\n\n    return { esValido: true, mensaje: 'Contraseña valida.' };\n  }\n\n  // Validacion de NIT\n  validarNIT(nit) {\n    if (!nit || typeof nit !== 'string') {\n      return { esValido: false, mensaje: 'El NIT es requerido.' };\n    }\n\n    const nitLimpio = nit.replace(/[^0-9]/g, '');\n    if (nitLimpio.length < 8 || nitLimpio.length > 10) {\n      return { esValido: false, mensaje: 'El NIT debe tener entre 8 y 10 digitos.' };\n    }\n\n    return { esValido: true, mensaje: 'NIT valido.' };\n  }\n\n  // FUNCIÓN PRINCIPAL: Procesar mensaje completo (migrada desde API)\n  async procesarMensaje({ messages, currentStep, sessionId, isFileUpload }) {\n    try {\n      if (!sessionId) {\n        throw new Error(\"ID de sesión no proporcionado.\");\n      }\n      \n      const userMessage = messages[messages.length - 1].text;\n      const currentLogic = conversationFlow.find(step => step.step === currentStep);\n      \n      if (!currentLogic) {\n        return { \n          reply: \"Ya ha completado todos los pasos.\", \n          nextStep: currentStep \n        };\n      }\n\n      // Obtener datos de la solicitud\n      const { data: solicitudData, error: fetchError } = await supabase\n          .from('solicitudes').select('*').eq('id', sessionId).single();\n      \n      if (fetchError) throw fetchError;\n\n      const nombreSolicitante = solicitudData?.nombre_solicitante?.split(' ')[0] || '';\n\n      // --- LÓGICA FINAL DE ENVÍO ---\n      if (currentLogic.field === 'confirmacion_final') {\n        if (userMessage.toLowerCase().includes('sí')) {\n          // 1. Actualizar el estado de la solicitud en la BD\n          await supabase.from('solicitudes').update({ estado: 'pendiente' }).eq('id', sessionId);\n\n          // 2. Obtener todos los datos necesarios para el correo\n          const { data: solicitudCompleta } = await supabase.from('solicitudes').select('*').eq('id', sessionId).single();\n\n          // 3. Llamar a nuestra propia API para enviar el correo (esto necesitará ser adaptado)\n          const emailPayload = {\n            emailTo: solicitudCompleta.email,\n            nombreSolicitante: solicitudCompleta.nombre_solicitante,\n            montoSolicitado: solicitudCompleta.monto_solicitado,\n            plazo: solicitudCompleta.plazo_seleccionado,\n            solicitudId: sessionId,\n          };\n\n          // Por ahora, solo logueamos el payload del email\n          console.log(\"Email payload preparado:\", emailPayload);\n\n          return {\n            reply: \"¡Solicitud enviada con éxito! Recibirá un correo de confirmación con todos los detalles. Gracias por confiar en Wy Credito.\",\n            nextStep: currentLogic.nextStep\n          };\n        } else {\n          // Lógica si el usuario cancela\n          await supabase.from('solicitudes').update({ estado: 'cancelada' }).eq('id', sessionId);\n          return { \n            reply: \"Entendido. Su solicitud ha sido cancelada. Puede cerrar esta ventana.\", \n            nextStep: currentStep \n          };\n        }\n      }\n\n      // --- Manejo de archivos ---\n      if (isFileUpload) {\n          const fileUrl = userMessage;\n          const fileType = currentLogic.field;\n          \n          // --- Llamada a la nueva función de IA ---\n          const extractedData = await extractDataWithGemini(fileUrl, fileType);\n          \n          // Guardar los datos extraídos por la IA usando la función enrutadora\n          for (const [field, value] of Object.entries(extractedData)) {\n            await this.saveData(sessionId, field, value);\n          }\n          await supabase.from('documentos').insert({ \n            solicitud_id: sessionId, \n            tipo_documento: fileType, \n            url_archivo: fileUrl, \n            nombre_archivo: fileUrl.split('/').pop() \n          });\n          \n          let reply = currentLogic.prompt.replace('{nombre_solicitante}', nombreSolicitante);\n          return { \n            reply: `¡Perfecto! He procesado el documento y extraje los datos. ${reply}`, \n            nextStep: currentLogic.nextStep \n          };\n      }\n      \n      // --- Flujo normal de validación de texto ---\n      let isValid = false;\n      \n      // Validación para preguntas con opciones\n      if (currentLogic.options) {\n        isValid = currentLogic.options.map(opt => opt.toLowerCase()).includes(userMessage.toLowerCase().trim());\n      } else if (currentLogic.validation.type === 'text') {\n        isValid = userMessage.trim().length >= (currentLogic.validation.minLength || 1);\n  } else if (currentLogic.validation.type === 'email') {\n        isValid = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test(userMessage);\n  } else if (currentLogic.validation.type === 'phone') {\n        isValid = /^\\d{10}$/.test(userMessage.replace(/\\D/g, ''));\n      } else if (currentLogic.validation.type === 'cedula') {\n        isValid = /^\\d{8,10}$/.test(userMessage.replace(/\\D/g, ''));\n      } else if (currentLogic.validation.type === 'confirmation') {\n        isValid = true; // Para confirmaciones, siempre es válido\n      }\n\n      if (!isValid) {\n          let errorMessage = currentLogic.errorMessage.replace('{nombre_solicitante}', nombreSolicitante);\n          return { \n            reply: errorMessage, \n            nextStep: currentStep \n          };\n      }\n\n      // Guardar la respuesta del usuario usando la nueva función enrutadora\n      await this.saveData(sessionId, currentLogic.field, userMessage);\n\n      // Si acabamos de capturar el email, disparamos envío de código OTP\n      if (currentLogic.field === 'email') {\n        try {\n          const nombreCompleto = solicitudData?.nombre_solicitante || '';\n          // Llamar API OTP para enviar el código\n          await fetch('/api/email-verify', {\n            method: 'POST',\n            headers: { 'Content-Type': 'application/json' },\n            body: JSON.stringify({ action: 'send_code', sessionId, email: userMessage, nombre: nombreCompleto })\n          });\n        } catch (_) {}\n      }\n      \n      // --- Flujo normal de la conversación ---\n      const nextLogic = conversationFlow.find(step => step.step === currentLogic.nextStep);\n      const nextMessage = nextLogic ? (nextLogic.question || nextLogic.prompt).replace('{nombre_solicitante}', nombreSolicitante) : \"Ya hemos completado la solicitud.\";\n\n      // Si estamos en el paso de verificación de código, validar contra la API\n      if (currentLogic.field === 'email_verification_code') {\n        try {\n          const { data: solicitudRow } = await supabase.from('solicitudes').select('email, nombre_solicitante').eq('id', sessionId).single();\n          const verifyRes = await fetch('/api/email-verify', {\n            method: 'POST',\n            headers: { 'Content-Type': 'application/json' },\n            body: JSON.stringify({ action: 'verify_code', sessionId, email: solicitudRow?.email || solicitudRow?.email_solicitante, code: userMessage })\n          });\n          const verifyJson = await verifyRes.json();\n          if (!verifyJson?.ok) {\n            const errorMap = {\n              expired: 'El código ha expirado. Te envié uno nuevo a tu correo.',\n              invalid_code: 'El código ingresado no es válido. Intenta nuevamente.',\n              not_found: 'No encontramos un código activo. Te envié uno nuevo a tu correo.',\n            };\n            // Si expiró o no existe, volver a enviar\n            if (verifyJson?.error === 'expired' || verifyJson?.error === 'not_found') {\n              try { await fetch('/api/email-verify', { method: 'POST', headers: { 'Content-Type': 'application/json' }, body: JSON.stringify({ action: 'send_code', sessionId, email: solicitudRow?.email || solicitudRow?.email_solicitante, nombre: solicitudRow?.nombre_solicitante }) }); } catch (_) {}\n            }\n            return { reply: errorMap[verifyJson?.error] || 'No pudimos verificar el código. Revisa tu correo e intenta de nuevo.', nextStep: currentStep };\n          }\n          // Éxito: avanzamos al siguiente paso (contraseña)\n          return { reply: '✅ Correo verificado correctamente. Continuemos.', nextStep: currentLogic.nextStep };\n        } catch (e) {\n          return { reply: 'Ocurrió un error verificando tu código. Intenta de nuevo.', nextStep: currentStep };\n        }\n      }\n      \n      // Construir respuesta base\n      const response = { \n        reply: nextMessage, \n        nextStep: currentLogic.nextStep \n      };\n      \n      // Añadir uiType y options si existen en la definición del paso siguiente\n      if (nextLogic && nextLogic.uiType) {\n        response.uiType = nextLogic.uiType;\n      }\n      if (nextLogic && nextLogic.options) {\n        response.options = nextLogic.options;\n      }\n      \n      return response;\n\n    } catch (error) {\n      console.error(\"Error en el Orquestador:\", error);\n      return { \n        error: \"Hubo un error procesando su solicitud.\" \n      };\n    }\n  }\n\n  // FUNCIÓN FINAL: Obtener todos los datos del resumen\n  async getSummaryData(sessionId) {\n    try {\n      // Obtener datos de la solicitud\n      const { data: solicitudData, error: solicitudError } = await supabase\n        .from('solicitudes')\n        .select('*')\n        .eq('id', sessionId)\n        .single();\n\n      if (solicitudError) throw new Error(`Error obteniendo solicitud: ${solicitudError.message}`);\n\n      // Obtener datos de la empresa\n      const { data: empresaData, error: empresaError } = await supabase\n        .from('empresas')\n        .select('*')\n        .eq('solicitud_id', sessionId)\n        .single();\n\n      // Obtener documentos\n      const { data: documentosData, error: documentosError } = await supabase\n        .from('documentos')\n        .select('*')\n        .eq('solicitud_id', sessionId);\n\n      // Obtener garantía (si existe)\n      let garantiaData = null;\n      if (empresaData) {\n        const { data: garantia, error: garantiaError } = await supabase\n          .from('garantias')\n          .select('*')\n          .eq('empresa_id', empresaData.id)\n          .single();\n        \n        if (!garantiaError) {\n          garantiaData = garantia;\n        }\n      }\n\n      return {\n        success: true,\n        data: {\n          solicitud: solicitudData,\n          empresa: empresaData,\n          documentos: documentosData || [],\n          garantia: garantiaData\n        }\n      };\n\n    } catch (error) {\n      console.error(\"Error obteniendo datos del resumen:\", error);\n      return {\n        success: false,\n        error: error.message\n      };\n    }\n  }\n\n  // FUNCIÓN FINAL: Completar el envío de la solicitud\n  async completeSubmission(sessionId) {\n    try {\n      // Generar código de seguimiento único\n      const trackingCode = `WY-${Date.now()}-${Math.random().toString(36).substr(2, 9).toUpperCase()}`;\n\n      // Actualizar el estado de la solicitud\n      const { error: updateError } = await supabase\n        .from('solicitudes')\n        .update({ \n          status: 'pendiente_revision',\n          codigo_seguimiento: trackingCode,\n          fecha_envio: new Date().toISOString()\n        })\n        .eq('id', sessionId);\n\n      if (updateError) throw new Error(`Error actualizando solicitud: ${updateError.message}`);\n\n      // Obtener datos del solicitante para el email\n      const { data: solicitudData, error: solicitudError } = await supabase\n        .from('solicitudes')\n        .select('email, nombre_solicitante, apellidos_solicitante')\n        .eq('id', sessionId)\n        .single();\n\n      if (solicitudError) throw new Error(`Error obteniendo datos del solicitante: ${solicitudError.message}`);\n\n      // TODO: Aquí se enviaría el email de confirmación\n      // Por ahora solo simulamos el envío\n      console.log(`📧 Email de confirmación enviado a: ${solicitudData.email}`);\n      console.log(`📋 Código de seguimiento: ${trackingCode}`);\n\n      return {\n        success: true,\n        trackingCode: trackingCode,\n        message: 'Solicitud enviada exitosamente'\n      };\n\n    } catch (error) {\n      console.error(\"Error completando el envío:\", error);\n      return {\n        success: false,\n        error: error.message\n      };\n    }\n  }\n}\n\nexport default OrquestadorWally;\n","usedDeprecatedRules":[{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"D:\\CLIENTES\\Wy Credito Tecnología\\web\\wy-credito Completo v1.0\\src\\services\\solicitud.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"D:\\CLIENTES\\Wy Credito Tecnología\\web\\wy-credito Completo v1.0\\src\\theme\\muiTheme.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"D:\\CLIENTES\\Wy Credito Tecnología\\web\\wy-credito Completo v1.0\\src\\views\\ApplicationView.jsx","messages":[{"ruleId":"no-unused-vars","severity":1,"message":"'useEffect' is defined but never used.","line":1,"column":27,"nodeType":"Identifier","messageId":"unusedVar","endLine":1,"endColumn":36},{"ruleId":"import/no-named-as-default","severity":1,"message":"Using exported name 'OrquestadorWally' as identifier for default import.","line":15,"column":8,"nodeType":"ImportDefaultSpecifier","endLine":15,"endColumn":24},{"ruleId":"no-unused-vars","severity":1,"message":"'orquestador' is assigned a value but never used.","line":68,"column":10,"nodeType":"Identifier","messageId":"unusedVar","endLine":68,"endColumn":21},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":103,"column":7,"nodeType":"MemberExpression","messageId":"unexpected","endLine":103,"endColumn":20,"suggestions":[{"messageId":"removeConsole","data":{"propertyName":"error"},"fix":{"range":[3529,3576],"text":""},"desc":"Remove the console.error()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":136,"column":7,"nodeType":"MemberExpression","messageId":"unexpected","endLine":136,"endColumn":20,"suggestions":[{"messageId":"removeConsole","data":{"propertyName":"error"},"fix":{"range":[4407,4469],"text":""},"desc":"Remove the console.error()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":162,"column":7,"nodeType":"MemberExpression","messageId":"unexpected","endLine":162,"endColumn":20,"suggestions":[{"messageId":"removeConsole","data":{"propertyName":"error"},"fix":{"range":[5069,5123],"text":""},"desc":"Remove the console.error()."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useState, useEffect } from 'react';\nimport { Box, Stepper, Step, StepLabel, Typography, Container, Paper } from '@mui/material';\nimport { styled } from '@mui/material/styles';\n\n// Importar todos los componentes de formulario\nimport FormularioEmpresa from '../components/forms/FormularioEmpresa';\nimport FormularioFinanciero from '../components/forms/FormularioFinanciero';\nimport FormularioDocumentacion from '../components/forms/FormularioDocumentacion';\nimport FormularioReferencias from '../components/forms/FormularioReferencias';\nimport FormularioAceptacion from '../components/forms/FormularioAceptacion';\nimport FormularioGarantia from '../components/forms/FormularioGarantia';\nimport PantallaResumen from '../components/forms/PantallaResumen';\n\n// Importar el orquestador\nimport OrquestadorWally from '../services/orquestador';\n\n// Styled components\nconst StyledContainer = styled(Container)(({ theme }) => ({\n  minHeight: '100vh',\n  paddingTop: theme.spacing(4),\n  paddingBottom: theme.spacing(4),\n  background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',\n}));\n\nconst StyledPaper = styled(Paper)(({ theme }) => ({\n  padding: theme.spacing(4),\n  borderRadius: theme.spacing(2),\n  boxShadow: '0 20px 40px rgba(0,0,0,0.1)',\n  background: 'rgba(255, 255, 255, 0.95)',\n  backdropFilter: 'blur(10px)',\n}));\n\nconst StyledStepper = styled(Stepper)(({ theme }) => ({\n  marginBottom: theme.spacing(4),\n  '& .MuiStepLabel-root': {\n    '& .MuiStepLabel-label': {\n      fontSize: '0.875rem',\n      fontWeight: 500,\n    },\n  },\n  '& .MuiStepIcon-root': {\n    fontSize: '1.5rem',\n    '&.Mui-active': {\n      color: '#667eea',\n    },\n    '&.Mui-completed': {\n      color: '#4caf50',\n    },\n  },\n}));\n\n// Definición de los 7 pasos del flujo completo\nconst steps = [\n  { id: 1, label: 'Información Empresarial', component: 'empresa' },\n  { id: 2, label: 'Documentación Legal', component: 'documentacion' },\n  { id: 3, label: 'Información Financiera', component: 'financiero' },\n  { id: 4, label: 'Referencias Comerciales', component: 'referencias' },\n  { id: 5, label: 'Declaraciones y Aceptación', component: 'aceptacion' },\n  { id: 6, label: 'Garantía', component: 'garantia' },\n  { id: 7, label: 'Resumen Final', component: 'resumen' }\n];\n\nconst ApplicationView = ({ sessionId }) => {\n  // Estados principales\n  const [currentStep, setCurrentStep] = useState(1);\n  const [formData, setFormData] = useState({});\n  const [loading, setLoading] = useState(false);\n  const [orquestador] = useState(new OrquestadorWally());\n\n  // Función para avanzar al siguiente paso\n  const handleNext = async (stepData = {}) => {\n    try {\n      setLoading(true);\n      \n      // Actualizar datos del formulario\n      const updatedFormData = { ...formData, ...stepData };\n      setFormData(updatedFormData);\n\n      // Guardar datos del paso actual\n      if (Object.keys(stepData).length > 0) {\n        const response = await fetch('/api/orchestrator', {\n          method: 'POST',\n          headers: { 'Content-Type': 'application/json' },\n          body: JSON.stringify({\n            action: 'submit_form_step',\n            sessionId: sessionId,\n            stepData: stepData,\n            currentStep: currentStep\n          })\n        });\n\n        if (!response.ok) {\n          throw new Error('Error guardando datos del paso');\n        }\n      }\n\n      // Avanzar al siguiente paso si no estamos en el último\n      if (currentStep < steps.length) {\n        setCurrentStep(currentStep + 1);\n      }\n\n    } catch (error) {\n      console.error('❌ Error en handleNext:', error);\n      alert('Error guardando los datos. Por favor, inténtelo de nuevo.');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Función para retroceder al paso anterior\n  const handleBack = () => {\n    if (currentStep > 1) {\n      setCurrentStep(currentStep - 1);\n    }\n  };\n\n  // Función para obtener datos del resumen\n  const getSummaryData = async () => {\n    try {\n      const response = await fetch('/api/orchestrator', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({\n          action: 'get_summary_data',\n          sessionId: sessionId\n        })\n      });\n\n      if (!response.ok) {\n        throw new Error('Error obteniendo datos del resumen');\n      }\n\n      const result = await response.json();\n      return result.data;\n    } catch (error) {\n      console.error('❌ Error obteniendo datos del resumen:', error);\n      return null;\n    }\n  };\n\n  // Función para completar el envío\n  const completeSubmission = async () => {\n    try {\n      setLoading(true);\n      \n      const response = await fetch('/api/orchestrator', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({\n          action: 'complete_submission',\n          sessionId: sessionId\n        })\n      });\n\n      if (!response.ok) {\n        throw new Error('Error completando el envío');\n      }\n\n      const result = await response.json();\n      return result;\n    } catch (error) {\n      console.error('❌ Error completando el envío:', error);\n      throw error;\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Renderizar el componente del paso actual\n  const renderStepComponent = () => {\n    const currentStepData = steps.find(step => step.id === currentStep);\n    \n    if (!currentStepData) {\n      return <Typography>Paso no encontrado</Typography>;\n    }\n\n    const commonProps = {\n      onNext: handleNext,\n      onBack: handleBack,\n      formData: formData,\n      loading: loading,\n      sessionId: sessionId,\n      isFirstStep: currentStep === 1,\n      isLastStep: currentStep === steps.length\n    };\n\n    switch (currentStepData.component) {\n      case 'empresa':\n        return <FormularioEmpresa {...commonProps} />;\n      \n      case 'documentacion':\n        return <FormularioDocumentacion {...commonProps} />;\n      \n      case 'financiero':\n        return <FormularioFinanciero {...commonProps} />;\n      \n      case 'referencias':\n        return <FormularioReferencias {...commonProps} />;\n      \n      case 'aceptacion':\n        return <FormularioAceptacion {...commonProps} />;\n      \n      case 'garantia':\n        return <FormularioGarantia {...commonProps} />;\n      \n      case 'resumen':\n        return (\n          <PantallaResumen \n            {...commonProps}\n            getSummaryData={getSummaryData}\n            completeSubmission={completeSubmission}\n          />\n        );\n      \n      default:\n        return <Typography>Componente no encontrado</Typography>;\n    }\n  };\n\n  if (!sessionId) {\n    return (\n      <StyledContainer maxWidth=\"md\">\n        <StyledPaper>\n          <Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\" minHeight=\"200px\">\n            <Typography variant=\"h6\">Inicializando aplicación...</Typography>\n          </Box>\n        </StyledPaper>\n      </StyledContainer>\n    );\n  }\n\n  return (\n    <StyledContainer maxWidth=\"lg\">\n      <StyledPaper>\n        {/* Header con título */}\n        <Box textAlign=\"center\" mb={4}>\n          <Typography variant=\"h4\" component=\"h1\" gutterBottom sx={{ \n            fontWeight: 'bold', \n            color: '#333',\n            background: 'linear-gradient(45deg, #667eea, #764ba2)',\n            backgroundClip: 'text',\n            WebkitBackgroundClip: 'text',\n            WebkitTextFillColor: 'transparent'\n          }}>\n            Solicitud de Crédito Empresarial\n          </Typography>\n          <Typography variant=\"subtitle1\" color=\"text.secondary\">\n            Complete todos los pasos para enviar su solicitud\n          </Typography>\n        </Box>\n\n        {/* Stepper de progreso */}\n        <StyledStepper activeStep={currentStep - 1} alternativeLabel>\n          {steps.map((step) => (\n            <Step key={step.id}>\n              <StepLabel>{step.label}</StepLabel>\n            </Step>\n          ))}\n        </StyledStepper>\n\n        {/* Indicador de paso actual */}\n        <Box textAlign=\"center\" mb={3}>\n          <Typography variant=\"h6\" color=\"primary\">\n            Paso {currentStep} de {steps.length}: {steps.find(s => s.id === currentStep)?.label}\n          </Typography>\n        </Box>\n\n        {/* Contenido del paso actual */}\n        <Box>\n          {renderStepComponent()}\n        </Box>\n\n        {/* Footer con información de sesión (solo en desarrollo) */}\n        {process.env.NODE_ENV === 'development' && (\n          <Box mt={4} p={2} bgcolor=\"grey.100\" borderRadius={1}>\n            <Typography variant=\"caption\" color=\"text.secondary\">\n              Sesión: {sessionId} | Paso: {currentStep}/{steps.length}\n            </Typography>\n          </Box>\n        )}\n      </StyledPaper>\n    </StyledContainer>\n  );\n};\n\nexport default ApplicationView;","usedDeprecatedRules":[{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]}]